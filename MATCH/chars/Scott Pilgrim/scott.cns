;SCOTT PILGRAM CONSTANTS
[Data]
life = 1000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volumescale = 100
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1
yscale = 1
ground.back = 15
ground.front = 16
air.back = 12
air.front = 12
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5, -90
mid.pos = -5, -60
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 2.4      ;Walk forward
walk.back = -2.2     ;Walk backward
run.fwd  = 4.6, 0    ;Run forward (x, y)
run.back = -5.5,-3.8 ;Hop backward (x, y)
jump.neu = 0,-8.4    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 2.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.
air.gethit.groundrecover = -.15,-3.5  ;Velocity for ground recovery state (x, y) **MUGEN 1.0**
air.gethit.airrecover.mul = .5,.2     ;Multiplier for air recovery velocity (x, y) **MUGEN 1.0**
air.gethit.airrecover.add = 0,-4.5    ;Velocity offset for air recovery (x, y) **MUGEN 1.0**
air.gethit.airrecover.back = -1       ;Extra x-velocity for holding back during air recovery **MUGEN 1.0**
air.gethit.airrecover.fwd = 0         ;Extra x-velocity for holding forward during air recovery **MUGEN 1.0**
air.gethit.airrecover.up = -2         ;Extra y-velocity for holding up during air recovery **MUGEN 1.0**
air.gethit.airrecover.down = 1.5      ;Extra y-velocity for holding down during air recovery **MUGEN 1.0**

[Movement]
airjump.num = 1       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .44          ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching
stand.friction.threshold = 2          ;If player's speed drops below this threshold while standing, stop his movement **MUGEN 1.0**
crouch.friction.threshold = .05       ;If player's speed drops below this threshold while crouching, stop his movement **MUGEN 1.0**
air.gethit.groundlevel = 0           ;Y-position at which a falling player is considered to hit the ground **MUGEN 1.0**
air.gethit.groundrecover.ground.threshold = 0 ;Y-position below which falling player can use the recovery command **MUGEN 1.0**
air.gethit.groundrecover.groundlevel = 0   ;Y-position at which player in the ground recovery state touches the ground **MUGEN 1.0**
air.gethit.airrecover.threshold = -1  ;Y-velocity above which player may use the air recovery command **MUGEN 1.0**
air.gethit.airrecover.yaccel = .35    ;Vertical acceleration for player in the air recovery state **MUGEN 1.0**
air.gethit.trip.groundlevel = 0     ;Y-position at which player in the tripped state touches the ground **MUGEN 1.0**
down.bounce.offset = 0, 0            ;Offset for player bouncing off the ground (x, y) **MUGEN 1.0**
down.bounce.yaccel = .4               ;Vertical acceleration for player bouncing off the ground **MUGEN 1.0**
down.bounce.groundlevel = 0          ;Y-position at which player bouncing off the ground touches the ground again **MUGEN 1.0**
down.friction.threshold = .05         ;If the player's speed drops below this threshold while lying down, stop his movement **MUGEN 1.0**

[Quotes]
victory1 = "I kind of feel like I'm on drugs when I'm with you. Not that I do drugs. Unless you do drugs. Then I do drugs all the time, every drug."
victory2 = "You cocky cock! You'll pay for your crimes against humanity!"
victory3 = "You once were a ve-gone, but now you will be gone!"
;---------------------------------------------------------------------------
; Run Forward
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 9015
ID = 9015
pos = 0,0
postype = p1
facing = 1
vel = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

; CHASING AFTER
[State 100, CHASING AFTER]
Type=Changestate
Triggerall=var(59)>0 
Triggerall=abs(P2Bodydist X)>25 
Trigger1=anim !=100 && stateno!=100
value=0

[State 100, 4]
type = ChangeState
Triggerall=var(59)=0
trigger1 = command != "holdfwd"
value = 0
;---------------------------------------------------------------------------
; Roll Back
[Statedef 105]
type = S
ctrl = 0
anim = 105
velset = const(velocity.run.back.x),0

[State 0, VelMul]
type = VelMul
trigger1 = time > 15
x = .5

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 9015
ID = 9015
pos = 15,0
postype = p1
facing = -1
vel = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 6

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S170,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181+random%4

;---------------------------------------------------------------------------
; Win pose 1 - Arm Rise
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S180,0+random%3

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 2 - Thumbs Up
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S181,0+random%3

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 3 - Mega Man
[Statedef 183]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 181, Still Winning]
type = AssertSpecial
trigger1 = time < 400 ;This should be changed.
flag = roundNotOver

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 17
value = S183,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S183,0+random%3

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 4 - Classic
[Statedef 184]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S182,0+random%4

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 6 - VS Ramona
[Statedef 186]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S180,0+random%3

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 7 - VS Lucas
[Statedef 187]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S180,0+random%3

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 8 - VS Gideon
[Statedef 188]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S180,0+random%3

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 9 - VS Nega Scott
[Statedef 189]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S180,0+random%3

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Intro decider
[Statedef 190]
type = S

[State 191, 3]
Type = ChangeState
trigger1 = !Time
Value = 191+random%3

;---------------------------------------------------------------------------
; Introduction 
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S183,5

[State 191, Snd 2]
type = PlaySnd
trigger1 = Animelem = 13
value = 190,0

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction 2
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,5

[State 191, Snd 2]
type = PlaySnd
trigger1 = Animelem = 42
value = 191,0

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction 3
; CNS difficulty: basic
[Statedef 193]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, Explod]
type = Explod
trigger1 = Time = 1
anim = 193
ID = 193
pos = -200,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 3,0
accel = 0,0
random = 0,0
removetime = 300
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = Time = 35
anim = 194
ID = 194
pos = -200,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 3.5,0
accel = 0,0
random = 0,0
removetime = 300
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 191, Snd 2]
type = PlaySnd
trigger1 = Animelem = 32
value = 192,0+random%2

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = A
physics = S
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Movecontact =1
flag = nomusic
;ignorehitpause = 
;persistent = 

[State 0, PlaySnd]
type = PlaySnd
Triggerall = Movecontact
trigger1 = animelem = 7
value = S195,0+random%2
volumescale = 100

[State 0, VarAdd]
type = VarAdd
triggerall = var(10)>=6
trigger1 = Animtime = 0
v = 10     ;fv = 
value = -2

[State 0, Explod]
type = Explod
triggerall = var(10)>=6
trigger1 = animelem = 5
anim = 9015
ID = 9015
pos = -15,0
postype = p1
vel = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = var(10)>=6
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 2000,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
;guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,8                 ;Time attacker pauses, time opponent shakes
sparkno = -1                     ;Spark anim no (Def: set above)
sparkxy = -5, -36               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s8,0                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0,0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
EnvShake.time = 15
EnvShake.freq = 60
EnvShake.ampl = -4
EnvShake.phase = 90
P2stateno = 5500


[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit ;&& enemy,stateno = 5500
value = S11,1
volumescale = 250
channel = -1
ignorehitpause = 1
persistent = 0

[State 0, Explod] ; Left
type = Explod
trigger1 = movehit && enemy,stateno = 5500
anim = 3100
ID = 3100
pos = 17,-37
postype = p1
vel = -2,0
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 3
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, Explod] ; Left Up
type = Explod
trigger1 = movehit && enemy,stateno = 5500
anim = 3100
ID = 3100
pos = 17,-37
postype = p1
vel = -1.5,-1.5
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 3
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, Explod] ; Right
type = Explod
trigger1 = movehit && enemy,stateno = 5500
anim = 3100
ID = 3100
pos = 17,-37
postype = p1
vel = 2,0
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 3
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, Explod] ; Right Up
type = Explod
trigger1 = movehit && enemy,stateno = 5500
anim = 3100
ID = 3100
pos = 17,-37
postype = p1
vel = 1.5,-1.5
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 3
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, Explod] ; Up
type = Explod
trigger1 = movehit && enemy,stateno = 5500
anim = 3100
ID = 3100
pos = 17,-37
postype = p1
vel = 0,-2
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 3
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, Explod] ; Left Down
type = Explod
trigger1 = movehit && enemy,stateno = 5500
anim = 3100
ID = 3100
pos = 17,-37
postype = p1
vel = -1.5,1.5
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 3
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, Explod] ; Down
type = Explod
trigger1 = movehit && enemy,stateno = 5500
anim = 3100
ID = 3100
pos = 17,-37
postype = p1
vel = 0,2
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 3
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, Explod] ; Right Down
type = Explod
trigger1 = movehit && enemy,stateno = 5500
anim = 3100
ID = 3100
pos = 17,-37
postype = p1
vel = 1.5,1.5
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 3
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Punch Combo
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
poweradd = 50                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,6                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -32               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0+random%3

[State 200, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "x" && hitshakeover
value = 201
ctrl = 0

[State 200, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "y" && hitshakeover
value = 210
ctrl = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Punch Combo 2
[Statedef 201]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 210                       ;Change animation (Def: no change)
poweradd = 50                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 1

[State 200, 1]
type = HitDef
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 8,8                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -29              ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 16             ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0+random%3

[State 200, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "x" && hitshakeover 
value = 202
ctrl = 0

[State 200, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "y" && hitshakeover 
value = 210
ctrl = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Punch Combo 3
[Statedef 202]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 205                       ;Change animation (Def: no change)
poweradd = 50                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 0

[State 200, 1]
type = HitDef
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,6                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -22               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 18             ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0+random%3

[State 200, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "x" && hitshakeover 
value = 203
ctrl = 0

[State 200, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "y" && hitshakeover 
value = 210
ctrl = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Punch Combo 4
[Statedef 203]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
poweradd = 50                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,6                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -32               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 16             ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 205, 0+random%2

[State 200, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "x" && hitshakeover 
value = 204
ctrl = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Punch Combo 5
[Statedef 204]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 215                       ;Change animation (Def: no change)
poweradd = 50                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 1

[State 200, 1]
type = HitDef
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,6                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -25               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = -5,-1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
air.fall = 1

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 205, 0+random%2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Kick Combo
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
ctrl = 0
velset = 0,0
anim = 230
sprpriority = -1

[State 200, 1]
type = HitDef
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 50,2                   ;Damage that move inflicts, guard damage
animtype = Med                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,6                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -10, -25               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = Low              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 16             ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 205, 0+random%2

[State 200, ChangeState]
type = ChangeState
trigger1 = movecontact && command = "y"
value = 215
ctrl = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; Kick Combo End
[Statedef 215]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 240                       ;Change animation (Def: no change)
poweradd = 150                   ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 4

[State 200, 1]
type = HitDef
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 50,2                   ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,6                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -39               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = -3,-3             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
air.fall = 1

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 210,0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Counter
[Statedef 300]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 300                       ;Change animation (Def: no change)
poweradd = 150                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 0

[State 0, ReversalDef]
type = ReversalDef
trigger1 = !Time
reversal.attr = S,NA           ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 0,10
sparkno = S2003
;sparkxy = 0,0 ;offset
hitsound = S1,0
p1stateno = 310
;ignorehitpause = 
;persistent = 

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Bam Success
; CNS difficulty: easy
[Statedef 310]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 310                       ;Change animation (Def: no change)
poweradd = 250                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, VarAdd]
type = VarAdd
trigger1 = !Time
v = 10     ;fv = 
value = 3
;ignorehitpause = 
;persistent = 

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 0

[State 200, 1]
type = HitDef
trigger1 = !Time
attr = S, SA                     ;Attribute: Standing, Normal Attack
damage = 35,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 8,8                 ;Time attacker pauses, time opponent shakes
sparkno = s2004                      ;Spark anim no (Def: set above)
sparkxy = -10, -28               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = Low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 20             ;Time opponent is in hit state
ground.velocity = -5,0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
getpower = 0,0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0+random%3

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Light Attack
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 50
ctrl = 0
anim = 400
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0+random%3

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 20
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 6,11
sparkno = s2000
sparkxy = -10,-25
hitsound   = 5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 9
ground.velocity = -2
air.velocity = -.5,-3

[State 400, 3]
type = CtrlSet
trigger1 = Time = 6
value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
;Crouch Hard Kick
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 75
ctrl = 0
anim = 430
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 205, 0+random%2

[State 410, 3]
type = HitDef
trigger1 = !Time
attr = C, NA
damage    = 35
animtype  = Heavy
hitflag = MAF
guardflag = MA
pausetime = 6,12
sparkno = s2000
sparkxy = -10,-10
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -2
air.velocity = -1,-4

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Attack
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 50
ctrl = 0
anim = 610
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 205, 0+random%2

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 25
guardflag = HA
priority = 3
pausetime = 4,8
sparkno = s2000
sparkxy = -10,-23
hitsound   = 5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 16
ground.velocity = -2
air.velocity = -3,-3
air.hittime = 14

[State 600, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1

;---------------------------------------------------------------------------
;Jump Hard Attack
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 75
ctrl = 0
anim = 600
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 205, 0+random%2

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 75
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s2001
sparkxy = -10,-23
hitsound   = 5,3
guardsound = 6,0
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = -6
air.velocity = -3,-4
air.fall = 1
fall.recover = 0

;---------------------------------------------------------------------------
; Grab Attempt
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

; Notes: The '-' symbol in the hitflag field means that it only affects
;   players who are not in a hit state. This prevents KFM from combo-ing
;   into the throw. The priority should be set to a low number, such as
;   1 or 2, so that the throw does not take precedence over normal attacks.
;   The type of priority must always be set to "Miss" or "Dodge" for throws,
;   otherwise strange behavior can result.
[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face KFM
p1stateno = 810       ;On success, KFM changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 in KFM's cns
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Grab P1
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 800,1+random%2

[State 0, TargetBind]
type = TargetBind
trigger1 = Animelem = 1 ;Time <100
time = 3
pos = 21,0

[State 0, TargetBind]
type = TargetBind
trigger1 = Animelem = 2 ;Time <100
time = 3
pos = 16,0

[State 0, TargetBind]
type = TargetBind
trigger1 = Animelem = 3 ;Time <100
time = 3
pos = -8,0

[State 0, TargetBind]
type = TargetBind
trigger1 = Animelem = 4 ;Time <100
time = 5
pos = -16,0

[State 0, TargetBind]
type = TargetBind
trigger1 = Animelem = 5 ;Time <100
time = 3
pos =-10,5


[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Grab P2
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

[State 0, Turn]
type = Turn
trigger1 = animelem = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 4
y = -3

[State 0, Gravity]
type = Gravity
trigger1 = time > 20

[State 0, LifeAdd]
type = LifeAdd
trigger1 = pos y > 20 && vel y > 0
value = -100
kill = 1
absolute = 0

[State 0, ChangeState]
type = SelfState
trigger1 = pos y > 20 && vel y > 0
value = 5110
ctrl = 0

;---------------------------------------------------------------------------
; Dash Punch
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 125
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = Animelem = 1
value = 1000,0+random%3

[State 1000, 2]
type = Velset
trigger1 = AnimElem = 6
x = 15

[State 0, VelMul]
type = VelMul
trigger1 = time > 16
x = .8

[State 0, Explod] ; Left
type = Explod
trigger1 = animelem = 6
anim = 9015
ID = 9015
pos = -15,0
postype = p1
vel = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = var(10)=0
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 100,5                   ;Damage that move inflicts, guard damage
animtype = Med                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 4, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -10, -31               ;X-offset for the "hit spark" rel. to p2,
hitsound = 5, 0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 16             ;Time opponent is in hit state
ground.velocity = -7,-3             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -7,-2           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1

[State 0, VarAdd]
type = VarAdd
triggerall = var(10)>=1
trigger1 = Movecontact && animelem = 10
v = 10     ;fv = 
value = -1
;ignorehitpause = 
;persistent = 

[State 200, 1]
type = HitDef
triggerall = var(10)>=1
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 50,1                   ;Damage that move inflicts, guard damage
animtype = Med                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 3, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -10, -31               ;X-offset for the "hit spark" rel. to p2,
hitsound = 5, 0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 24             ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-3.5           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air

[State 200, ChangeState]
type = ChangeState
triggerall = var (10)>=1
trigger1 = movecontact && command = "y" 
value = 1001
ctrl = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; DP Headbutt
[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 75
velset = 0,0
anim = 250
ctrl = 0
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = !Time
v = 10     ;fv = 
value = -1
;ignorehitpause = 
;persistent = 

[State 1000, 1]
type = PlaySnd
trigger1 = Animelem = 1
value = 1000,0+random%3

[State 200, 1]
type = HitDef
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 100,5                   ;Damage that move inflicts, guard damage
animtype = Med                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 4, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -10, -36               ;X-offset for the "hit spark" rel. to p2,
hitsound = 5, 0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 16             ;Time opponent is in hit state
ground.velocity = -5,-3             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-2           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Dash Barrage
[Statedef 1005]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -500
velset = 0,0
anim = 1002
ctrl = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 
value = S2,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 
value = s1005,0

[State 1020, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 31

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 31
add = 32,16,0
sinadd = 64,32,5,3

[State 1000, 2]
type = Velset
trigger1 = AnimElem = 6
x = 15

[State 1000, 3]
type = PosAdd
trigger1 = AnimElem = 10
x = 0

[State 0, Explod] ; Left
type = Explod
trigger1 = animelem = 6
anim = 9015
ID = 9015
pos = -15,0
postype = p1
vel = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2001                      ;Spark anim no (Def: set above)
sparkxy = -10, -31               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = 5, 0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 101             ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
P1stateno = 1006
forcenofall = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; DB Success
[Statedef 1006]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 75
velset = 0,0
anim = 1005
ctrl = 0
sprpriority = 2

[State 1020, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 105

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 105
add = 32,16,0
sinadd = 64,32,5,3

[State 1000, 2]
type = Velset
trigger1 = AnimElem = 6
x = 15

[State 1000, 3]
type = PosAdd
trigger1 = AnimElem = 10
x = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2 || Animelem = 8 || Animelem = 14 || Animelem = 20 || Animelem = 26
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -12, -25               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = Low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 101             ;Time opponent is in hit state
ground.velocity = 0,0           ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
getpower= 0,0

[State 200, 1]
type = HitDef
trigger1 = AnimElem =  5 || Animelem = 11 || Animelem = 17 || Animelem = 23 || Animelem = 29
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10,1                   ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -12, -25               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 101             ;Time opponent is in hit state
ground.velocity = 0,0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
getpower= 0,0

[State 0, VelSet]
type = VelSet
trigger1 = Time < 100
x = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 33
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 50,5                  ;Damage that move inflicts, guard damage
animtype = Heavy                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,8                 ;Time attacker pauses, time opponent shakes
sparkno = s2001                      ;Spark anim no (Def: set above)
sparkxy = -5, -60              ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime = 11             ;Time opponent is in hit state
ground.velocity = -10,-8             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
palfx.time = 15
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
palfx.invertall = 1
palfx.color = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
getpower= 0,0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Tatsumaki
; CNS difficulty: medium
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 200
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 2

[State 1010, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210,1+random%5

[State 1010, 2]
type = Velset
trigger1 = time=[3,46]
x = 3.5

[State 1010, 5]
type = VelSet
trigger1 = AnimElem = 17
x = 0

[State 1010, 6] ;Opponent near
type = HitDef
triggerall = var(10)<2
trigger1 = !Time
attr = S, SA
animtype  = Hard
damage    = 100,5
priority  = 5
guardflag = MA
pausetime = 15,15
sparkno = s2001
sparkxy = -10,-25
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1

[State 0, VarAdd]
type = VarAdd
triggerall = var(10)>=2
trigger1 = Movecontact && animelem = 14
v = 10     ;fv = 
value = -1
;ignorehitpause = 
;persistent = 

[State 1010, 6] ;Opponent near
type = HitDef
triggerall=var(10)>=2
trigger1 = Animelem = 7
attr = S, SA
animtype  = Hard
damage    = 75,5
priority  = 5
guardflag = MA
pausetime = 4,4
sparkno = s2001
sparkxy = -10,-25
hitsound   = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -2,0
air.velocity = -1,-3
fall = 0
air.fall = 1

[State 1010, 6]
type = HitDef
triggerall=var(10)>=2
trigger1 = Animelem = 13
attr = S, SA
animtype  = Hard
damage    = 75,5
priority  = 5
guardflag = MA
pausetime = 4,4
sparkno = s2001
sparkxy = -10,-25
hitsound   = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -2,0
air.velocity = -.5,-5
air.fall = 1

[State 1010, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Shinku Tatsumaki
; CNS difficulty: medium
[Statedef 1015]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -500
velset = 0,0
anim = 1015
ctrl = 0
sprpriority = 2

[State 1010, 1]
type = PlaySnd
trigger1 = Time = 1
value = 1020,10

[State 1020, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 60

[State 1020, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 60
add = 32,16,0
sinadd = 64,32,5,3

[State 0, Explod] ; Left
type = Explod
trigger1 = animelem = 3
anim = 8019
ID = 8019
pos = 0,0
postype = p1
vel = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = Animelem = 7 || Animelem = 13
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 35,1                   ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2,1                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -10, -25               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = 5, 0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 15             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
getpower= 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = Time>10 && Time<34
value = 0
ignorehitpause = 1
;persistent = 

[State 200, 1]
type = HitDef
trigger1 = Animelem = 10 || Animelem = 16
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 35,1                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2,1                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -10, -25             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = 5, 0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = -15             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
getpower= 0,0

[State 200, 1]
type = HitDef
trigger1 = Animelem = 19
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 50,5                   ;Damage that move inflicts, guard damage
animtype = Hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2001                      ;Spark anim no (Def: set above)
sparkxy = -10, -25               ;X-offset for the "hit spark" rel. to p2,
hitsound = 5, 0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = -10,-6.5             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
ground.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower= 0,0

[State 1010, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Boob Punch
[Statedef 1020]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1020                       ;Change animation (Def: no change)
poweradd = 150                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 1010, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 800,1

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 8016
ID = 8016
pos = 0,0
postype = p1
facing = 1
vel = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.4
sprpriority = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 125,25                   ;Damage that move inflicts, guard damage
animtype = Medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2001                      ;Spark anim no (Def: set above)
sparkxy = -10, -40               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = 5, 0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = -1,-10             ;Velocity at which opponent is pushed
guard.velocity = -3     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-8           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 1025,10

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Boob Blast
; CNS difficulty: easy
[Statedef 1025]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1025                       ;Change animation (Def: no change)
poweradd = -500                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 1010, 1]
type = PlaySnd
trigger1 = animelem = 3
value = s1025,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 
value = S210,1+random%3

[State 1020, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 42

[State 1020, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 40
add = 32,16,0
sinadd = 64,32,5,3

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 8016
ID = 8016
pos = 0,0
postype = p1
facing = 1
vel = 0,0
removetime = -2
pausemovetime = 0
scale =1,.9
sprpriority = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 150,10                   ;Damage that move inflicts, guard damage
animtype = Hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2001                      ;Spark anim no (Def: set above)
sparkxy = -10, -55               ;X-offset for the "hit spark" rel. to p2,
hitsound = 5, 0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = -5,-10             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-8           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Striker Summon 1
; CNS difficulty: easy
[Statedef 2000]
type = S
ctrl = 0
anim = 1200
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 5
value = s2000,0+random%3

[State 0, Helper]
type = Helper
trigger1 = Animelem = 6
helpertype = normal ;player
name = "Stephan"
ID = 2001
stateno = 2001 
pos = -300,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stephan Striker
; CNS difficulty: easy
[Statedef 2001]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
anim = 1230                       ;Change animation (Def: no change)
poweradd = 10                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time > 1 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 999
;ignorehitpause = 
;persistent = 

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 5

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,8                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -36               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air

[State 200, 2]
type = PlaySnd
trigger1 = Time = 30
value = 2001, 0+random%5

[State 200, 3]
type = ChangeState
trigger1 =P2Bodydist x < 10
value = 2002

;---------------------------------------------------------------------------
; Stephan Combo
; CNS difficulty: easy
[Statedef 2002]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1231                       ;Change animation (Def: no change)
poweradd = 10                    ;Power to add (Def: 0)
sprpriority = 3                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time > 1 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 999
;ignorehitpause = 
;persistent = 

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1 || Animelem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 50,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 4,8                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -36               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 21             ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 50,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,8                 ;Time attacker pauses, time opponent shakes
sparkno = s2001                      ;Spark anim no (Def: set above)
sparkxy = -5, -36               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = -5,-1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0+random%3

[State 200, 3]
type = Destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Striker Summon 2
; CNS difficulty: easy
[Statedef 2010]
type = S
ctrl = 0
anim = 1200
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 5
value = s2000,0+random%3

[State 0, Helper]
type = Helper
trigger1 = Animelem = 6
helpertype = normal ;player
name = "Kim"
ID = 2001
stateno = 2011
pos = -300,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Kim Striker Walk
; CNS difficulty: easy
[Statedef 2011]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1220                       ;Change animation (Def: no change)
poweradd = 10                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time > 1 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 999
;ignorehitpause = 
;persistent = 

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 3

[State 200, 2]
type = PlaySnd
trigger1 = Time = 30
value = s2002,0+random%3

[State 200, 3]
type = ChangeState
trigger1 = P2bodydist x < 30
value = 2012

;---------------------------------------------------------------------------
; Kim Spin Strike
; CNS difficulty: easy
[Statedef 2012]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1221                       ;Change animation (Def: no change)
poweradd = 10                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time > 1 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 999
;ignorehitpause = 
;persistent = 

[State 0, VelSet]
type = VelSet
trigger1 = Time < 45
x = .5

[State 200, 1]
type = HitDef
trigger1 = Animelem = 3 || Animelem = 8 || Animelem = 11 
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 25,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 0,8                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -36               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = 0,0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
air.fall = 1
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = Animelem = 16
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 50,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,8                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -36               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = -5,0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
air.fall = 1
fall.recover = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 70
value = 2002, 10+random%2

[State 0, VelSet]
type = VelSet
trigger1 = Time > 105
x = 10

[State 0, VelSet]
type = VelSet
trigger1 = Time = 105
y = -15

[State 195, 2]
type = Destroyself
trigger1 = Time = 200

;---------------------------------------------------------------------------
; Striker Summon 3
; CNS difficulty: easy
[Statedef 2020]
type = S
ctrl = 0
anim = 1200
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 5
value = s2000,0+random%3

[State 0, VarAdd]
type = VarAdd
trigger1 = AnimTime = 0
v = 10     ;fv = 
value = 2
;ignorehitpause = 
;persistent = 

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal ;player
name = " Knives"
ID = 2001
stateno = 2021 
pos = -50,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Knives Striker
; CNS difficulty: easy
[Statedef 2021]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= I                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1240                       ;Change animation (Def: no change)
poweradd = 10                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time > 1 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 999
;ignorehitpause = 
;persistent = 

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 49
value = 500, 0

[State 200, 3]
type = Destroyself
trigger1 = AnimTime = 0


;---------------------------------------------------------------------------
; Striker Summon 4
; CNS difficulty: easy
[Statedef 2030]
type = S
ctrl = 0
anim = 1200
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 5
value = s2000,0+random%3

[State 0, VarAdd]
type = VarAdd
trigger1 = AnimTime = 0
v = 10     ;fv = 
value = 1
;ignorehitpause = 
;persistent = 

[State 0, Helper]
type = Helper
trigger1 = Animelem = 6
helpertype = normal ;player
name = "Ramona"
ID = 2001
stateno = 2031
pos = -300,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Ramona Buff
; CNS difficulty: easy
[Statedef 2031]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= I                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1210                       ;Change animation (Def: no change)
poweradd = 10                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time > 1 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 999
;ignorehitpause = 
;persistent = 

[State 0, VelSet]
type = VelSet
trigger1 = Time<63
x = 4

[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 17
x = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 24
anim = 1212
ID = 1212
pos = 25,-60
postype = p1
removetime = 30
pausemovetime = 0
supermovetime = 0
scale = 1,1
sprpriority = 3
ownpal = 1
removeongethit = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = Animelem = 24
value = 500
;ignorehitpause = 
;persistent = 

[State 200, 2]
type = PlaySnd
trigger1 = Time = 30
value = 2003,0+random%3

[State 200, 3]
type = Destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Rock Out
; CNS difficulty: easy
[Statedef 3000]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3000                      ;Change animation (Def: no change)
poweradd = -1000                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time < 15
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1
ignorehitpause = 1
persistent = -2

;=============================/Super Background\
[State 0, SUPER PAUSE]
type = Pause
trigger1 = Animelem = 2
time = 60
movetime = 11
pausebg = 1

[State 0, SUPER SOUND]
type = PlaySnd
trigger1 = !time
value = S4050,0
volumescale = 100
channel = -1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = !time
time = 60
add = -96,-96,-96

[State 0, SUPER SPARK]
type = Explod
trigger1 = !time
anim = 4001
pos = 0,-25
postype = P1
bindtime = -1
supermovetime = 9999
removetime = -2
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, CUT IN BACKGROUND]
type = Explod
triggerall = facing = 1
trigger1 = !time
anim = 4050
pos = 0,50
postype = Left
bindtime = -1
supermovetime = 9999
removetime = 65
pausemovetime = 9999
scale = .5,.5
sprpriority = -1
ownpal = 1
removeongethit = 1

[State 0, CUT IN CHARACTER]
type = Explod
triggerall = facing = 1
trigger1 = !time
anim = 4051
pos =125,50
postype = Left
bindtime = -1
supermovetime = 9999
removetime = 65
pausemovetime = 9999
scale = .5,.5
sprpriority = 1
ownpal = 1
removeongethit = 1

[State 0, CUT IN BACKGROUND]
type = Explod
triggerall = facing = -1
trigger1 = !time
anim = 4050
pos = 0,50
postype = Right
facing = -1
bindtime = -1
supermovetime = 9999
removetime = 65
pausemovetime = 9999
scale = .5,.5
sprpriority = -1
ownpal = 1
removeongethit = 1

[State 0, CUT IN CHARACTER]
type = Explod
triggerall = facing = -1
trigger1 = !time
anim = 4052
pos =-125,50
postype = Right
bindtime = -1
supermovetime = 9999
removetime = 65
pausemovetime = 9999
scale = .5,.5
sprpriority = 1
ownpal = 1
removeongethit = 1
;=============================\Super Background/

[State 0, Stars]
type = Explod
trigger1 =  time%2=0 && time > 16 && time < 128
anim = 3001
pos = 0,-30
postype = p1
vel = var(2),var(3)
supermovetime = 9999
removetime = -2
pausemovetime = 9999
scale = 1,1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 3000, KPOW]
type = Explod
trigger1 = movehit = 1
anim = cond(facing=1,4075,4076)
ID = 4075
pos = 55,-45
postype = p1
removetime = 20
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 250,50                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,8                 ;Time attacker pauses, time opponent shakes
sparkno = s2001                      ;Spark anim no (Def: set above)
sparkxy = -5, -36               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s8,0;+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = -10,-5             ;Velocity at which opponent is pushed
guard.velocity = -30    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
palfx.time = 15
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
palfx.invertall = 1
palfx.color = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
getpower = 0,0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = s3000,0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = s3000,1

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 5
value = s3000,5

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Shin Shoryuken Startup
; CNS difficulty: easy
[Statedef 3010]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3010                      ;Change animation (Def: no change)
poweradd = -2000                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = s3000,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time < 15
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1
ignorehitpause = 1
persistent = -2
;=============================/Super Background\
[State 0, SUPER PAUSE]
type = Pause
trigger1 = Animelem = 2
time = 60
movetime = 0
pausebg = 1

[State 0, SUPER SOUND]
type = PlaySnd
trigger1 = !time
value = S4050,0
volumescale = 100
channel = -1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = !time
time = 60
add = -96,-96,-96

[State 0, SUPER SPARK]
type = Explod
trigger1 = !time
anim = 4001
pos = 0,-25
postype = P1
bindtime = -1
supermovetime = 9999
removetime = -2
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, CUT IN BACKGROUND]
type = Explod
triggerall = facing = 1
trigger1 = !time
anim = 4050
pos = 0,50
postype = Left
bindtime = -1
supermovetime = 9999
removetime = 65
pausemovetime = 9999
scale = .5,.5
sprpriority = -1
ownpal = 1
removeongethit = 1

[State 0, CUT IN CHARACTER]
type = Explod
triggerall = facing = 1
trigger1 = !time
anim = 4051
pos =125,50
postype = Left
bindtime = -1
supermovetime = 9999
removetime = 65
pausemovetime = 9999
scale = .5,.5
sprpriority = 1
ownpal = 1
removeongethit = 1

[State 0, CUT IN BACKGROUND]
type = Explod
triggerall = facing = -1
trigger1 = !time
anim = 4050
pos = 0,50
postype = Right
facing = -1
bindtime = -1
supermovetime = 9999
removetime = 65
pausemovetime = 9999
scale = .5,.5
sprpriority = -1
ownpal = 1
removeongethit = 1

[State 0, CUT IN CHARACTER]
type = Explod
triggerall = facing = -1
trigger1 = !time
anim = 4052
pos =-125,50
postype = Right
bindtime = -1
supermovetime = 9999
removetime = 65
pausemovetime = 9999
scale = .5,.5
sprpriority = 1
ownpal = 1
removeongethit = 1
;=============================\Super Background/

[State 200, 1]
type = HitDef
triggerall = p2statetype = s
triggerall = p2statetype != a
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 50,2                   ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 4,120                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -36               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = Low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 101             ;Time opponent is in hit state
ground.velocity = 2,0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 2,5           ;X-velocity at which opponent is pushed,
air.hittime = 150                 ;Time before opponent regains control in air
getpower = 0,0
forcenofall = 1
p1stateno = 3015

[State 200, 1]
type = HitDef
triggerall = p2statetype = a
triggerall = p2statetype != s
trigger1 = !Time
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 300,2                   ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 8,12                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -36               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s8,0                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = Low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = 2,0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -10,-3           ;X-velocity at which opponent is pushed,
air.hittime = 150                 ;Time before opponent regains control in air
getpower = 0,0
fall = 1


[State 0, VelSet]
type = VelSet
trigger1 = Time=[6,13]
x = 4

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = s3000,0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = s3010,0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Shin Shoryuken Success
; CNS difficulty: easy
[Statedef 3015]
type    = A                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3015                       ;Change animation (Def: no change)
poweradd = 10                    ;Power to add (Def: 0)
sprpriority = 0                 ;Set p1's sprite layering priority to 2 (in front)

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 6
value = s3010,1

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 11
value = s3010,2+random%2

[State 200, 1]
type = HitDef
trigger1 = Animelem = 6 || animelem = 11
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 50,1                   ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 0,40                 ;Time attacker pauses, time opponent shakes
sparkno = s2001                      ;Spark anim no (Def: set above)
sparkxy = -10, -27               ;X-offset for the "hit spark" rel. to p2,
hitsound = s5,3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 101             ;Time opponent is in hit state
ground.velocity = 3             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 3,3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
envshake.time = 11
getpower = 0,0
kill = 0

[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 12
y = -5

[State 0, Gravity]
type = Gravity
trigger1 = time > 160
;ignorehitpause = 
;persistent = 

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 12
value = s3010,4+random%2

[State 3000, KPOW]
type = Explod
trigger1 = Animelem = 14
anim = cond(facing=1,4075,4076)
ID = 4075
pos = 45,-85
postype = p1
removetime = 30
pausemovetime = 999
scale = .5,.5
sprpriority = 3
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 14
anim = 2005
ID = 2005
pos = -10,-75
postype = p2
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, Pause]
type = Pause
trigger1 = Animelem = 14
time = 60
movetime = 1
pausebg = 1
;ignorehitpause = 
;persistent = 


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 12
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 200                   ;Damage that move inflicts, guard damage
animtype = Up                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,8                 ;Time attacker pauses, time opponent shakes
sparkno = s2001                      ;Spark anim no (Def: set above)
sparkxy = -10, -45               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s8,1                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = -1,-15             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
Fall = 1
Air.Fall = 1
Fall.Recover = 0
envshake.time = 11
getpower = 0,0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0+random%3

[State 200, 3]
type = ChangeState
trigger1 = Pos y > 0 && Vel y > 0
value = 52


;---------------------------------------------------------------------------
; Sex Bom-Omb
[Statedef 3020]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3020                      ;Change animation (Def: no change)
poweradd = -3000                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 1
value = s3000,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time < 15
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1
ignorehitpause = 1
persistent = -2

;=============================/Super Background\
[State 0, SUPER PAUSE]
type = Pause
trigger1 = Animelem = 1
time = 60
movetime = 0
pausebg = 1

[State 0, SUPER SOUND]
type = PlaySnd
trigger1 = !time
value = S4050,0
volumescale = 100
channel = -1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = !time
time = 60
add = -96,-96,-96

[State 0, SUPER SPARK]
type = Explod
trigger1 = !time
anim = 4001
pos = 0,-25
postype = P1
bindtime = -1
supermovetime = 9999
removetime = -2
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, CUT IN BACKGROUND]
type = Explod
triggerall = facing = 1
trigger1 = !time
anim = 4050
pos = 0,50
postype = Left
bindtime = -1
supermovetime = 9999
removetime = 65
pausemovetime = 9999
scale = .5,.5
sprpriority = -1
ownpal = 1
removeongethit = 1

[State 0, CUT IN CHARACTER]
type = Explod
triggerall = facing = 1
trigger1 = !time
anim = 4051
pos =125,50
postype = Left
bindtime = -1
supermovetime = 9999
removetime = 65
pausemovetime = 9999
scale = .5,.5
sprpriority = 1
ownpal = 1
removeongethit = 1

[State 0, CUT IN BACKGROUND]
type = Explod
triggerall = facing = -1
trigger1 = !time
anim = 4050
pos = 0,50
postype = Right
facing = -1
bindtime = -1
supermovetime = 9999
removetime = 65
pausemovetime = 9999
scale = .5,.5
sprpriority = -1
ownpal = 1
removeongethit = 1

[State 0, CUT IN CHARACTER]
type = Explod
triggerall = facing = -1
trigger1 = !time
anim = 4052
pos =-125,50
postype = Right
bindtime = -1
supermovetime = 9999
removetime = 65
pausemovetime = 9999
scale = .5,.5
sprpriority = 1
ownpal = 1
removeongethit = 1
;=============================\Super Background/

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 7

[State 0, VelMul]
type = VelMul
trigger1 = time > 14
x = .5


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 200,50                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,80                 ;Time attacker pauses, time opponent shakes
sparkno = s2001                      ;Spark anim no (Def: set above)
sparkxy = -5, -36               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = -10,-5             ;Velocity at which opponent is pushed
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
Fall = 1
Air.Fall = 1
Fall.Recover = 0
P1Stateno = 3021
P2Stateno = 3022
getpower =0,0

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 1
value = s3020,0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; SBO Hit 
[Statedef 3021]
type = S
ctrl = 0
anim = 3021
velset = 0,0
movetype = A
physics = S
sprpriority = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 3010, BGPalFX]
type = AllPalFX
trigger1 = time = 1
time = 20
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,40

[State 3010, BGPalFX]
type = AllPalFX
trigger1 = animelem = 89
time = 5
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,40

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 8100
ID = 8100
pos = 0,0
postype = left
bindtime = -1
removetime = 385
pausemovetime = 0
supermovetime = 0
scale = gamewidth/384,gameheight/214
sprpriority = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = Animelem = 1
x = -100*facing
y = 0
;ignorehitpause = 
;persistent = 

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 8
value = s3020,1+random%2

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 29
value = s3050,0

[State 200, 1]
type = HitDef
trigger1 = Time%14 = 0; Animelem = 29 || AnimElem = 30 31 32 33 34 35 36 37 38 39 40 41 
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 25,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 0,7                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -36               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = 0,-5             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-1.5           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
fall = 1
fall.recover = 0
getpower =0,0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 88
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,1                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 defaulf
pausetime = 6,8                 ;Time attacker pauses, time opponent shakes
sparkno = s2000                      ;Spark anim no (Def: set above)
sparkxy = -5, -36               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s2002
hitsound = s5,0+random%3                  ;Sound to play on hit
guardsound = s4, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 11             ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,2123230           ;X-velocity at which opponent is pushed,
air.hittime = 15                 ;Time before opponent regains control in air
getpower = 0,0

[State 0, Helper]
type = Helper
trigger1 = Animelem = 2
helpertype = normal ;player
name = "Kim"
ID = 3025
stateno = 3025
pos = 0,0
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = Animelem = 2
helpertype = normal ;player
name = "Stephan"
ID = 3023
stateno = 3023
pos = 0,5
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = Animelem = 2
helpertype = normal ;player
name = "Ramona"
ID = 3024
stateno = 3024
pos = 0,5
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = Animelem = 28
helpertype = normal ;player
name = "Yeti"
ID = 3026
stateno = 3026
pos = 0,20
postype = p1    ;p2,front,back,left,right
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 90 
value = S3200,0+random%2

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; P2 Hit by Lvl.3
[Statedef 3022]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = Time = 15
x = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time && anim!=5300
value = 5300

[State 195, 2]
type = Selfstate
trigger1 = time = 200
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stephan Super
; CNS difficulty: easy
[Statedef 3023]
type = S
ctrl = 0
anim = 3023
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 85*facing

[State 195, 2]
type = Destroyself
trigger1 = Animtime = 0

;---------------------------------------------------------------------------
; Ramona Super
; CNS difficulty: easy
[Statedef 3024]
type = S
ctrl = 0
anim = 3024
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = -50*facing

[State 195, 2]
type = Destroyself
trigger1 = Animtime = 0

;---------------------------------------------------------------------------
; Kim Star Exit
; CNS difficulty: easy
[Statedef 3025]
type = S
ctrl = 0
anim = 3022
velset = 0,0
movetype = I
physics = S
sprpriority = -1

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 25*facing

[State 0, VelSet]
type = VelSet
trigger1 = Time > 450
x = 4

[State 0, VelSet]
type = VelSet
trigger1 = Time = 450
y = -10

[State 195, 2]
type = Destroyself
trigger1 = Time = 600
;---------------------------------------------------------------------------
; Yeti Super
[Statedef 3026]
type = S
ctrl = 0
anim = 3050
velset = 0,0
movetype = I
physics = S
sprpriority = -1

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 0
y = -20

[State 195, 2]
type = Destroyself
trigger1 = Animtime = 0

;---------------------------------------------------------------------------
; P2 Death !!!!
; CNS difficulty: easy
[Statedef 5500]
type = L
ctrl = 0
anim = 5012
velset = 0,0
movetype = H
physics = N
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = !Time
y = 9990

[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = animelem = 2
value = 5150
elem = 1
;ignorehitpause = 
;persistent = 

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time > 1
flag = Noshadow
flag2 = invisible
;flag3 = roundnotover

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
;ignorehitpause = 
;persistent = 

[State 11300, safety]
type = selfstate
trigger1 = time > 30
value = 5150

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

[State -3, VarRandom]
type = VarRandom
trigger1 = 1
v = 2
range = -4,4

[State -3, VarRandom]
type = VarRandom
trigger1 = 1
v = 3
range = -4,2

[State -3, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noairguard

[State -3, Explod]
type = Explod
triggerall =enemy,life = 0
trigger1 = stateno = [1000,1025]
trigger2 = stateno = [3000,3021]
anim = 4055
ID = 4055
pos = 0,0
postype = Left
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = gamewidth/388,gameheight/216
sprpriority = -5
ownpal = 1
ignorehitpause = 1
persistent = 0

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate = 4 
id = 4055

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = 40, 0

[State -2, light gethit]
type = PlaySnd
triggerall = alive
triggerall = gethitvar(animtype) = 0
triggerall = time = 0
trigger1 = stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070
value = 5000,0+random%3
;volumescale = 255
channel = 0

[State -2, medium gethit]
type = PlaySnd
triggerall = alive
triggerall = gethitvar(animtype) = 1
triggerall = time = 0
trigger1 = stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070
value = 5005,0+random%2
;volumescale = 255
channel = 0

[State -2, hard gethit]
type = PlaySnd
triggerall = alive
triggerall = gethitvar(animtype) = [2, 4]
triggerall = time = 0
trigger1 = stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070
value = 5010,0+random%3
;volumescale = 255
channel = 0

[State -2, hard gethit]
type = PlaySnd
triggerall = alive
triggerall = gethitvar(animtype) = 5
triggerall = time = 0
trigger1 = stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070
value = 11, 1
volumescale = 255
channel = 0

[State -3, Get Up Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 5120
value = s5200,0+random%3

[State -3, Get Up Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 150
value = s150,0+random%4

[State 0, VarAdd]
type = VarAdd
triggerall = var(10)=7
trigger1 = !Time
v = 10     ;fv = 
value = -1

;Get Up Attack
;[State 200, 3]
;type = ChangeState
;triggerall = stateno = 5110
;trigger1 = Command = "x"
;value = 300
;ctrl = 1
