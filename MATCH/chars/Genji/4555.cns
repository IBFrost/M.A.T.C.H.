;

[Data]
;Amount of life to start with
;뫬쀍긒?긙궻룊딖뭠
life = 1100
;attack power (more is stronger)
;뛘똼?긽?긙
attack = 100
;defensive power (more is stronger)
;뫬쀍긬깗?
defence = 100
;Percentage to increase defense everytime player is knocked down
fall.defence_up = 50
;Time which player lies down for, before getting up
liedown.time = 600
;Number of points for juggling
airjuggle = 150
;Default hit spark number for HitDefs
sparkno = 2
;Default guard spark number
guard.sparkno = 40
;1 to enable echo on KO
KO.echo = 0
;Volume offset (negative for softer)
volume = 0
;Variables with this index and above will not have their values
;reset to 0 between rounds or matches. There are 60 int variables,
;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
;If omitted, then it defaults to 60 and 40 for integer and float
;variables repectively, meaning that none are persistent, i.e. all
;are reset. If you want your variables to persist between matches,
;you need to override state 5900 from common1.cns.
IntPersistIndex = 50
FloatPersistIndex = 40
power = 7000

[Size]
xscale = .85           ;Horizontal scaling factor.
yscale = .8           ;Vertical scaling factor.
ground.back = 7     ;Player width (back, ground)
ground.front = 7    ;Player width (front, ground)
air.back = 8        ;Player width (back, air)
air.front = 9       ;Player width (front, air)
height = 20          ;Height of player (for opponent to jump over)
attack.dist = 40    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -5, -20   ;Approximate position of head
mid.pos = -5, -10    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 2.2      ;Walk forward
walk.back = -2.4     ;Walk backward
run.fwd  = 4.6, 0    ;Run forward (x, y)
run.back = -4.5,-3.8 ;Hop backward (x, y)
jump.neu = 0,-5.9    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 2.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-4.1 ;Running jump speeds (opt)
runjump.fwd = 2,-4.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = 2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.



[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .20        ;Vertical acceleration
stand.friction = .87  ;Friction coefficient when standing
crouch.friction = .85 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Variable usage:
; This is a record of the variables that KFM uses. Keeping a record of your
; variable usage helps you avoid careless mistakes later.
; var(1)  - Used in kfm.cmd for combo condition (updated every tick)
; var(2)  - Used in Kung Fu Throw (state 800) to remember if fwd was being
;           held (remembered from state 800 through state 810).

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0
juggle  = 0

[State 3210, 3]
type = lifeadd
trigger1 = TimeMod = 5,0
value = 3

[State 205, 0]
type = PalFX
triggerall = time < 10
triggerall = TimeMod = 2,0
triggerall = var(59) = 0
trigger1 = prevstateno = 5120
trigger2 = prevstateno = 5121
time = 1
add = 150,150,150

[State 5120, 5]
type = NotHitBy
triggerall = time = 0
triggerall = var(59) = 0
trigger1 = prevstateno = 5120
trigger2 = prevstateno = 5121
value = SCA
time = 10

;We've come from Timed mode ranking state.  Keep animation and element at the same position.
[State 0, KeepAnim]
type = ChangeAnim
trigger1 = PrevStateNo = 95500
value = Anim
elemn = AnimElemNo(0)

;Turn off PalFX.
[State 102, NullFX]
type = PalFX
triggerall = var(23) = 0
trigger1 = Time = 0
time = 1
add = 0,0,0
mul = 256,256,256

;Set control if previous state was jump start, we pressed UP, and Tap Jump is off.
[State 0, Ctrl]
type = CtrlSet
trigger1 = var(17) = 1
trigger1 = PrevStateNo = 40
value = 1

;We've walked off of a ledge.
[State 0, Ledge]
type = ChangeState
trigger1 = NumHelper(100000) > 0
trigger1 = helper(100000),var(0) = 1
value = 50

[State 0, 1]
type = ChangeAnim
triggerall = PrevStateNo != 95500 ;Ranking state for Timed mode.
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0



[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050


;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, WalkSound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 79
channel = 2

[State 20, WalkSound]
type = PlaySnd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 12
value = 0, 79
channel = 2



;Turn around if holding back.
[State 20, Turn]
type = Turn
trigger1 = Command = "holdback"

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = 2.0

[State 20, 3]
type = ChangeAnim
triggerall = Vel X != 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20



;---------------------------------------------------------------------------
; AirJump Start
[Statedef 45]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 45, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44

[State 45, 2]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = -1

[State 45, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1





;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 1 && Random < 200
value = 1,23
channel = 0
volume = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

;Turn around if holding back.
[State 20, Turn]
type = Turn
trigger1 = Command = "holdback"

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = A


[State 100, 3]
type = Selfstate
triggerall = movetype != H
triggerall = statetype = A
triggerall = command = "holdfwd"
triggerall = command = "holdup"
Triggerall = StateNo != 107
trigger1 =  facing = -1
trigger1 = FrontEdgeBodyDist < 10
trigger2 =  facing = 1
trigger2 = FrontEdgeBodyDist < 10
;trigger2 = BackEdgeBodyDist < 10
value = 107
ctrl = 0


[State -1, Stand Light Kick]
type = ChangeState
value = 550
triggerall = var(2) = 0
trigger1 = Command = "up"
trigger1 = statetype = A
trigger1 = Time >= 10
trigger1 = ctrl

[State mode-1]
type = varSet
trigger1 = Time >= 9
trigger1 = Command = "up"
v = 2
value = 1

[State mode-1]
type = varSet
trigger1 = Time >= 9
trigger1 = Command != "up"
v = 2
value = 0

[State 1312, 2]
type = VelAdd
trigger1 = Command != "up"
y = 0.2

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3


;We're landing on a platform in the air.
[State 45, SetPos]
type = PosSet
triggerall = Vel Y > 0 ;Moving down.
trigger1 = NumHelper(100000) > 0 ;We have a Stage Manager.
trigger1 = Pos Y + Vel Y >= helper(100000),fvar(0) ;Floor detection.
Y = helper(100000),fvar(0)

;Go to jump landing state.
[State 50, Land]
type = ChangeState
triggerall = Vel Y > 0 ;Moving down.
trigger1 = NumHelper(100000) > 0 ;We have a Stage Manager.
trigger1 = Pos Y >= helper(100000),fvar(0) ;Floor detection.
value = 52

;Go back to air jump state.
[State 50, AirJump]
type = ChangeState
triggerall = Alive
triggerall = var(0) < Const(movement.airjump.num)
triggerall = Vel Y >= -1
trigger1 = Command = "up" && var(17) = 0
trigger2 = (Command = "x" || Command = "y") && var(17) = 1
value = 45

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = IfElse(Vel X < Const(velocity.jump.fwd.x), Vel X+0.3, Const(velocity.jump.fwd.x))

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = IfElse(Vel X > -Const(velocity.jump.fwd.x), Vel X-0.3, -Const(velocity.jump.fwd.x))

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
triggerall = var(0) = 0
triggerall = PrevStateNo != 5040 ;Hit and recovering.
triggerall = PrevStateNo != [600,640] ;Aerials.
triggerall = PrevStateNo != [1000,1031] ;Aerial specials.
triggerall = PrevStateNo != [130,132] ;Guarding/Dodging
triggerall = PrevStateNo != [810,840] ;Grabs.
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
triggerall = var(0) = 0
triggerall = PrevStateNo != 5040 ;Hit and recovering.
triggerall = PrevStateNo != [600,640] ;Aerials.
triggerall = PrevStateNo != [1000,1031] ;Aerial specials.
triggerall = PrevStateNo != [130,132] ;Guarding/Dodging
triggerall = PrevStateNo != [810,840] ;Grabs.
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

;Set the animation for various entries.
[State 50, HitAnimSet]
type = ChangeAnim
triggerall = Anim != 44
trigger1 = PrevStateNo = 5040 ;Hit and recovering.
trigger2 = PrevStateNo = [600,640] ;Aerials.
trigger3 = PrevStateNo = [1000,1031] ;Aerial specials.
trigger4 = PrevStateNo = [130,132] ;Guarding/Dodging
trigger5 = PrevStateNo = [810,840] ;Grabs.
value = 44
elem = 7

;Change animation to footstool.
[State 50, FootstoolAnim]
type = ChangeAnim
triggerall = var(0) >= Const(movement.airjump.num)
triggerall = var(16) > 0
trigger1 = Command = "up" && var(17) = 0
trigger2 = (Command = "x" || Command = "y") && var(17) = 1
value = 49

;Change animation for walking off a ledge.
[State 50, LedgeAnim]
type = ChangeAnim
trigger1 = NumHelper(100000) > 0
trigger1 = helper(100000),var(0) = 1
value = 50
elem = 4

;Change animation to final jump.
[State 50, FinalJump]
type = ChangeAnim
trigger1 = Anim = 49
trigger1 = AnimTime = 0
value = 51
elem = 4

;No guarding from enemy.
[State 50, NoGuard]
type = AttackDist
trigger1 = 1
value = 0

;Set movetype to attack for footstool jump.
[State 50, Footstool]
type = StateTypeSet
trigger1 = Anim = 49
movetype = A

;Set movetype to idle after footstool jump.
[State 50, Footstool]
type = StateTypeSet
trigger1 = Anim != 49
movetype = I

;Air jump anim.
[State 50, AirJump]
type = ChangeAnim
triggerall = var(0) > 0
triggerall = Anim != 49 ;Footstool jump animation for final jump.
trigger1 = Time = 0
value = IfElse(var(0) < Const(movement.airjump.num),50,51)


;---------------------------------------------------------------------------
[Statedef 550]
type    = A
movetype= A
physics = N
poweradd= 65
ctrl = 1
anim = 550
sprpriority = 2


[State 100, 3]
type = Selfstate
triggerall = movetype != H
triggerall = statetype = A
triggerall = command = "holdfwd"
triggerall = command = "holdup"
Triggerall = StateNo != 107
trigger1 =  facing = -1
trigger1 = FrontEdgeBodyDist < 10
trigger2 =  facing = 1
trigger2 = FrontEdgeBodyDist < 10
;trigger2 = BackEdgeBodyDist < 10
value = 107
ctrl = 0


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.8,0.8

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = -3

[State 1312, 2]
type = VelAdd
trigger1 = Time > 13
y = 0.3

[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = 3

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = -3

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50



;---------------------------------------------------------------------------
; Jump Down (empty state for compatibility)
[Statedef 51]
type    = A
physics = A

[State 51, 1]
type = Null
trigger1 = 1

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

;If we get here for some reason and we're dead, go to the proper state.
[State 52, Dead]
type = ChangeState
trigger1 = !Alive
value = 5100

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = NumHelper(100000) = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 120]
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 0

[State 1052, Anim]
type = ChangeAnim
trigger1 = HitShakeOver = 1
trigger1 = AnimElem <= 2
value = 121+random%3

[State 1052, Anim]
type = ChangeAnim
trigger1 = HitShakeOver = 0
trigger1 = AnimTime = 0
value = 121+random%3

[State 1052, Anim]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 120
trigger2 = Anim = 130
value = 121+random%3

[State 1052, Anim]
type = ChangeAnim
trigger1 = Anim != 120
trigger1 = Anim != 130
trigger1 = Anim != 121
trigger1 = Anim != 122
trigger1 = Anim != 123
trigger1 = Anim != 124
value = 121+random%3

[State 150, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S


[State 52, 4]
type = ChangeState
trigger1 = Time > 1
trigger1 = var(59) = 0
trigger1 = Command = "holdback"
value = 1300

[State 52, 4]
type = ChangeState
trigger1 = Time > 1
trigger1 = var(59) = 0
trigger1 = Command = "holdfwd"
value = 1301

[State -1, Stand Strong Punch]
type = ChangeState
value = 1300
triggerall = var(59) = 1
triggerall = RoundState = 2
triggerall = P2BodyDist X <= 100
triggerall = P2BodyDist X >= -65
triggerall = statetype != A
triggerall = time > 5
TriggerAll = palno = 3
trigger1 = EnemyNear,ParentDist X != 0 || EnemyNear,HitDefAttr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
ignorehitpause = 0

[State 52, 4]
type = ChangeState
trigger1 = command != "hold_a"
trigger1 = var(59) = 0
trigger2 = p2MoveType != A
trigger2 = var(59) = 1
value = 0
ctrl = 1

[Statedef 130]
type    = C
movetype= H
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 130 + Var(57)*10000
sprpriority = 0

[State 210, 1]
type = PlaySnd
trigger1 = prevstateno = 130
trigger1 = movetype = H
trigger1 = Time = 0
value = 0, 11
channel = 2

[State 150, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command != "holddown"
statetype = C
physics = C

[State mode-1]
type = varSet
trigger1 = Time = 0
v = 50
value = 0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 130 + Var(57)*10000

[State 52, 4]
type = ChangeState
trigger1 = Time > 0
trigger1 = Command = "holdback"
value = 1300

[State 52, 4]
type = ChangeState
trigger1 = Time > 0
trigger1 = Command = "holdfwd"
value = 1301

[State 2200, 18]
type = ChangeState
trigger1 = Time >  1
trigger1 = command != "holddown"
trigger2 = AnimTime = 0
value = 120

[State 52, 4]
type = ChangeState
trigger1 = command != "hold_a"
value = 0
ctrl = 1



[Statedef 1300]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1300
sprpriority = 0

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.6,0.4

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
time = 1
add = 150,150,150

[State 7040,VelSet]
type = VelSet
trigger1 = Time = 0
persistent = 200
x = -7
y = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 120

[Statedef 1301]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1301
sprpriority = 0


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.6,0.4

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
time = 1
add = 150,150,150

[State 7040,VelSet]
type = VelSet
trigger1 = Time = 0
persistent = 200
x = 7
y = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 120



;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE


;---------------------------------------------------------------------------
[Statedef 5400]
Type = A
MoveType = H
Physics = N
shadow = 0,0,0
sprpriority = -1

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 5400

[State 5000, 0]
type = ChangeState
triggerall = random < 200
trigger1 = Time = 0
value = 5431

[State 5000, 0]
type = ChangeState
triggerall = random < 200
trigger1 = Time = 0
value = 5430

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 5400

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time < 30
scale = 0.73, 0.73

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 30
trigger1 = time < 35
scale = 0.71, 0.71

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 35
trigger1 = time < 40
scale = 0.69, 0.69

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 40
trigger1 = time < 45
scale = 0.67, 0.67

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 45
trigger1 = time < 50
scale = 0.65, 0.65

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 50
trigger1 = time < 55
scale = 0.63, 0.63

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 55
trigger1 = time < 60
scale = 0.61, 0.61

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 60
trigger1 = time < 70
scale = 0.59, 0.59

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 70
trigger1 = time < 85
scale = 0.57, 0.57

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 85
trigger1 = time < 90
scale = 0.55, 0.55

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 90
trigger1 = time < 95
scale = 0.53, 0.53

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 95
trigger1 = time < 100
scale = 0.51, 0.51

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 100
trigger1 = time < 105
scale = 0.49, 0.49

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 105
trigger1 = time < 110
scale = 0.47, 0.47

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 110
scale = 0.45, 0.45

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State 1053, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 11, 0

[State 1053, PosAdd]
type = PosSet
trigger1 = time = 0
y = -300

[State 1053, PosAdd]
type = PosAdd
trigger1 = time = 0
x = P2Dist X

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 300
trigger1 = time = 0
x = P2Dist X+50

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 250
trigger1 = time = 0
x = P2Dist X+25

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 200
trigger1 = time = 0
x = P2Dist X-50

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 150
trigger1 = time = 0
x = P2Dist X-25

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 100
trigger1 = time = 0
x = P2Dist X-40

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 50
trigger1 = time = 0
x = P2Dist X+40

[State 5050]
type = VarSet
trigger1 = Time = 0
v = 8
value = 0

[State 5050]
type = VarAdd
trigger1 = 1
v = 8
value = -18

[State 5050]
type     = AngleDraw
trigger1 = 1
value    = 1

[State 5050]
type     = AngleAdd
trigger1 = Time >=0
value    = Var(8)

[State 1053, VelSet]
type = VelSet
trigger1 = time < 119
trigger1 = time >= 5
y = .8

[State 1053, VelSet]
type = VelSet
trigger1 = time < 5
trigger1 = time >= 0
y = 15

[State 1053, VelSet]
type = VelSet
trigger1 = time < 119
X = .4

[State 300, Explod]
type = Explod
trigger1 = time = 119
sprpriority = 10
pos = 0, 0
postype = p1
anim = F2
ownpal = 1
supermove = 1
Scale = 0.25,0.25

[State 200, 2]
type = PlaySnd
trigger1 = time = 119
value = 0,26

[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = Time >= 0
Flag = NoShadow

[State 1320, State]
type = ChangeState
trigger1 = time > 119
value = 5401

;---------------------------------------------------------------------------
[Statedef 5401]
type = L
MoveType = H
Physics = N
shadow = 0,0,0
sprpriority = -1

[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = Time >= 0
Flag = NoShadow

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 5401

[State 300, Explod]
type = Explod
trigger1 = time = 29
sprpriority = -2
pos = 0, -30
postype = p1
anim = F100
ownpal = 1
supermove = 1

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State 1320, State]
type = Selfstate
trigger1 = time > 30
value = 5100
ctrl = 0






















;-----------------------------------------------
[Statedef 5402]
type = L
movetype = H
physics = N
ctrl = 0
velset = 0,0
facep2 = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5402

[State 20100, ?긽?긙긲깋긐]
type = VarSet
trigger1 = AnimElemTime(1) = 0
var(0) = 2

[State 20100, 뢎뿹긲깋긐]
type = VarSet
trigger1 = root,Win
var(0) = 9

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 1

[State 20100, 긇긽깋뚂믦]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 20100, ??긛긲깋긐]
type = VarSet
trigger1 = Time = 0
var(1) = GetHitVar(hitshaketime)

[State 20100, 뢣쀍]
type = VarAdd
trigger1 = var(1) > 0
var(1) = -1

[State 20100, 뚂믦]
type = PosFreeze
trigger1 = var(1) > 0
value = 1

[State 1320, State]
type = Selfstate
trigger1 = time = 100
value = 5100
ctrl = 0

[State 20100, 귺긦긽빾뛛]
type = ChangeState
trigger1 = var(1) = 0
value = 5403

;---------------------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 5403]
type    = S
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = -18

[State 1313, 2]
type = VelSet
trigger1 = Time > 0
X = 1

[State 290, 5]
type = ChangeState
trigger1 = movetype = H
trigger1 = Time > 0
trigger1 = Pos Y < -300
value = 5405

[State 1320, State]
type = Selfstate
trigger1 = Time = 40
value = 5100
ctrl = 0

[State 1320, State]
type = Selfstate
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100
ctrl = 0



;-----------------------------------------------
[Statedef 5410]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
facep2 = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5402

[State 20100, ?긽?긙긲깋긐]
type = VarSet
trigger1 = AnimElemTime(1) = 0
var(0) = 2

[State 20100, 뢎뿹긲깋긐]
type = VarSet
trigger1 = root,Win
var(0) = 9

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 1

[State 20100, 긇긽깋뚂믦]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,1

[State 20100, ??긛긲깋긐]
type = VarSet
trigger1 = Time = 0
var(1) = GetHitVar(hitshaketime)

[State 20100, 뢣쀍]
type = VarAdd
trigger1 = var(1) > 0
var(1) = -1

[State 20100, 뚂믦]
type = PosFreeze
trigger1 = var(1) > 0
value = 1

[State 1320, State]
type = Selfstate
trigger1 = time = 100
value = 5100
ctrl = 0

[State 20100, 귺긦긽빾뛛]
type = ChangeState
trigger1 = var(1) = 0
value = 5411

;---------------------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 5411]
type    = S
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 0

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = -10

[State 1313, 2]
type = VelSet
trigger1 = Time > 0
X = -8

[State 5050]
type = VarAdd
trigger1 = 1
v = 8
value = -18

[State 5050]
type     = AngleDraw
trigger1 = 1
value    = 1

[State 5050]
type     = AngleAdd
trigger1 = Time >=0
value    = Var(8)

[State 290, 5]
type = ChangeState
trigger1 = movetype = H
trigger1 = Time > 0
trigger1 = Pos Y < -300
value = 5405

[State 1320, State]
type = Selfstate
trigger1 = Time = 50
value = 5100
ctrl = 0

[State 1320, State]
type = Selfstate
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100
ctrl = 0



;---------------------------------------------------------------------------
[Statedef 5405]
Type = L
MoveType = H
Physics = N
shadow = 0,0,0
sprpriority = -1

[State 101, Turn]
type = Turn
triggerall = random < 200
trigger1 = Time = 0

[State 1052, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 5400


[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time < 30
scale = 0.50, 0.50

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 30
trigger1 = time < 35
scale = 0.50, 0.50

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 35
trigger1 = time < 40
scale = 0.48, 0.48

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 40
trigger1 = time < 45
scale = 0.45, 0.45

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 45
trigger1 = time < 50
scale = 0.42, 0.42

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 50
trigger1 = time < 55
scale = 0.39, 0.39

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 55
trigger1 = time < 60
scale = 0.36, 0.36

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 60
trigger1 = time < 70
scale = 0.33, 0.33

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 70
trigger1 = time < 85
scale = 0.30, 0.30

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 85
trigger1 = time < 90
scale = 0.27, 0.27

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 90
trigger1 = time < 95
scale = 0.24, 0.24

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 95
trigger1 = time < 100
scale = 0.21, 0.21

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 100
trigger1 = time < 105
scale = 0.18, 0.18

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 105
trigger1 = time < 110
scale = 0.15, 0.15

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 110
scale = 0.02, 0.02

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State 1053, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 11, 0

[State 1053, PosAdd]
type = PosSet
trigger1 = time = 0
y = -300

[State 1053, PosAdd]
type = PosAdd
trigger1 = time = 0
x = P2Dist X

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 300
trigger1 = time = 0
x = P2Dist X+50

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 250
trigger1 = time = 0
x = P2Dist X+25

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 200
trigger1 = time = 0
x = P2Dist X-50

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 150
trigger1 = time = 0
x = P2Dist X-25

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 100
trigger1 = time = 0
x = P2Dist X-40

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 50
trigger1 = time = 0
x = P2Dist X+40

[State 5050]
type = VarSet
trigger1 = Time = 0
v = 8
value = 0

[State 5050]
type = VarAdd
trigger1 = 1
v = 8
value = -18

[State 5050]
type     = AngleDraw
trigger1 = 1
value    = 1

[State 5050]
type     = AngleAdd
trigger1 = Time >=0
value    = Var(8)

[State 1053, VelSet]
type = VelSet
trigger1 = time < 119
trigger1 = time >= 5
y = .8

[State 1053, VelSet]
type = VelSet
trigger1 = time < 5
trigger1 = time >= 0
y = 15

[State 1053, VelSet]
type = VelSet
trigger1 = time < 129
X = .4

[State 300, Explod]
type = Explod
trigger1 = time = 129
sprpriority = -2
pos = 0, 0
postype = p1
anim = F2
ownpal = 1
supermove = 1
Scale = 0.25,0.25

[State 0, Kill Helper]
type = DestroySelf
trigger1 = IsHelper = 1
trigger1 = Time = 129

[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = Time >= 0
Flag = NoShadow

[State 1320, State]
type = ChangeState
trigger1 = time > 529
value = 5406

;---------------------------------------------------------------------------
[Statedef 5406]
type = L
MoveType = H
Physics = N
shadow = 0,0,0
sprpriority = -1

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = Time >= 0
Flag = NoShadow

[State 1052, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 5401

[State 300, Explod]
type = Explod
trigger1 = time = 29
sprpriority = 10
pos = 0, -30
postype = p1
anim = F100
ownpal = 1
supermove = 1

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State 1320, State]
type = Selfstate
trigger1 = time > 30
value = 5100
ctrl = 0

;------    ------
[Statedef 5450]
type = A
movetype = H
physics = N
velset = 0

[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
value = 40

[State 1000, 0]
type = AngleDraw
trigger1 = 1

[State 200, 1]
type = HitDef
trigger1 = TimeMod = 15,1
Attr = S, SP
affectteam = F
damage = 55, 0
animtype = Up
hitflag = MAFLD
guardflag = MAFLD
priority = 2, Hit 
pausetime = 1, 1
sparkno = 1
sparkxy = -10, -0 
hitsound = 5, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 2,-8
airguard.velocity = 2,-8
guard.velocity = -2
air.type = High
air.velocity = 2,-8
air.hittime = 12
yaccel  = 0.5
fall = 1
fall.recover = 0
kill = 0

[State 210, 3]
type = PosAdd
trigger1 = time = 0
y = -11

[State 1370, Anim]
type = ChangeAnim2
trigger1 = time = 0
value = 5450

[state 100,0]
type = HitVelSet
trigger1 = time = 0
x = 1
y = 1

[State 1525, 4]
type = VelAdd
trigger1 = Time > 0
y = .3

[State 1370, Sprite2]
type = SprPriority
trigger1 = 1
value = 1

[State 440, 4]
type = DestroySelf
trigger1 = IsHelper = 1
trigger1 = IsHelper (4444) = 0
trigger1 = IsHelper (3000) = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 100
value = 5100
ctrl = 0

[State 1420, State]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100


;----------------------------------------------- ;앞으로 날리기
[Statedef 5450]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
facep2 = 1

[State 200, 2]
type = PlaySnd
Trigger1 = Time = 0
value = F40,IfElse(random < 500, 5, 4)
channel = 7
volume = 250

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5402

[State 0, 0]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1320, State]
type = Selfstate
trigger1 = time = 70
value = 5100
ctrl = 0

[State 20100, 0]
type = ChangeState
trigger1 = HitShakeOver
value = 5451

[Statedef 5451]
type = A
movetype = H
sprpriority = 1
velset = 0,0
facep2 = 1

[State 630, 1]
type = PlaySnd
trigger1 = Time = 0
value = F30, 1
channel = 2

[State 0, 0]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5450

[State 200, 1]
type = HitDef
trigger1 = Time = 1
attr = S, NA
damage = 60, 20
affectteam = F
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 4, 4
sparkno = 1
sparkxy = -10, 0  
hitsound = 5, 0
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = 3,-2
airguard.velocity = 3,-2
air.type = High
air.velocity = 3,-2
air.hittime = 12
yaccel  =0.5

[State 4500, Fly!]
type = VelSet
trigger1 = Time = 0
x = -10

[State 0, 0]
type = VelSet
trigger1 = Time = 0
y = -4.8

[State 4500, Uhoh]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 700, 5]
type = Angleadd
trigger1 = 1
value = -35

[State 700, 5]
type = AngleDraw
trigger1 = 1

[State 300, Explod]
type = Explod
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
trigger3 = (Vel y > 0) && (Pos y >= 0)
sprpriority = 2
pos = -10, 0
postype = p1
anim = F2
ownpal = 1
supermove = 1
scale = 1.0, 1.0

[State 630, 1]
type = PlaySnd
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
trigger3 = (Vel y > 0) && (Pos y >= 0)
value = F7, 0
channel = 0

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -10
trigger1 = BackEdgeBodyDist < 30
trigger2 = FrontEdgeBodyDist < 30
value = 1
movecamera = 0

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < 0
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
value = 5460

[State 1026, Hit ground]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5460

[Statedef 5460]
type = A
movetype = H
sprpriority = 1
velset = 0,0

[State 0, 0]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 200, 1]
type = HitDef
trigger1 = Time = 1
attr = S, NA
damage = 70, 20
affectteam = F
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 4, 4
sparkno = 1
sparkxy = -10, 0  
hitsound = 5, 0
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = 3,-2
airguard.velocity = 3,-2
air.type = High
air.velocity = 3,-2
air.hittime = 12
yaccel  =0.5

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5450

[State 4500, Fly!]
type = VelSet
trigger1 = Time = 0
x = 10

[State 0, 0]
type = VelSet
trigger1 = Time = 0
y = -2.8

[State 4500, Uhoh]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 700, 5]
type = Angleadd
trigger1 = 1
value = -35

[State 700, 5]
type = AngleDraw
trigger1 = 1

[State 300, Explod]
type = Explod
trigger1 = FrontEdgeBodyDist <= 0
trigger2 = (Vel y > 0) && (Pos y >= 0)
sprpriority = 2
pos = 10, 0
postype = p1
anim = F2
ownpal = 1
supermove = 1
scale = 1.0, 1.0

[State 630, 1]
type = PlaySnd
trigger1 = FrontEdgeBodyDist <= 0
trigger2 = (Vel y > 0) && (Pos y >= 0)
value = F7, 0
channel = 0

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -10
trigger1 = FrontEdgeBodyDist <= 0
value = 1
movecamera = 0

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < 0
trigger1 = FrontEdgeBodyDist <= 0
value = 5461

[State 1026, Hit ground]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5461

[Statedef 5461]
type = A
movetype = H
sprpriority = 1
velset = 0,0

[State 0, 0]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 200, 1]
type = HitDef
trigger1 = Time = 1
attr = S, NA
damage = 70, 20
affectteam = F
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 4, 4
sparkno = 1
sparkxy = -10, 0  
hitsound = 5, 0
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = 3,-2
airguard.velocity = 3,-2
air.type = High
air.velocity = 3,-2
air.hittime = 12
yaccel  =0.5

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5450

[State 4500, Fly!]
type = VelSet
trigger1 = Time = 0
x = -10

[State 0, 0]
type = VelSet
trigger1 = Time = 0
y = 10.8

[State 4500, Uhoh]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 700, 5]
type = Angleadd
trigger1 = 1
value = -35

[State 700, 5]
type = AngleDraw
trigger1 = 1

[State 300, Explod]
type = Explod
trigger1 = BackEdgeBodyDist <= 0
trigger2 = (Vel y > 0) && (Pos y >= 0)
sprpriority = 2
pos = -10, 0
postype = p1
anim = F2
ownpal = 1
supermove = 1
scale = 1.0, 1.0

[State 630, 1]
type = PlaySnd
trigger1 = BackEdgeBodyDist <= 0
trigger2 = (Vel y > 0) && (Pos y >= 0)
value = F7, 0
channel = 0

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -10
trigger1 = BackEdgeBodyDist < 30
value = 1
movecamera = 0

[State 1026, Hit wall]
type = Selfstate
triggerall = Pos y < 0
trigger1 = BackEdgeBodyDist <= 0
value = 5100

[State 1026, Hit ground]
type = Selfstate
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100


;---------------------------------------------------------------------------
[Statedef 5430]
Type = L
MoveType = H
Physics = N
shadow = 0,0,0
sprpriority = 9

[State 2601, EnvShake]
type = EnvShake
trigger1 = time = 20
time = 15
ampl = -6
ignorehitpause = 1

[State 1053, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F5, 3

[State 101, Turn]
type = Turn
triggerall = random < 200
trigger1 = Time = 0

[State 1052, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 5400

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 2.1, 2.1

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State 1053, PosAdd]
type = PosSet
trigger1 = time = 0
y = -300

[State 1053, PosAdd]
type = PosAdd
trigger1 = time = 0
x = P2Dist X

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 300
trigger1 = time = 0
x = P2Dist X+50

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 250
trigger1 = time = 0
x = P2Dist X+25

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 200
trigger1 = time = 0
x = P2Dist X-50

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 150
trigger1 = time = 0
x = P2Dist X-25

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 100
trigger1 = time = 0
x = P2Dist X-40

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 50
trigger1 = time = 0
x = P2Dist X+40

[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
trigger1 = time < 20
value = -20

[State 1000, 0]
type = Angleadd
trigger1 = time >= 20
value = 0

[State 1000, 0]
type = AngleDraw
trigger1 = 1

[State 1053, VelSet]
type = VelSet
trigger1 = time < 20
trigger1 = time >= 5
y = 13.8

[State 1053, VelSet]
type = VelSet
trigger1 = time < 30
trigger1 = time >= 20
y = 0

[State 1053, VelSet]
type = VelSet
trigger1 = time < 30
trigger1 = time >= 20
x = 0

[State 1053, VelSet]
type = Veladd
trigger1 = time >= 30
y = 0.6

[State 1053, VelSet]
type = VelSet
trigger1 = time < 5
trigger1 = time >= 0
y = 15

[State 1053, VelSet]
type = VelSet
trigger1 = time < 20
X = 0.9

[State 300, Explod]
type = Explod
trigger1 = time = 20
sprpriority = 11
pos = 0, 0
postype = p1
anim = F0
ownpal = 1
supermove = 1
scale = 3.5, 3.5

[State 0, Kill Helper]
type = DestroySelf
trigger1 = IsHelper = 1
trigger1 = Time = 65

[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = Time >= 0
Flag = NoShadow

[State 1320, State]
type = ChangeState
trigger1 = time > 65
value = 5406

;---------------------------------------------------------------------------
[Statedef 5431]
Type = L
MoveType = H
Physics = N
shadow = 0,0,0
sprpriority = 9

[State 1053, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 11, 0

[State 101, Turn]
type = Turn
triggerall = random < 200
trigger1 = Time = 0

[State 1052, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 5400

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 2.1, 2.1

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State 1053, PosAdd]
type = PosSet
trigger1 = time = 0
y = -300

[State 1053, PosAdd]
type = PosAdd
trigger1 = time = 0
x = P2Dist X

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 300
trigger1 = time = 0
x = P2Dist X+50

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 250
trigger1 = time = 0
x = P2Dist X+25

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 200
trigger1 = time = 0
x = P2Dist X-50

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 150
trigger1 = time = 0
x = P2Dist X-25

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 100
trigger1 = time = 0
x = P2Dist X-40

[State 1053, PosAdd]
type = PosAdd
triggerall = random < 50
trigger1 = time = 0
x = P2Dist X+40

[State 1000, 0]
type = Angleadd
trigger1 = 1
value = -20

[State 1000, 0]
type = AngleDraw
trigger1 = 1

[State 1053, VelSet]
type = VelSet
trigger1 = time >= 5
y = 6.8

[State 1053, VelSet]
type = VelSet
trigger1 = time < 5
trigger1 = time >= 0
y = 15

[State 1053, VelSet]
type = VelSet
trigger1 = time < 70
X = 1.4

[State 0, Kill Helper]
type = DestroySelf
trigger1 = IsHelper = 1
trigger1 = Time = 70

[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = Time >= 0
Flag = NoShadow

[State 1320, State]
type = ChangeState
trigger1 = time > 70
value = 5406





[Statedef 103]
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 103
sprpriority = 0


[State 100, 3]
type = ChangeState
triggerall = command = "holdfwd"
triggerall = command = "holdup"
trigger1 = ScreenPos X < 30
trigger2 = FrontEdgeBodyDist < 10
trigger3 = BackEdgeBodyDist < 10
value = 107
ctrl = 0

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.7,0.5

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
time = 1
add = 150,150,150

[State 7040,VelSet]
type = VelSet
trigger1 = Time = 0
persistent = 200
x = 5
y = 0

[State 100, 3]
type = ChangeState
trigger1 = Command = "holdback"
value = 105
ctrl = 1

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,50

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 100
ctrl = 1

;---------------------------------------------------------------------------

[Statedef 622]
type    = A
movetype= I
physics = N
poweradd= 15
ctrl = 0
anim = 650
sprpriority = 2

[State 1520, 1]
type = NotHitBy
trigger1 = Time < 21
value = SCA
time = 1

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.7,0.4

[State 640, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 1
channel = 0

[State 205, 0]
type = PalFX
trigger1 = Time < 21
trigger1 = TimeMod = 3,0
time = 1
add = 150,150,150

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = 10

[State 1312, 2]
type = VelAdd
trigger1 = Time > 8
y = 0.4

[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = IfElse(Vel X < Const(velocity.jump.fwd.x), Vel X+4.8, Const(velocity.jump.fwd.x))

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = IfElse(Vel X > -Const(velocity.jump.fwd.x), Vel X-4.8, -Const(velocity.jump.fwd.x))

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 4.3, fvar(3), 0)

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 611



;------   ------
[Statedef 100]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 100



[State 20, WalkSound]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
value = 0, 79
channel = 2

[State -2,a]
type = Explod
trigger1 = Time= 0
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 0
supermove = 0
scale = 0.5,0.5


[State 100,1]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 1]
type = VelSet
trigger1 = Time > 0
x = 3


[State 100, 3]
type = Selfstate
triggerall = movetype != H
triggerall = statetype = A
triggerall = command = "holdfwd"
triggerall = command = "holdup"
Triggerall = StateNo != 107
trigger1 =  facing = -1
trigger1 = FrontEdgeBodyDist < 10
trigger2 =  facing = 1
trigger2 = FrontEdgeBodyDist < 10
;trigger2 = BackEdgeBodyDist < 10
value = 107
ctrl = 0


[State 100, 3]
type = ChangeState
trigger1 = (command = "holdup") && (time >= 0)
value = 40
ctrl = 0

[State 100, 3]
type = ChangeState
trigger1 = (command != "holdfwd") && (time >= 0)
value = 101
ctrl = 0





;------   ------
[Statedef 107]
type = A
physics = S
ctrl = 0
velset = 0,0
anim = 107


[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
time = 1
add = 150,150,150

;[State 1026, No scroll]
;type = ScreenBound
;trigger1 = 1
;value = 1
;movecamera = 0

[State 20, WalkSound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 90
channel = 0

[State 20, WalkSound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 79
channel = 2

[State -2,a]
type = Explod
trigger1 = Time= 0
trigger2 = AnimElem = 2
anim = F62
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 0
supermove = 0
scale = 0.5,0.5

[State 100, 1]
type = VelSet
trigger1 = Time > 4
y = -4

[State 100, 1]
type = VelSet
trigger1 = Time > 0
x = 20

[State 100, 3]
type = ChangeState
trigger1 = (command != "holdfwd") && (time >= 10)
trigger1 = (command != "holdup") && (time >= 10)
value = 105
ctrl = 0




;  101 slide
[Statedef 101]
type = S
physics = S
anim = 101
ctrl = 0
velset = 0,0

[State 101, Turn]
type = Turn
trigger1 = Time = 4
trigger1 = Command = "holdback"

[State 101, End]
type = ChangeState
trigger1 = Time = 4
value = IfElse(Command = "holdback", 100, 0)
ctrl = 1

[State 101, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
; CNS 깒긹깑: 딈?
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F60
pos = -10,0
postype = p1
velocity = 0,0
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.4,0.2

[State 195, 1]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 11,111


[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS 깒긹깑: 딈?
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
; CNS 깒긹깑: 딈?
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; CNS 깒긹깑: 딈?
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 17
value = 0,79

[State -2,a]
type = Explod
trigger1 = AnimElem = 17
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State 174, 2]
type = PlaySnd
triggerall = EnemyNear,Name = "Hanzo"
trigger1 = AnimElem = 19,15
value = 0,85

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;---------------------------------------------------------------------------
[Statedef 1927]
type    = A
movetype= I
physics = N
juggle  = 3
poweradd= 65
ctrl = 0
anim = 1927
sprpriority = 100

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 27
scale = 1.0, 1.0

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0

[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
value = -15

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = -3

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 100, 4]
type = DestroySelf
trigger1 = time > 270



;---------------------------------------------------------------------------
[Statedef 1928]
type    = A
movetype= I
physics = N
juggle  = 3
poweradd= 65
ctrl = 0
anim = 80
sprpriority = 100

[State 117,0]
type = VarSet
trigger1 = Time = 0 
var(1) = 0

[State 174, 2]
type = PlaySnd
trigger1 = time = 80
value = 11,0



[State 174, 2]
type = PlaySnd
trigger1 = time = 0
value = 0,40

[State 117,0]
type = Varadd
trigger1 = var(1) = 0
trigger1 = fvar(24) < 2.0
fvar(24) = 0.2
ignorehitpause = 1

[State 117, 0]
type = null ;zoom
trigger1 = var(1) != 2
pos = pos x , 0;enemy,pos y +
scale = .5+fvar(24)
ignorehitpause = 1

[State 1313, 2]
type = VarSet
trigger1 = var(1) = 0
trigger1 = fvar(24) >= 2.0
trigger1 = Time >= 30
var(1) = 1
ignorehitpause = 1

[State 1313, 2]
type = VarSet
trigger1 = var(1) = 1
trigger1 = fvar(24) <= 0
var(1) = 2
ignorehitpause = 1

[State 100, 4]
type = DestroySelf
trigger1 = time > 100


;---------------------------------------------------------------------------
[Statedef 1924]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
anim = 1924
sprpriority = 2


[State 7005, 1]
type = Turn
trigger1 = command = "holdback"
 

[State 174, 2]
type = PlaySnd
trigger1 = Anim = 1923
trigger1 = AnimElem = 13,70
value = 0,101

[State 174, 2]
type = PlaySnd
trigger1 = Anim = 1923
trigger1 = AnimElem = 13,50
value = 0,100

[State 12500, 2]
type = Helper
trigger1 = Anim = 1923
trigger1 = AnimElem = 13,100
helpertype = normal
name = "카메라"
pos = 0,-35
postype = P1
facing = 1
stateno = 1928
keyctrl = 0
ownpal = 1
Size.XScale = 0.7
Size.YScale = 0.7

[State 12500, 2]
type = Helper
trigger1 = Anim = 1924
trigger1 = AnimElem = 5
helpertype = normal
name = "더미"
ID = 4440
pos = -250,-15
postype = P1
facing = 1
stateno = 1927
keyctrl = 0
ownpal = 1
Size.XScale = 0.7
Size.YScale = 0.7


[State 117,0]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 117,0]
type = Varadd
trigger1 = var(1) = 1
trigger1 = fvar(24) >= 0.0
fvar(24) = -0.2
ignorehitpause = 1

[State 117,0]
type = Varadd
trigger1 = var(1) = 0
trigger1 = fvar(24) < 2.0
fvar(24) = 0.2
ignorehitpause = 1

[State 117, 0]
type = null ;Zoom
trigger1 = var(1) != 2
pos = pos x , 0;enemy,pos y +
scale = .5+fvar(24)
ignorehitpause = 1

[State 1313, 2]
type = VarSet
trigger1 = var(1) = 0
trigger1 = fvar(24) >= 2.0
trigger1 = Time >= 30
var(1) = 1
ignorehitpause = 1

[State 1313, 2]
type = VarSet
trigger1 = var(1) = 1
trigger1 = fvar(24) <= 0
var(1) = 2
ignorehitpause = 1

[State -2,a]
type = Explod
trigger1 = Anim = 1923
trigger1 = AnimElem = 5
anim = 1925
pos = 22,-65
postype = p1
velocity = 0,0
sprpriority = 8
random = 30,30
removetime = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.7


[State -2,a]
type = Explod
trigger1 = Anim = 1923
trigger1 = AnimElem = 5
anim = 1925
pos = 22,-65
postype = p1
velocity = 0,0
sprpriority = 8
random = 30,30
removetime = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.7,0.1





[State -2,a]
type = Explod
trigger1 = Anim = 1923
trigger1 = AnimElem = 10
anim = 1925
pos = -47,-27
postype = p1
velocity = 0,0
sprpriority = 8
random = 30,30
removetime = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.7


[State -2,a]
type = Explod
trigger1 = Anim = 1923
trigger1 = AnimElem = 10
anim = 1925
pos = -47,-27
postype = p1
velocity = 0,0
sprpriority = 8
random = 30,30
removetime = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.7,0.1


[State -2,a]
type = Explod
trigger1 = Anim = 1923
trigger1 = AnimElem = 11
anim = 1925
pos = 13,-44
postype = p1
velocity = 0,0
sprpriority = 8
random = 30,30
removetime = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.7


[State -2,a]
type = Explod
trigger1 = Anim = 1923
trigger1 = AnimElem = 11
anim = 1925
pos = 13,-44
postype = p1
velocity = 0,0
sprpriority = 8
random = 30,30
removetime = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.7,0.1




[State -2,a]
type = Explod
trigger1 = Anim = 1923
trigger1 = AnimElem = 13
anim = 1925
pos = -49,-39
postype = p1
velocity = 0,0
sprpriority = 8
random = 30,30
removetime = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.7


[State -2,a]
type = Explod
trigger1 = Anim = 1923
trigger1 = AnimElem = 13
anim = 1925
pos = -49,-39
postype = p1
velocity = 0,0
sprpriority = 8
random = 30,30
removetime = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.7,0.1




[State 805, Anim]
type = ChangeAnim
triggerall = Anim = 1924
trigger1 = AnimElem = 8 , >= 0
trigger1 = command = "holdfwd"
value = 1923

[State -2,a]
type = Explod
trigger1 = Anim = 1924
trigger1 = AnimElem = 2
anim = 1925
pos = 0,-35
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.5,0.5

[State -2,a]
type = Explod
triggerall = Anim = 1923
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
trigger3 = AnimElem = 11
trigger4 = AnimElem = 13
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Anim = 1924
trigger1 = AnimElem = 2
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State 174, 2]
type = PlaySnd
triggerall = Anim = 1923
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
trigger3 = AnimElem = 11
trigger4 = AnimElem = 13
value = 0,94

[State 174, 2]
type = PlaySnd
trigger1 = Anim = 1924
trigger1 = AnimElem = 2
value = 0,99

[State 174, 2]
type = PlaySnd
trigger1 = Anim = 1923
trigger1 = AnimElem = 13
value = 0,95

[State 805, Anim]
type = ChangeState
trigger1 = command = "z"
value = 195



;---------------------------------------------------------------------------
[Statedef 195]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
anim = 195
sprpriority = 2

[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 0,91

[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,88


[State -2,a]
type = Explod
trigger1 = AnimElem = 9
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0



[State 195, 1]
type = CtrlSet
trigger1 = Time >= 20
value = 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 196]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
anim = 195
sprpriority = 2


[State -2,a]
type = Explod
trigger1 = AnimElem = 9
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0


[State 12500, 2]
type = Helper
trigger1 = numhelper(4000) <= 0
helpertype = normal
name = "레이게이터"
ID = 4000
pos = -20,0
postype = P1
facing = 1
stateno = 20000
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 0,91

[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 0,1

[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,84

[State 195, 1]
type = CtrlSet
trigger1 = Time >= 20
value = 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
[Statedef 197]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
anim = 197
sprpriority = 2



[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1


[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,83

[State 195, 1]
type = CtrlSet
trigger1 = Time >= 20
value = 1


;---------------------------------------------------------------------------
[Statedef 197]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
anim = 19999
sprpriority = 2





[State 205, 0]
type = PalFX
trigger1 = AnimElem = 2
time = -1
add = 250, 0, 0
sinadd = 250, 0, 0, 5
color = 0
invertall = 1

[State 0]
	type = Explod
        Trigger1 =  1
	anim = 20000+random%9
	postype = p1
	pos = -45+random%9, -70+random%9
        Facing = Ifelse(Facing = 1, 1, -1)
	sprpriority = 0
	scale = 1.0, 1.0
	bindtime = -1
	ownpal = 0
	ontop = 1
	removetime = 1
	supermovetime = 999999
	pausemovetime = 999999
	IgnoreHitPause = 1


[State 0]
	type = Explod
        Trigger1 =  1
	anim = 20000+random%9
	postype = p1
	pos = 45+random%9, -70+random%9
        Facing = Ifelse(Facing = 1, 1, -1)
	sprpriority = 0
	scale = 1.0, 1.0
	bindtime = -1
	ownpal = 0
	ontop = 1
	removetime = 1
	supermovetime = 999999
	pausemovetime = 999999
	IgnoreHitPause = 1






[State 0]
	type = Explod
        Trigger1 =  1
	anim = 20000+random%9
	postype = p1
	pos = -15+random%9, -70+random%9
        Facing = Ifelse(Facing = 1, 1, -1)
	sprpriority = 0
	scale = 1.0, 1.0
	bindtime = -1
	ownpal = 0
	ontop = 1
	removetime = 1
	supermovetime = 999999
	pausemovetime = 999999
	IgnoreHitPause = 1


[State 0]
	type = Explod
        Trigger1 =  1
	anim = 20000+random%9
	postype = p1
	pos = 15+random%9, -70+random%9
        Facing = Ifelse(Facing = 1, 1, -1)
	sprpriority = 0
	scale = 1.0, 1.0
	bindtime = -1
	ownpal = 0
	ontop = 1
	removetime = 1
	supermovetime = 999999
	pausemovetime = 999999
	IgnoreHitPause = 1

[State 0]
	type = Explod
        Trigger1 =  1
	anim = 20000+random%9
	postype = p1
	pos = -30+random%9, -70+random%9
        Facing = Ifelse(Facing = 1, 1, -1)
	sprpriority = 0
	scale = 1.0, 1.0
	bindtime = -1
	ownpal = 0
	ontop = 1
	removetime = 1
	supermovetime = 999999
	pausemovetime = 999999
	IgnoreHitPause = 1





[State 0]
	type = Explod
        Trigger1 =  1
	anim = 20000+random%9
	postype = p1
	pos = 30+random%9, -70+random%9
        Facing = Ifelse(Facing = 1, 1, -1)
	sprpriority = 0
	scale = 1.0, 1.0
	bindtime = -1
	ownpal = 0
	ontop = 1
	removetime = 1
	supermovetime = 999999
	pausemovetime = 999999
	IgnoreHitPause = 1





[State 0]
	type = Explod
        Trigger1 =  1
	anim = 20000+random%9
	postype = p1
	pos = 0+random%9, -70+random%9
        Facing = Ifelse(Facing = 1, 1, -1)
	sprpriority = 0
	scale = 1.0, 1.0
	bindtime = -1
	ownpal = 0
	ontop = 1
	removetime = 1
	supermovetime = 999999
	pausemovetime = 999999
	IgnoreHitPause = 1



[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,57


[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 11,0

[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,55

[State 195, 1]
type = CtrlSet
trigger1 = Time >= 20
value = 1



;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 5                      ;Number of air juggle points move takes
;Commonly-used controllers:                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = Time = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 40, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
hitflag = MAFLDP
guardflag = MAFLDP                   ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 10                ;Time attacker pauses, time opponent shakes
guard.pausetime = 10,1
sparkno = 2                      ;Spark anim no (Def: set above)
sparkxy = -10, -20               ;X-offset for the "hit spark" rel. to p2,
hitsound = s0, 92                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 10             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
guard.velocity = -4
ground.velocity = 0,0            ;Velocity at which opponent is pushed
airguard.velocity = 0,-2     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-2           ;X-velocity at which opponent is pushed,
air.hittime = 12                 ;Time before opponent regains control in air
fall.recover = 0



[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = Time = 4
attr = S, NA
damage = 40, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit
pausetime = 1, 20
guard.pausetime = 1,20
sparkno = 2
sparkxy = -10, -20
hitsound = s0, 92
guardsound = 6, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0,0
guard.velocity = -4
airguard.velocity = 0,-2
air.type = High
air.velocity = 0,-2
air.hittime = 12
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120






[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3105) = 0
;trigger1 = MoveHit = 1
Trigger1 =  AnimElem = 1
ID          = 3105
anim = 3105
pos = 80,-100
postype = p1
velocity = -9,20
sprpriority = 3
removetime = 15
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 1
channel = 2
volume = 0

[State 7040,VelSet]
type = VelSet
trigger1 = AnimElem = 1
persistent = 200
x = 0
y = 0


[State 1000, 2]
type = ReversalDef
Trigger1 = AnimElem = 8 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 0,0
sparkno = 40
sparkxy = 10,0
hitsound = 6,0



[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 = Time < 4 | AnimElem = 8 , >= 0
trigger2 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 1,1
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -4

[State 200, Phase2]
type = ChangeState
trigger1 = AnimElemtime(7) >= 0 && AnimElemtime(11) < 0
trigger1 = Command = "x"
trigger2 = Command = "x"
trigger2 = movecontact
value = 201

[State 7005, 1]
type = Turn
trigger1 = AnimElem = 1
trigger1 = command = "holdback"

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
ctrl = 0
anim = 201
poweradd = 20
sprpriority = 2



[State 7005, 1]
type = Turn
trigger1 = AnimElem = 1
trigger1 = command = "holdback"

[State 7040,VelSet]
type = VelSet
trigger1 = AnimElem = 1
persistent = 200
x = 8
y = 0

[State 2201, 2]
type = PlayerPush
trigger1 = movehit = 1
value = 0
ignorehitpause = 1


[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 5
channel = 0
volume = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 1
channel = 2
volume = 0

[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = Time = 4
attr = S, NA
damage = 30, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
guard.pausetime = 10,1
sparkno = 2
sparkxy = -10, -20
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 27
ground.hittime  = 27
ground.velocity = -5,0
airguard.velocity = -3,-1
guard.velocity = -3
air.type = High
air.velocity = -3,-1
air.hittime = 12
yaccel  =0.1
air.fall = 1
air.fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = Time = 4
attr = S, NA
damage = 30, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 1, 20
guard.pausetime = 1,20
sparkno = 2
sparkxy = -10, -20
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 27
ground.hittime  = 27
ground.velocity = -5,0
airguard.velocity = -3,-1
guard.velocity = -3
air.type = High
air.velocity = -3,-1
air.hittime = 12
yaccel  =0.1
air.fall = 1
air.fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120

[State 7005, 1]
type = Turn
trigger1 = command = "holdback"
trigger1 = movehit = 1

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -4

[State 1000, 2]
type = ReversalDef
Trigger1 =  AnimElem = 8 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 =  Time < 4 | AnimElem = 8 , >= 0
trigger2 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0



[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3107) = 0
Trigger1 =  AnimElem = 1
;trigger1 = MoveHit = 1
ID          = 3107
anim = 3107
pos = -80,50
postype = p1
velocity = 20,-9
sprpriority = 3
removetime = 15
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1


[State 200, Phase2]
type = ChangeState
trigger1 = AnimElemtime(7) >= 0
trigger1 = Command = "x"
trigger2 = Command = "x"
trigger2 = movecontact
value = 211
ignorehitpause = 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 211
sprpriority = -1


[State 7005, 1]
type = Turn
trigger1 = AnimElem = 1
trigger1 = command = "holdback"

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 1
channel = 2
volume = 100

[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = Time = 4
attr = S, HA
damage = 30, 10
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
guard.pausetime = 1,1
sparkno = 2
sparkxy = -15, -20
hitsound = s0, 10
guardsound = 6, 0
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -15
ground.velocity = -10,-3
airguard.velocity = -10,-3
air.type = High
air.velocity = -10,-3
air.hittime = 12
yaccel  =0.2
fall = 1
fall.recover = 0


[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = Time = 4
attr = S, HA
damage = 30, 10
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 1, 20
guard.pausetime = 1,20
sparkno = 2
sparkxy = -15, -20
hitsound = s0, 10
guardsound = 6, 0
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -15
ground.velocity = -10,-3
airguard.velocity = -10,-3
air.type = High
air.velocity = -10,-3
air.hittime = 12
yaccel  =0.2
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120

[State 12500, 2]
type = Helper
trigger1 = numhelper(371) <= 0
trigger1 = MoveHit = 1
trigger1 = var(31) = 1
helpertype = normal
name = "류"
ID = 371
pos = 25,-20
postype = P1
facing = 1
stateno = 3710
ownpal = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
Size.XScale = 1.0
Size.YScale = 1.0
IgnoreHitPause = 1

[State 1000, 0]
type = TargetState
trigger1 = MoveGuarded = 1
trigger1 = Time >= 4
value = 748
persistent = 0
IgnoreHitPause = 1

[State -2,a]
type = Explod
trigger1 = animelem = 1
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.7,0.7


[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -7

[State 1000, 2]
type = ReversalDef
Trigger1 =  AnimElem = 7 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 =  Time < 4 | AnimElem = 7 , >= 0
trigger2 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT,HA
reversal.attr = SCA, SA, NP , NA, NT,HA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0





[State 1313, 2]
type = VelSet
Trigger1 =  AnimElem = 1
x = 8

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




[Statedef 243]
type    = S
movetype= A
physics = S
poweradd= 10
juggle  = 30
ctrl = 0
velset = 0,0
anim = 243
sprpriority = -1

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 1

[State -2,a]
type = Explod
trigger1 = MoveHit = 1
anim = F100
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 3.3,0.3
ignorehitpause = 1


[State -2,a]
type = Explod
trigger1 = MoveHit = 1
anim = F100
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.3,3.3
ignorehitpause = 1


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,0.3

[State -2, Pause]
type = Pause
trigger1 = MoveHit
trigger1 = command = "hold_x"
trigger1 = AnimElem = 19,< 0
time =8
p2movetime = 8
p2darken = 8
ignorehitpause = 1

[State 1370, Sprite2]
type = SprPriority
trigger1 = 1
value = -1
ignorehitpause = 1

[State 1000, sombra]
type = AfterImage
trigger1 = var(31) = 1
trigger1 = Time = 0
TriggerAll = palno = 1
trans = add1
PalContrast =  250, 250, 0
PalBright = 250,250,0
time = 25
length  = 10
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
trigger1 = var(31) = 1
trigger1 = Time = 0
TriggerAll = palno = 2
trans = add1
PalContrast =  250, 100, 0
PalBright = 250,100,0
time = 25
length  = 10
TimeGap = 1
FrameGap = 1

[State 30, 6]
type = VelSet
trigger1 = Time = 0
x = 15


[State 30, 6]
type = VelSet
trigger1 = MoveHit = 1
x = 12


[State -3]
type = varset
trigger1 = var(12) = 1
trigger1 = Time = 0
var(12) = 0

[State -3]
type = varset
trigger1 = Time = 5
trigger1 = p2movetype = A
var(12) = 1




[State 200, 1]
type = HitDef
trigger1 = var(12) = 0
trigger1 = Time = 5
attr = S, NA
damage = 100, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = -10, -15
hitsound = s0, 92
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -15
ground.velocity = 0,0
airguard.velocity = -0,-5
air.type = Trip
air.velocity = -0,-5
air.hittime = 12
yaccel  =0.3
air.fall = 1
air.fall.recover = 0
getpower         = 50, -50
givepower        = -50, 55



[State 200, 1]
type = HitDef
trigger1 = var(12) = 1
trigger1 = Time = 5
attr = S, NA
damage = 100, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = -10, -15
hitsound = s0, 92
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -15
ground.velocity = 0,-5
airguard.velocity = -0,-5
air.type = Trip
air.velocity = -0,-5
air.hittime = 12
yaccel  =0.3
air.fall = 1
air.fall.recover = 0
getpower         = 50, -50
givepower        = -50, 55
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120



[State 1000, 0]
type = TargetState
trigger1 = var(12) = 1
trigger1 = movehit = 1
trigger1 = p2movetype = H
value = 5450
persistent = 1
IgnoreHitPause = 1



[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = command != "hold_x"
trigger1 = Time = 5
attr = S, NA
damage = 100, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 5, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -10, -15  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -15
ground.velocity = 0,-4
airguard.velocity = 0,-4
air.type = Trip
air.velocity = 0,-4
air.hittime = 12
yaccel  =0.4
air.fall = 1
air.fall.recover = 0
getpower         = 50, -50
givepower        = -50, 55
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120


[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = command = "hold_x"
trigger1 = Time = 5
attr = S, NA
damage = 100, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 5, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -10, -15
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -15
ground.velocity = 0,-4
airguard.velocity = -0,-4
air.type = Trip
air.velocity = -0,-4
air.hittime = 12
yaccel  =0.4
air.fall = 1
air.fall.recover = 0
getpower         = 50, -50
givepower        = -50, 55
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120




[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 11
channel = 2

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -7

[State 30, 6]
type = VelSet
Trigger1 =  AnimElem = 16
x = 0



[State 12500, 2]
type = Helper
trigger1 = numhelper(304) <= 0
trigger1 = MoveHit = 1
trigger1 = var(31) = 1
helpertype = normal
name = "류"
ID = 304
pos = 10,-10
postype = P1
facing = 1
stateno = 3710
ownpal = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
Size.XScale = 1.0
Size.YScale = 1.0
IgnoreHitPause = 1


[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3106) = 0
Trigger1 =  AnimElem = 1
ID          = 3105
anim = 3107
pos = -40,52
postype = p1
velocity = 20,-10
sprpriority = 3
removetime = 15
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1


[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3108) = 0
Trigger1 =  AnimElem = 1
ID          = 3107
anim = 3105
pos = 10,92
postype = p1
velocity = 10,-24
sprpriority = 3
removetime = 15
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1

[State 1000, 2]
type = ReversalDef
Trigger1 =  AnimElem = 16 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 =  Time < 5 | AnimElem = 16 , >= 0
trigger2 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT,HA
reversal.attr = SCA, SA, NP , NA, NT,HA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 52, 4]
type = ChangeState
trigger1 = AnimElem = 8 ,> 0
trigger1 = MoveHit = 0
trigger1 = command = "holdback"
value = 2110
ctrl = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50





;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 748]
type = A
movetype = H
physics = S
velset = -15,0
poweradd= -250
sprpriority = 0

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 10,0
time = 1
add = 250,0,0

[State 1312, 2]
type = VelAdd
trigger1 = Pos Y < 0
trigger1 = Time > 0
y = .3

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 748
trigger1 = TimeMod = 8,0
trigger1 = Vel X > 1
trigger2 = TimeMod = 8,0
trigger2 = Vel X < -1
value = 748

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 1

[State -2,a]
type = Explod
trigger1 = animelem = 2
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.7,0.7

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0,-20
postype = p1
sprpriority = 3
bindtime = 1
ownpal = 1
supermove = 0
Facing = IfElse(FrontEdgeBodyDist < 10, -1, 1)
scale = 1.0,1.0



[State -2,a]
type = Explod
triggerall = MoveType = H
triggerall = statetype != L
triggerall = HitShakeOver
triggerall = Time > 5
trigger1 = ScreenPos X < 30
trigger2 = FrontEdgeBodyDist < 10
trigger3 = BackEdgeBodyDist < 10
anim = F72
pos = 0,-20
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
Facing = IfElse(FrontEdgeBodyDist < 10, -1, 1)
supermove = 0
scale = 1.0,1.0


[State 210, 1]
type = PlaySnd
triggerall = MoveType = H
triggerall = statetype != L
triggerall = HitShakeOver
triggerall = Time > 5
trigger1 = ScreenPos X < 30
trigger2 = FrontEdgeBodyDist < 10
trigger3 = BackEdgeBodyDist < 10
value = F7, 0
channel = 2
volume = 100

[State 1026, Hit wall]
type = ChangeState
triggerall = MoveType = H
triggerall = statetype != L
triggerall = HitShakeOver
triggerall = Time > 5
trigger1 = ScreenPos X < 30
trigger2 = FrontEdgeBodyDist < 10
trigger3 = BackEdgeBodyDist < 10
value = 5100

[State 0, Die when win]
type = SelfState
triggerall = Time >= 50
trigger1 = Time = 350
trigger2 = Command = "recovery"
trigger2 = random = [801,999]
trigger3 = Command = "a" 
trigger3 = random = [801,999]
trigger4 = Command = "b"
trigger4 = random = [801,999]
trigger5 = random = [801,999]
trigger5 = Command = "c" 
trigger6 = random = [801,999]
trigger6 = Command = "x"
trigger7 = random = [801,999]
trigger7 = Command = "y"
trigger8 = random = [701,999]
trigger8 = Command = "z"
value = 50

[State 1320, State]
type = Selfstate
trigger1 = AnimTime = 0
trigger2 = time = 110
value = 50
ctrl = 0






[Statedef 205]
type    = A
movetype= I
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = 205
sprpriority = 0



[State 12500, 2]
type = Helper
triggerall = numhelper(80) <= 9
trigger1 = AnimElem = 5 , = 0
trigger2 = AnimElem = 5 , = 1
trigger3 = AnimElem = 5 , = 2
helpertype = normal
name = "표창"
ID = 80
pos = 15,-17
postype = P1
facing = 1
stateno = 613
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 0.6

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
x = 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .2

[State 210, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1004, Exit]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1



[Statedef 2070]
type    = S
movetype= I
physics = S
poweradd= -30
ctrl = 0
velset = 0,0
sprpriority = -10


[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3



[State 192, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,91
channel = 0
volume = 0


[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = 1
trigger1 = Facing = 1
trigger1 = movehit = 1
x = 5

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = -1
trigger1 = Facing = 1
trigger1 = movehit = 1
x = -5

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = 1
trigger1 = Facing = -1
trigger1 = movehit = 1
x = -5

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = -1
trigger1 = Facing = -1
trigger1 = movehit = 1
x = 5

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 2070

[State 1052, Anim]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 206
value = 2070

[State 1000, 2]
type = ReversalDef
trigger1 = 1
reversal.attr = SA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
numhits = 1
pausetime = 1,1
sparkno = 2
sparkxy = 0,0
hitsound = s0,14
p2stateno = 2014





[State 192, PlaySnd]
type = PlaySnd
trigger1 = Anim = 206
trigger1 = TimeMod = 6,0
trigger1 = Time <= 9
value = 0,1
channel = 0
volume = 0


[State 52, 4]
type = ChangeAnim
trigger1 = MoveHit = 1
value = 206

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
time = 1
add = 120,50,35

[State 7040,VelSet]
type = VelSet
trigger1 = Time = 0
persistent = 200
x = 0
y = 0

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.5,0.3

[State 1000, 2]
type = ReversalDef
trigger1 = 1
reversal.attr = SA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
numhits = 1
pausetime = 1,1
sparkno = 100
sparkxy = 0,0
hitsound = s0,14
p2stateno = 2014

[State 52, 4]
type = ChangeState
trigger1 = Time > 40
trigger1 = command != "hold_y"
value = 0
ctrl = 1








;---------------------------------------------------------------------------
[Statedef 2014]
type = A
movetype = A
physics = N
ctrl = 0
sprpriority = 3
poweradd= 0

[State 1520, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2


[State 1000, sombra]
type = AfterImage
trigger1 = time = 0
triggerall = IsHelper = 1
trans = add1
PalContrast =  250, 250, 80
PalBright = 250,250,70
time = 100
length  = 10
TimeGap = 1
FrameGap = 1

[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow


[State 1320, State]
type = Selfstate
triggerall = IsHelper(3000) != 1
triggerall = IsHelper(4444) != 1
triggerall = IsHelper = 0
trigger1 = time = 0
value = 50
ctrl = 1

[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
value = 15

[State 1000, 0]
type = AngleDraw
trigger1 = 1

[State 1000, 0]
type = ChangeState
trigger1 = Vel X = 0
trigger2 = MoveHit = 1
value = 2015

[State 100, 4]
type = DestroySelf
triggerall = IsHelper = 1
trigger1 = time > 57

[State 30, 6]
type = VelSet
trigger1 = Vel X != 0
trigger1 = Vel X < 21
trigger1 = Time = 0
x = -4-Random%3

[State 30, 6]
type = VelSet
trigger1 = Vel X >= 21
trigger1 = Time = 0
x = -25-Random%3

[State 30, 6]
type = VelSet
trigger1 = Vel y > 0
trigger1 = Time = 0
y = IfElse(Random<500,5-Random%15,3-Random%15)

[State 7005, 1]
type = Turn
trigger1 = Time = 78969

[State 16080, 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1


[State 200, 1]
type = HitDef
trigger1 = Time = 5
attr = S, AT
damage = 60, 20
affectteam = F
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 1, 10
sparkno = 2
sparkxy = -10, 0  
hitsound = 7, 2
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = 3,-2
airguard.velocity = 3,-2
air.type = High
air.velocity = 3,-2
air.hittime = 12
yaccel  =0.5

[State 200, 1]
type = HitDef
trigger1 = Time = 3
trigger1 = Vel X <= -20
attr = S, NA
damage = 200, 20
affectteam = F
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 1, 10
sparkno = 2
sparkxy = -10, 0  
hitsound = 7, 2
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = 13,29
airguard.velocity = 13,29
air.type = High
air.velocity = 13,29
air.hittime = 12
yaccel  =0.5
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120

[State 1053, VelSet]
type = Veladd
trigger1 = time >= 15
y = 0.2


[State 16080, 0]
type = DestroySelf
trigger1 = Time >= 55






;---------------------------------------------------------------------------
[Statedef 2015]
type    = S
movetype= I
physics = N
ctrl = 0
sprpriority = 100
poweradd= 100

[State 1520, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1

[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
value = 20


[State 101, Turn]
type = Turn
triggerall = random < 500
trigger1 = Time = 0

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
trigger1 = time < 3
scale = 1.1, 1.1

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 3
trigger1 = time < 6
scale = 1.2, 1.2

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 6
trigger1 = time < 9
scale = 1.3, 1.3

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 9
trigger1 = time < 12
scale = 1.4, 1.4

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 12
trigger1 = time < 15
scale = 1.5, 1.5

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 15
trigger1 = time < 18
scale = 1.6, 1.6

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 18
trigger1 = time < 21
scale = 1.7, 1.7

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 21
trigger1 = time < 24
scale = 1.8, 1.8

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 24
trigger1 = time < 27
scale = 1.9, 1.9

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 27
scale = 2.0, 2.0

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State 1053, VelSet]
type = VelSet
trigger1 = time < 15
trigger1 = time >= 0
y = -4-Random%8

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = random < 500
x = ifelse (random < 500, -7, 7)

[State 1053, VelSet]
type = Veladd
trigger1 = time >= 15
y = 0.4

[State 0, Kill Helper]
type = DestroySelf
trigger1 = IsHelper = 1
trigger1 = Time = 65

[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = Time > 15
Flag = NoShadow

[State 100, 4]
type = DestroySelf
trigger1 = time > 70



[Statedef 240]
type    = A
movetype= A
physics = S
poweradd= 10
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 0

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
trigger1 = Time < 15
time = 1
add = 120,120,120

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command = "holdfwd"
X = 3

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command = "holdback"
X = -3

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, AT
damage = 0, 0
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 0, 10
sparkno = 0
sparkxy = -10, -10
hitsound = -1
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = 3,0
airguard.velocity = 3,0
air.type = High
air.velocity = 3,0
air.hittime = 12
yaccel  =0.5




[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .2


[State 1000, 2]
type = ReversalDef
trigger1 = Time >= 1
trigger1 = command != "hold_x"
reversal.attr = SCA, AA, AP,NA, SA, HA, SP, NP, HP
numhits = 1
pausetime = 0,20
sparkno = 40
sparkxy = 0,0
hitsound = s0,11


[State 1000, 2]
type = ReversalDef
trigger1 = Time >= 1
trigger1 = command = "hold_x"
reversal.attr = SCA, AA, AP,NA, SA, HA, SP, NP, HP
numhits = 1
pausetime = 0,20
sparkno = -1
sparkxy = 0,0
hitsound = -1

[State 630, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1
channel = 2
volume = 0


[State 52, 4]
type = ChangeState
trigger1 = MoveHit = 1
value =241
ctrl = 0

[State 1000, 0]
type = ChangeState
trigger1 = command != "hold_x"
trigger1 = Time >= 40
value = 50
ctrl = 1


[Statedef 241]
type    = A
movetype= A
physics = S
poweradd= 10
ctrl = 0
velset = 0,0
anim = 241
sprpriority = -1

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State -2,a]
type = Explod
trigger1 = MoveHit = 1
anim = F100
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 3.3,0.3
ignorehitpause = 1


[State -2,a]
type = Explod
trigger1 = MoveHit = 1
anim = F100
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.3,3.3
ignorehitpause = 1


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.5,0.3

[State -2, Pause]
type = Pause
trigger1 = MoveHit
trigger1 = command = "hold_x"
trigger1 = AnimElem = 19,< 0
time =8
p2movetime = 8
p2darken = 8
ignorehitpause = 1

[State 1370, Sprite2]
type = SprPriority
trigger1 = 1
value = -1
ignorehitpause = 1

[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 1
trigger1 = Time = 0
trans = add1
PalContrast =  250, 250, 0
PalBright = 250,250,0
time = 25
length  = 10
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 2
trigger1 = Time = 0
trans = add1
PalContrast =  250, 100, 0
PalBright = 250,100,0
time = 25
length  = 10
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 3
trigger1 = Time = 0
trans = add1
PalContrast =  0, 250, 252
PalBright = 0,250,255
time = 25
length  = 10
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 4
trigger1 = Time = 0
trans = add1
PalContrast =  250, 10, 32
PalBright = 250,0,35
time = 25
length  = 10
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 5
trigger1 = Time = 0
trans = add1
PalContrast =  150, 10, 250
PalBright = 150,0,250
time = 25
length  = 10
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 6
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = 25
length  = 10
TimeGap = 1
FrameGap = 1


[State 30, 6]
type = VelSet
trigger1 = command != "hold_x"
trigger1 = Time = 4
x = 10


[State 30, 6]
type = VelSet
trigger1 = command = "hold_x"
trigger1 = Time = 4
x = 10

[State 30, 6]
type = VelSet
trigger1 = command = "hold_x"
trigger1 = Time = 0
x = 20


[State 30, 6]
type = VelSet
trigger1 = MoveHit = 1
x = 28

[State 200, 1]
type = HitDef
trigger1 = command != "hold_x"
trigger1 = Time = 0
attr = S, NA
damage = 80, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 5, Hit 
pausetime = 1, 1
sparkno = 2
sparkxy = -10, -15  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -2
ground.velocity = 0,-5
airguard.velocity = 0,-5
air.type = Trip
air.velocity = 0,-5
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0
getpower         = -50, 50
givepower        = -50, 55

[State 200, 1]
type = HitDef
trigger1 = command = "hold_x"
trigger1 = Time = 0
attr = S, NA
damage = 80, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 5, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -10, -15
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -2
ground.velocity = 0,-5
airguard.velocity = -0,-5
air.type = Trip
air.velocity = -0,-5
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0
getpower         = -50, 50
givepower        = --50, 55

[State 1000, 0]
type = TargetState
trigger1 = movehit = 1
value = 5450
persistent = 1
IgnoreHitPause = 1




[State 52, 4]
type = ChangeState
trigger1 = AnimElem = 10
trigger1 = MoveHit = 0
value = 2110
ctrl = 0





[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .1


[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50








[Statedef 2110]
type    = A
movetype= A
physics = S
poweradd= 10
ctrl = 0
velset = -15,0
anim = 2110
sprpriority = 0

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 93
channel = 0
volume = 0

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .1

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
time = 1
add = 150,150,155

[State 1000, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 650
ctrl = 1










;---------------------------------------------------------------------------
[Statedef 74]
type = S
movetype = A
physics = N
anim = 74
ctrl = 0
sprpriority = 3
velset = 15,15

[State 12500, 2]
type = Helper
triggerall = numhelper(77) <= 0
trigger1 = Pos Y > 0
trigger2 = time = 58
helpertype = normal
name = "응가 왕아테키오 크라우~!"
ID = 77
pos = 10,0
postype = P1
facing = 1
stateno = 72
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0


[State 1520, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12500, 2]
type = Helper
triggerall = numhelper(76) <= 0
trigger1 = Pos Y > 0
trigger2 = time = 58
helpertype = normal
name = "응가 왕아테키오 크라우~!"
ID = 76
pos = 10,0
postype = P1
facing = 1
stateno = 71
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0



[State 30, 6]
type = PosAdd
Trigger1 = Facing = -1
;trigger1 = BackEdgeBodyDist < 3
trigger1 = FrontEdgeBodyDist < 3
x = -10000

[State 30, 6]
type = PosAdd
Trigger1 = Facing = 1
trigger1 = FrontEdgeBodyDist < 3
x = -10000


[State -2, ScreenBound]
type = ScreenBound
trigger1 = FrontEdgeBodyDist < 3
trigger2 = BackEdgeBodyDist < 3
value = 1


[State 1000, sombra]
type = AfterImage
trigger1 = AnimElem = 1
trans = add
PalContrast =  0, 150, 200
PalBright = 0,150,200
time = -1
length  = 15
TimeGap = 1
FrameGap = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 88
ignorehitpause = 1
persistent = 1


[State 1201,end]
type = Destroyself
trigger1 = Pos Y > 0
trigger2 = time = 58



[Statedef 71]
type    = A
movetype= A
physics = N
juggle  = 34
poweradd= 65
ctrl = 0
anim = 71
sprpriority = 0


[State 30, 6]
type = PosAdd
trigger1 = AnimElem = 1
y = -10

[State 205, 0]
type = PalFX
trigger1 = var(22) = 2
time = -1
add = 0,250,0
;mul = 100,0,0

[State 205, 0]
type = PalFX
trigger1 = var(22) = 4
time = -1
;mul = -20,-20,-20
add = 150, 0, -100
sinadd = 50, 50, 0, 10
color = 250
invertall = 0

[State 205, 0]
type = PalFX
trigger1 = var(22) = 1
time = -1
add = 250,0,0
;mul = 100,0,0




[State 290, VarSet]
type = VarSet
trigger1 = root,Anim = 195
trigger1 = Time = 0
var(22) = 2

[State 290, VarSet]
type = VarSet
trigger1 = root,command = "holddown"
trigger1 = Time = 0
var(22) = 1

[State 290, VarSet]
type = VarSet
trigger1 = root,Anim = 230
trigger1 = Time = 0
var(22) = 4

[State 1000, sombra]
type = AfterImage
trigger1 = var(22) = 0
trigger1 = Time = 0
trans = add1
PalContrast =  0, 100, 155
PalBright = 0,100,150
time = -1
length  = 10
TimeGap = 0
FrameGap = 1

[State 1000, sombra]
type = AfterImage
trigger1 = var(22) = 1
trigger1 = Time = 0
trans = add1
PalContrast =  250, 50, 50
PalBright = 250,50,50
time = -1
length  = 10
TimeGap = 0
FrameGap = 1

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 80
channel = 2

[State 50, MoveFwd]
type = VelSet
triggerall = AnimElem = 17 , >= 0
trigger1 = Time > 0
y = -2


[State 100, 4]
type = DestroySelf
trigger1 = time > 400
trigger2 = root,Anim = 195










[Statedef 70]
type    = A
movetype= A
physics = N
juggle  = 34
poweradd= 65
ctrl = 0
anim = 4717
sprpriority = 0

[State 1000, sombra]
type = AfterImage
trigger1 = Time = 0
trans = add1
PalContrast =  300, 10, 110
PalBright = 300,10,110
time = -1
length  = 7
TimeGap = 1
FrameGap = 1

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (Var(20))*.005, (Var(20))*.002


[State 290, VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -0

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 0
var(20) = 1

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 5
var(20) = 2

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 8
var(20) = 5


[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 10
var(20) = 10


[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 12
var(20) = 15


[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 14
var(20) = 30


[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 15
var(20) = 40

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
pausemove = 1
supermovetime = 99999
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck



[State 100, 4]
type = DestroySelf
trigger1 = time > 30



;응가리2
[Statedef 72]
type    = A
movetype= A
physics = N
juggle  = 34
poweradd= 65
ctrl = 0
anim = 72
sprpriority = 0


[State 30, 6]
type = PosAdd
trigger1 = AnimElem = 1
y = -10

[State 210, 1]
type = PlaySnd
trigger1 = Time = 10
value = 0, 78
channel = 0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 10
value = 0, 76
channel = 2

[State 205, 0]
type = PalFX
trigger1 = var(22) = 2
time = -1
add = 0,250,0

[State 205, 0]
type = PalFX
trigger1 = var(22) = 1
time = -1
add = 250,0,0
;mul = 100,0,0

[State 205, 0]
type = PalFX
trigger1 = var(22) = 4
time = -1
;mul = -20,-20,-20
add = 150, 0, -100
sinadd = 50, 50, 0, 10
color = 250
invertall = 0

[State 200, 1]
type = HitDef
trigger1 = TimeMod = 6,0
affectteam = B
attr = S, HA
damage = 10, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 0, 1
guard.pausetime = 1,10
sparkno = 2
sparkxy = -20, -10
hitsound = -1
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 0,-7
airguard.velocity = 0,-7
guard.velocity = -1
air.type = Trip
air.velocity = 0,-7
air.hittime = 12
yaccel  =0.7
fall = 1
fall.recover = 0
kill = 0

[State 1000, 0]
type = TargetState
trigger1 = movehit = 1
trigger1 = p2movetype = H
value = 69
persistent = 1
IgnoreHitPause = 1

[State 290, VarSet]
type = VarSet
trigger1 = root,command = "holddown"
trigger1 = Time = 0
var(22) = 1

[State 290, VarSet]
type = VarSet
trigger1 = root,Anim = 230
trigger1 = Time = 0
var(22) = 4

[State 290, VarSet]
type = VarSet
trigger1 = root,Anim = 195
trigger1 = Time = 0
var(22) = 2

[State 1000, sombra]
type = AfterImage
trigger1 = var(22) = 0
trigger1 = Time = 0
trans = add1
PalContrast =  0, 100, 155
PalBright = 0,100,150
time = -1
length  = 10
TimeGap = 0
FrameGap = 1

[State 1000, sombra]
type = AfterImage
trigger1 = var(22) = 1
trigger1 = Time = 0
trans = add1
PalContrast =  250, 50, 50
PalBright = 250,50,50
time = -1
length  = 10
TimeGap = 0
FrameGap = 1


[State 12500, 2]
type = Helper
trigger1 = var(22) = 1
trigger1 = TimeMod = 20,0
trigger2 = var(22) = 4
trigger2 = TimeMod = 20,0
helpertype = normal
name = "원구"
pos = 0,0
postype = P1
facing = 1
stateno = 70
keyctrl = 0
ownpal = 0
Size.XScale = 1.0
Size.YScale = 1.0

[State 700, EnvShake]
type = EnvShake
trigger1 = time < 100
trigger1 = TimeMod = 10,0
time = 10
freq = 100
ampl = -8
phase = 10


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F100
pos = 0,0
postype = p1
sprpriority = 10
bindtime = 1
ownpal = 0
supermove = 1
scale = 2,1


[State -2,a]
type = Explod
trigger1 = Time = 2
anim = 73
pos = 0,-40
postype = p1
velocity = 0,0
removetime = 250
sprpriority = -2
bindtime = 1
ownpal = 0
supermove = 0
scale = 1.0,0.5

[State -2,a]
type = Explod
trigger1 = Time = 3
anim = 73
pos = 0,-20
postype = p1
velocity = 0,0
removetime = 250
sprpriority = -2
bindtime = 1
ownpal = 0
supermove = 0
scale = 0.8,0.4

[State -2,a]
type = Explod
trigger1 = Time = 4
anim = 73
pos = 0,0
postype = p1
velocity = 0,0
removetime = 250
sprpriority = -2
bindtime = 1
ownpal = 0
supermove = 0
scale = 0.6,0.3



[State -2,a]
type = Explod
trigger1 = Time = 5
anim = 73
pos = 0,0
postype = p1
velocity = 0,0
removetime = 250
sprpriority = -2
bindtime = 1
ownpal = 0
supermove = 0
scale = 0.4,0.2


[State -2,a]
type = Explod
trigger1 = Time = 6
anim = 73
pos = 0,0
postype = p1
velocity = 0,0
removetime = 250
sprpriority = -2
bindtime = 1
ownpal = 0
supermove = 0
scale = 0.2,0.1



[State -2,a]
type = Explod
trigger1 = TimeMod = 12,0
anim = 73
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -2
Vel = 0,0
Accel = -.1,0
bindtime = 1
ownpal = 0
supermove = 0
scale = 0.8,0.4

[State -2,a]
type = Explod
trigger1 = TimeMod = 12,0
anim = 73
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -2
Vel = 0,0
Accel = -.2,0
bindtime = 1
ownpal = 0
supermove = 0
scale = 0.6,0.3


[State -2,a]
type = Explod
trigger1 = TimeMod = 12,0
anim = 73
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -2
Vel = 0,0
Accel = -.3,0
bindtime = 1
ownpal = 0
supermove = 0
scale = 0.7,0.3


[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 80
channel = 2

[State 50, MoveFwd]
type = VelSet
triggerall = AnimElem = 17 , >= 0
trigger1 = Time > 0
y = -2

[State 100, 4]
type = DestroySelf
trigger1 = time > 400




;------    ------
[Statedef 69]
type = A
movetype = H
physics = N
velset = 0

[State 1000, sombra]
type = AfterImage
trigger1 = Time = 0
trans = add1
PalContrast =  0, 100, 155
PalBright = 0,100,150
time = 55
length  = 10
TimeGap = 0
FrameGap = 1

[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
value = -30

[State 1000, 0]
type = AngleDraw
trigger1 = 1

[State 200, 1]
type = HitDef
trigger1 = TimeMod = 15,1
Attr = S, SP
affectteam = F
damage = 55, 0
animtype = Up
hitflag = MAFLD
guardflag = MAFLD
priority = 2, Hit 
pausetime = 1, 1
sparkno = 1
sparkxy = -10, -0 
hitsound = 5, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 2,-8
airguard.velocity = 2,-8
guard.velocity = -2
air.type = High
air.velocity = 2,-8
air.hittime = 12
yaccel  = 0.5
fall = 1
fall.recover = 0
kill = 0

[state 100,0]
type = HitVelSet
trigger1 = time = 0
x = 1
y = 1

[State 1370, Anim]
type = ChangeAnim2
trigger1 = time = 0
value = 69

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 1370, Sprite2]
type = SprPriority
trigger1 = 1
value = 1

[State 440, 4]
type = DestroySelf
trigger1 = IsHelper = 1
trigger1 = IsHelper (4444) = 0
trigger1 = IsHelper (3000) = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 394
value = 5100
ctrl = 0

[State 1420, State]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100


[Statedef 2070]
type    = A
movetype= I
physics = S
juggle  = 3
poweradd= 65
ctrl = 0
velset = 0,0
anim = 2070
sprpriority = 0


[State 300, Explod]
type = Explod
trigger1 = time = 10
sprpriority = 10
pos = 0, -25
postype = p1
anim = F100
ownpal = 1
supermove = 1
scale = 0.5,0.5

[State 300, Explod]
type = Explod
trigger1 = AnimElem = 2
sprpriority = 10
pos = 0, 0
postype = p1
anim = F60
ownpal = 1
supermove = 1
scale = 1.0,0.5


[State 210, 5]
type = ChangeState
trigger1 = command = "holdup"
trigger1 = AnimElem = 30
value = 2012
ctrl = 0

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 77

[State 3050, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,11



[State 3050, 1]
type = PlaySnd
trigger1 = AnimElem = 15
value = 0,8



[State 12500, 2]
type = Helper
triggerall = numhelper(88) <= 2
trigger1 = AnimElem = 30
helpertype = normal
name = "응가 왕아테키오 보우~!"
ID = 88
pos = 20,-20
postype = P1
facing = 1
stateno = 88
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
x = 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .2





[State 210, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1004, Exit]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


[Statedef 2012]
type    = S
movetype= A
physics = S
juggle  = 30
poweradd= 65
ctrl = 0
velset = 0,0
anim = 2012
sprpriority = -1



[State 12500, 2]
type = Helper
triggerall = numhelper(77) <= 0
trigger1 = time = 4
helpertype = normal
name = "응가 왕아테키오 크라우~!"
ID = 77
pos = 0,-60
postype = P1
facing = 1
stateno = 72
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0


[State 12500, 2]
type = Helper
triggerall = numhelper(76) <= 0
trigger1 = time = 4
helpertype = normal
name = "응가 왕아테키오 크라우~!"
ID = 76
pos = 0,-60
postype = P1
facing = 1
stateno = 71
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0


[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 206]
type    = A
movetype= I
physics = S
juggle  = 3
poweradd= 65
ctrl = 0
velset = 0,0
anim = 206
sprpriority = 0


[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 86
channel = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 80
channel = 1


[State 210, 1]
type = PlaySnd
triggerall = numhelper(81) <= 0
triggerall = command = "holddown"
trigger1 = AnimElem = 1
value = 0, 89
channel = 0

[State 12500, 2]
type = Helper
triggerall = numhelper(81) <= 0
triggerall = command = "holddown"
trigger1 = AnimElem = 1
helpertype = normal
name = "음파활"
ID = 81
pos = 25,-25
postype = P1
facing = 1
stateno = 4717
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0


[State 12500, 2]
type = Helper
triggerall = numhelper(80) <= 15
triggerall = command != "holddown"
trigger1 = AnimElem = 1
helpertype = normal
name = "활"
ID = 80
pos = 25,-25
postype = P1
facing = 1
stateno = 4706
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 2200, 18]
type = ChangeState
trigger1 = Time >  10
trigger1 = command = "y"
trigger1 = command != "holdfwd"
triggerall = command != "holdup"
triggerall = command != "holddown"
value = 205

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
x = 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .2

[State 210, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1004, Exit]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1




[Statedef 2060]
type    = A
movetype= I
physics = S
juggle  = 3
poweradd= 65
ctrl = 0
velset = -5,0
anim = 2060
sprpriority = 0

[State 300, Explod]
type = Explod
trigger1 = AnimElem = 1
sprpriority = 10
pos = 0, 0
postype = p1
anim = F60
ownpal = 1
supermove = 1
scale = 1.5,0.5

[State 300, Explod]
type = Explod
trigger1 = AnimElem = 1
sprpriority = 10
pos = 0, 0
postype = p1
anim = F62
ownpal = 1
supermove = 1
scale = 1.0,1.0

[State 210, 1]
type = PlaySnd
triggerall = command != "holddown"
trigger1 = Time = 0
value = 0, 91
channel = 0


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 80
channel = 1



[State 210, 1]
type = PlaySnd
triggerall = numhelper(81) <= 0
triggerall = command = "holddown"
trigger1 = AnimElem = 1
value = 0, 89
channel = 0

[State 12500, 2]
type = Helper
triggerall = numhelper(81) <= 0
triggerall = command = "holddown"
trigger1 = AnimElem = 1
helpertype = normal
name = "음파활"
ID = 81
pos = 25,-25
postype = P1
facing = 1
stateno = 4717
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 12500, 2]
type = Helper
triggerall = command != "holddown"
triggerall = numhelper(80) <= 15
trigger1 = AnimElem = 1
helpertype = normal
name = "파워활"
ID = 80
pos = 25,-18
postype = P1
facing = 1
stateno = 4716
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 2200, 18]
type = ChangeState
trigger1 = Time >  0
trigger1 = command = "y"
value = 205

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
x = 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .2

[State 210, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1004, Exit]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1















[Statedef 602]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 602
sprpriority = -1

[State -1]
Type = Explod
triggerall = AnimElem = 4 , > 0
trigger1 = TimeMod = 10,0
Anim = 3100
Ownpal = 1
BindTime = 1
PosType = P1
Pos = 0,0
Random = 35,0
Scale = .09,.09
Vel = Var(1)/10*IfElse(Random<300,1,-1),0-Var(2)/4
Accel =0,-.425+Var(3)/100
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 131
channel = 2

[State 205, 0]
type = PalFX
triggerall = AnimElem = 4 , > 0
trigger1 = TimeMod = 25,0
time = 10
add = 150,40,40

[State -2,a]
type = Explod
triggerall = AnimElem = 4 , > 0
trigger1 = TimeMod = 25,0
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.4,0.2

[State 3210, 3]
type = lifeadd
triggerall = AnimElem = 4 , > 0
triggerall = Life > 10
trigger1 = TimeMod = 3,0
value = -9

[State 3210, 3]
type = poweradd
triggerall = AnimElem = 4 , > 0
trigger1 = power >= 0
value = 15

[State 2200, 18]
type = ChangeState
trigger1 = Time > 60
trigger1 = command != "hold_y"
trigger2 = Life < 11
value = 0
ctrl = 1


[Statedef 617]
type    = A
movetype= A
physics = N
poweradd= 10
ctrl = 0
anim = 617
sprpriority = 0

[State 205, 0]
type = PalFX
trigger1 = IsHelper(227) = 1
time = 1
add = 50,100,250

[State 1000, sombra]
type = AfterImage
trigger1 = IsHelper(227) = 1
trigger1 = AnimElem = 1
trans = add
PalContrast =  0, 50, 250
PalBright = 50,100,250
time = -1
length  = 5
TimeGap = 1
FrameGap = 1


[State 2201, 2]
type = PlayerPush
trigger1 = p2movetype = H
value = 0

[State 200, 2]
type = PlaySnd
trigger1 = TimeMod = 4,0
value = 0,28
channel = 2

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 1,17
channel = 1

[State 210, 1]
type = PlaySnd
trigger1 = MoveHit = 1
value = 0, 9
channel = 3

[State 200, 1]
type = HitDef
trigger1 = TimeMod = 3,0
trigger1 = Time < 40
attr = A, NP
damage = 20, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
getpower         = 0, 0
givepower        = 0, 0
pausetime = 1, 1
sparkno = 1
sparkxy = -30+random%60, -40+random%40
hitsound = -1
guardsound = -1
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = ifelse (P2Dist X <= 0, -4, 4), ifelse (P2Dist y >= -20, -2, 2)
airguard.velocity = ifelse (P2Dist X <= 0, -4, 4),ifelse (P2Dist y >= -20, -2, 2)
air.type = Low
air.velocity = ifelse (P2Dist X <= 0, -4, 4), ifelse (P2Dist y >= -20, -2, 2)
down.velocity = ifelse (P2Dist X <= 0, -4, 4), ifelse (P2Dist y >= -20, -2, 2)
air.hittime = 20
p2facing = ifelse (P2Dist X <= 0, -1, 1)
air.hittime = 12
yaccel  =0.6
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 40
attr = A, HA
damage = 70, 70
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 20, 20
sparkno = 2
sparkxy = 0, 0
hitsound = s0, 30
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = -15,-20
airguard.velocity = -15,-20
air.type = Trip
air.velocity = -15,-20
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0
envshake.time = 15
envshake.ampl = -18
envshake.freq = 120

[State 4500, Fly!]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State -2,a]
type = Explod
trigger1 = TimeMod = 8,0
anim = 617
pos = -40+random%80,25-random%50
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
scale = 1.0,1.0
IgnoreHitPause = 1

[State -2,a]
type = Explod
trigger1 = TimeMod = 8,0
anim = 241
pos = -40+random%80,25-random%50
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
scale = 1.0,1.0
IgnoreHitPause = 1

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 1
pausetime = 2,2
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State -2, StopSuckSound]
type = StopSnd
trigger1 = EnemyNear,HitDefAttr = SCA, NP
channel = 3

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 618
ignorehitpause = 1
persistent = 1

[State 1000, 0]
type = ChangeState
trigger1 = Time > 40
value = 618

[Statedef 618]
type    = A
movetype= A
physics = N
poweradd= 10
ctrl = 0
anim = 618
sprpriority = 0


[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 618
ignorehitpause = 1
persistent = 1

[State 1201,end]
type = Destroyself
trigger1 = Time = 0




;---------------------------------------------------------------------------

[Statedef 203]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
anim = 203
sprpriority = -1

[State -3]
type = varset
trigger1 = 1
var(13) = 0

[State 1000, 2]
type = ReversalDef
trigger1 = Time <= 14
reversal.attr = SCA, SA, NP , NA, NT
numhits = 0
pausetime = 10,10
sparkno = 3
sparkxy = -10,0
hitsound = 6,0

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = 1
trigger1 = Facing = 1
trigger1 = movehit = 1
x = 6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = -1
trigger1 = Facing = 1
trigger1 = movehit = 1
x = -6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = 1
trigger1 = Facing = -1
trigger1 = movehit = 1
x = -6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = -1
trigger1 = Facing = -1
trigger1 = movehit = 1
x = 6

[State 200, 2]
type = PlaySnd
trigger1 = Time = 20
value = 11,22
channel = 2
volume = 0

[State 205, 0]
type = PalFX
trigger1 = Time >= 20
trigger1 = TimeMod = 3,0
trigger2 = Time = 20
time = 1
add = 150,150,150


[State 200, 1]
type = HitDef
trigger1 = Time = 14
attr = S, SA
damage = 30
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -15, -17
hitsound = s0, 87
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = Low
air.velocity = -2,-4
air.hittime = 12
yaccel  =0.1
fall = 1
fall.recover = 0


[State -3]
type = varset
trigger1 = AnimElem = 1
var(12) = 0


[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -3]
type = varset
trigger1 = p2movetype = H
trigger1 = Time = 20
trigger2 = Time = 20
var(12) = 1

[State 2200, 18]
type = ChangeState
trigger1 = Time > 8
trigger1 = command != "hold_x"
trigger2 = Time > 200
value = 204

[State 2200, 18]
type = ChangeState
triggerall = var(59) = 1
trigger1 = Time > 8
value = 204


[State 2200, 18]
type = ChangeState
trigger1 = Time >= 8
triggerall = command = "holddown"
trigger2 = Time > 200
value = 1400










;---------------------------------------------------------------------------

[Statedef 2036]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 2036
sprpriority = 0

[State 12500, 2]
type = Helper
trigger1 = AnimElem = 1
helpertype = normal
name = "원구"
pos = 0,-20
postype = P1
facing = 1
stateno = 3710
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0


[State -2,a]
type = Explod
trigger1 = TimeMod = 15,0
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 3.0,1.0

[State -1]
Type = Explod
trigger1 = Time = 0
Anim = F100
BindTime = 1
PosType = P1
Pos = 0,-20
Random = 8,8
Scale = 0.5,0.5
;removetime = 3
Vel = 0,0
SprPriority = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
Ownpal = 1
supermove = 1


[State 1000, 2]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
numhits = 1
pausetime = 1,1
sparkno = 2
sparkxy = -10,0
hitsound = 6,0

[State -3]
type = varset
trigger1 = AnimElem = 1
var(12) = 0

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = 1
trigger1 = Facing = 1
trigger1 = movehit = 1
x = 6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = -1
trigger1 = Facing = 1
trigger1 = movehit = 1
x = -6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = 1
trigger1 = Facing = -1
trigger1 = movehit = 1
x = -6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = -1
trigger1 = Facing = -1
trigger1 = movehit = 1
x = 6

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,78
channel = 3
volume = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,92
channel = 1
volume = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,21
channel = 0
volume = 0

[State -3]
type = varset
trigger1 = AnimElem = 1
var(12) = 0


[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .05


[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = -0

[State 30, 6]
type = VelSet
trigger1 = Time = 0
y = -0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0


[State 1520, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12500, 2]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "류켄"
pos = 5,-25
postype = P1
facing = 1
stateno = 3102
keyctrl = 0
ownpal = 1
Size.XScale = 0.6
Size.YScale = 0.6

[State -3]
type = varset
trigger1 = 1
var(12) = 10


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 1
trigger1 = Time = 0
trans = add1
PalContrast =  250, 200, 33
PalBright = 250,200,33
time = 40
length  = 10
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 2
trigger1 = Time = 0
trans = add1
PalContrast =  200, 50, 0
PalBright = 200,50,0
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 3
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 4
trigger1 = Time = 0
trans = add1
PalContrast =  250, 0, 0
PalBright = 250,0,0
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 5
trigger1 = Time = 0
trans = add1
PalContrast =  150, 0, 250
PalBright = 150,0,250
time = -1
length  = 7
TimeGap = 1
FrameGap = 1

[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 6
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = -1
length  = 7
TimeGap = 1
FrameGap = 1

[State 2200, 18]
type = ChangeState
triggerall      = var(59) = 0
trigger1 = Time >= 21
trigger1 = command != "hold_y"
trigger2 = Time > 100

value = 661


[State 2200, 18]
type = ChangeState
triggerall      = var(59) = 1
trigger1 = Time >= 21
trigger1 = EnemyNear,HitDefAttr != SCA, SA, NP , NA, NT,HA
value = 661






;---------------------------------------------------------------------------

[Statedef 661]
type    = A
movetype= A
physics = S
ctrl = 0
anim = 661
sprpriority = 2
juggle  = 50

[State 12500, 2]
type = Helper
trigger1 = AnimElem = 8
helpertype = normal
name = "원구"
pos = 0,-25
postype = P1
facing = 1
stateno = 3711
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3105) = 0
Trigger1 =  AnimElem = 1
ID          = 3105
anim = 3105
pos = 140,-150
postype = p1
velocity = -9,20
sprpriority = 3
removetime = 15
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1

[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
X = 13


[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 11 ,< 0
y = 0


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 1
trigger1 = AnimElem = 1
trans = add1
PalContrast =  250, 200, 0
PalBright = 250,200,0
time = 15
length  = 5
TimeGap = 1
FrameGap = 1



[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 2
trigger1 = Time = 0
trans = add1
PalContrast =  200, 50, 0
PalBright = 200,50,0
time = 15
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 3
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = 15
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 4
trigger1 = Time = 0
trans = add1
PalContrast =  250, 0, 0
PalBright = 250,0,0
time = 15
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 5
trigger1 = Time = 0
trans = add1
PalContrast =  150, 0, 250
PalBright = 150,0,250
time = 15
length  = 7
TimeGap = 1
FrameGap = 1

[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 6
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = 15
length  = 7
TimeGap = 1
FrameGap = 1


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 11
channel = 2
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 1
channel = 1
volume = 0


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F100
pos = -7,-25
postype = p1
sprpriority = -4
bindtime = 1
ownpal = 1
supermove = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 0.7,0.7

[State 1000, 1000]
type = ChangeState
trigger1 = MoveHit
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50

[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
trigger1 = Pos Y >= -20
trigger1 = prevstateno != 600
trigger1 = prevstateno != 601
trigger1 = prevstateno != 602
trigger1 = prevstateno != 640
trigger1 = prevstateno != 645
trigger1 = prevstateno != 641
trigger1 = prevstateno != 603
trigger1 = prevstateno != 642
y = -3


[State 200, 2]
type = PlaySnd
trigger1 = MoveHit = 1
trigger1 = var(12) = 1
value = F40,IfElse(random < 500, 5, 4)
channel = 7
volume = 250

[State 200, 2]
type = PlaySnd
trigger1 = MoveHit = 1
trigger1 = var(12) = 0
value = F40,1
channel = 7
volume = 50

[State 1000, 1000]
type = ChangeState
trigger1 = animelem = 1, >= 0
trigger1 = animelem = 9, < 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50

[State 1000, 1000]
type = ChangeState
trigger1 = animelem = 9, >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 611








[State 1000, 0]
type = TargetState
triggerall = command = "holddown"
trigger1 = movehit = 1
value = 2905
persistent = 0
IgnoreHitPause = 1

[State 50, MoveFwd]
type = VelAdd
trigger1 = 1
y = 0.3

[State 1520, 1]
type = NotHitBy
Trigger1 =  AnimElem = 11 , < 0
value = SCA
time = 1

[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = Time = 7
triggerall = command = "holddown"
attr = S, SA
damage = 150, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 20
guard.pausetime = 10,10
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -18
ground.velocity = -15,25
airguard.velocity = -15,25
air.type = Trip
air.velocity = -15,25
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0
airjuggle = 100

[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = Time = 7
triggerall = command = "holddown"
attr = S, SA
damage = 150, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 20
guard.pausetime = 10,10
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -18
ground.velocity = -15,25
airguard.velocity = -15,25
air.type = Trip
air.velocity = -15,25
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120



[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = Time = 7
triggerall = command != "holddown"
attr = S, SA
damage = 150, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 20
guard.pausetime = 10,10
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -18
ground.velocity = -15,25
airguard.velocity = -15,25
air.type = Trip
air.velocity = -15,25
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0


[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = Time = 7
triggerall = command != "holddown"
attr = S, SA
damage = 150, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 20
guard.pausetime = 10,10
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -18
ground.velocity = -15,25
airguard.velocity = -15,25
air.type = Trip
air.velocity = -15,25
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
x = -8

[State 1000, 2]
type = ReversalDef
Trigger1 =  AnimElem = 14 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 =  Time < 7 | AnimElem = 14 , >= 0
trigger1 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F65
pos = 0,0
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 0.6,0.3


[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1





;---------------------------------------------------------------------------

[Statedef 1400]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1400
sprpriority = 0


[State 1520, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State -2,a]
type = Explod
trigger1 = TimeMod = 15,0
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 3.0,1.0

[State -1]
Type = Explod
trigger1 = Time = 0
Anim = F100
BindTime = 1
PosType = P1
Pos = 0,-20
Random = 8,8
Scale = 0.5,0.5
;removetime = 3
Vel = 0,0
SprPriority = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
Ownpal = 1
supermove = 1


[State 1000, 2]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
numhits = 1
pausetime = 1,1
sparkno = 2
sparkxy = -10,0
hitsound = 6,0

[State -3]
type = varset
trigger1 = AnimElem = 1
var(13) = 1

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = 1
trigger1 = Facing = 1
trigger1 = movehit = 1
x = 6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = -1
trigger1 = Facing = 1
trigger1 = movehit = 1
x = -6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = 1
trigger1 = Facing = -1
trigger1 = movehit = 1
x = -6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = -1
trigger1 = Facing = -1
trigger1 = movehit = 1
x = 6

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,78
channel = 3
volume = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,92
channel = 1
volume = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,21
channel = 2
volume = 0



[State 12500, 2]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "류켄"
pos = 5,-25
postype = P1
facing = 1
stateno = 3102
keyctrl = 0
ownpal = 1
Size.XScale = 0.6
Size.YScale = 0.6

[State -3]
type = varset
trigger1 = 1
var(12) = 0



[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 1
trigger1 = AnimElem = 1
trans = add1
PalContrast =  250, 200, 0
PalBright = 250,200,0
time = 20
length  = 5
TimeGap = 1
FrameGap = 1



[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 2
trigger1 = Time = 0
trans = add1
PalContrast =  200, 50, 0
PalBright = 200,50,0
time = 20
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 3
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = 20
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 4
trigger1 = Time = 0
trans = add1
PalContrast =  250, 0, 0
PalBright = 250,0,0
time = 20
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 5
trigger1 = Time = 0
trans = add1
PalContrast =  150, 0, 250
PalBright = 150,0,250
time = 20
length  = 7
TimeGap = 1
FrameGap = 1

[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 6
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = 20
length  = 7
TimeGap = 1
FrameGap = 1



[State 2200, 18]
type = ChangeState
trigger1 = Time >= 30
trigger1 = command != "hold_x"
trigger2 = Time > 900
value = 204

[Statedef 3710]
type    = A
movetype= A
physics = N
juggle  = 22
poweradd= 65
ctrl = 0
anim = 4715
sprpriority = -15

[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 1
time = -1
mul    = 255, 225, 5
color = 256
invertall = 0


[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 2
time = -1
mul    = 255, 155, 5
color = 256
invertall = 0


[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 3
time = -1
mul    = 5, 205, 250
color = 256
invertall = 0



[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 4
time = -1
mul    = 250, 0, 0
color = 256
invertall = 0



[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 5
time = -1
mul    = 150, 0, 250
color = 256
invertall = 0


[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 6
time = -1
mul    = 0, 180, 250
color = 256
invertall = 0


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 1
trigger1 = Time = 0
trans = add1
PalContrast =  150, 100, 0
PalBright = 150,100,0
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 2
trigger1 = Time = 0
trans = add1
PalContrast =  200, 50, 0
PalBright = 200,50,0
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 3
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 4
trigger1 = Time = 0
trans = add1
PalContrast =  250, 0, 0
PalBright = 250,0,0
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 5
trigger1 = Time = 0
trans = add1
PalContrast =  150, 0, 250
PalBright = 150,0,250
time = -1
length  = 7
TimeGap = 1
FrameGap = 1

[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 6
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = -1
length  = 7
TimeGap = 1
FrameGap = 1

;sub mul


[State 1052, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (Var(20))*.004, (Var(20))*.004

[State 290, VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = 55

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 0
var(20) = 1

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 5
var(20) = 2

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 8
var(20) = 3

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 10
var(20) = 7

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 12
var(20) = 15

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 14
var(20) = 30

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 15
var(20) = 40


[State 100, 4]
type = DestroySelf
trigger1 = time > 30



[Statedef 3711]
type    = A
movetype= A
physics = N
juggle  = 22
poweradd= 65
ctrl = 0
anim = 4715
sprpriority = 15




[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 2
time = -1
mul    = 255, 155, 5
color = 256
invertall = 0


[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 3
time = -1
mul    = 5, 205, 250
color = 256
invertall = 0



[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 4
time = -1
mul    = 250, 0, 0
color = 256
invertall = 0



[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 5
time = -1
mul    = 150, 0, 250
color = 256
invertall = 0


[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 6
time = -1
mul    = 0, 180, 250
color = 256
invertall = 0


[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 1
time = -1
mul    = 155, 125, 5
color = 0
invertall = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 1
trigger1 = Time = 0
trans = add1
PalContrast =  200, 150, 0
PalBright = 200,150,0
time = -1
length  = 7
TimeGap = 1
FrameGap = 1

[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 2
trigger1 = Time = 0
trans = add1
PalContrast =  200, 50, 0
PalBright = 200,50,0
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 3
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 4
trigger1 = Time = 0
trans = add1
PalContrast =  250, 0, 0
PalBright = 250,0,0
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 5
trigger1 = Time = 0
trans = add1
PalContrast =  150, 0, 250
PalBright = 150,0,250
time = -1
length  = 7
TimeGap = 1
FrameGap = 1

[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 6
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = -1
length  = 7
TimeGap = 1
FrameGap = 1

[State 230, 3]
type = BindToParent
trigger1 = Time <= 5
pos = 44,-21


[State 1052, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (Var(20))*.004, (Var(20))*.004

[State 290, VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = 55

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 0
var(20) = 1

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 5
var(20) = 2

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 8
var(20) = 3

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 10
var(20) = 7

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 12
var(20) = 15

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 14
var(20) = 30

[State 290, VarSet]
type = Varadd
trigger1 = Time <= 30
trigger1 = Time >= 15
var(20) = 40

[State 100, 4]
type = DestroySelf
trigger1 = time > 30



[Statedef 3102]
type    = A
movetype= A
physics = N
juggle  = 34
poweradd= 65
ctrl = 0
sprpriority = 2


[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 2
time = -1
mul    = 255, 155, 5
color = 256
invertall = 0


[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 3
time = -1
mul    = 5, 205, 250
color = 256
invertall = 0



[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 4
time = -1
mul    = 250, 0, 0
color = 256
invertall = 0



[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 5
time = -1
mul    = 150, 0, 250
color = 256
invertall = 0


[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 6
time = -1
mul    = 0, 180, 250
color = 256
invertall = 0


[State 0, PalFx];mul  
type     = PalFx
Trigger1 = root,palno = 1
time = -1
mul    = 155, 125, 5
color = 0
invertall = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 1
trigger1 = Time = 0
trans = add1
PalContrast =  200, 150, 0
PalBright = 200,150,0
time = -1
length  = 7
TimeGap = 1
FrameGap = 1

[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 2
trigger1 = Time = 0
trans = add1
PalContrast =  200, 50, 0
PalBright = 200,50,0
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 3
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 4
trigger1 = Time = 0
trans = add1
PalContrast =  250, 0, 0
PalBright = 250,0,0
time = -1
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 5
trigger1 = Time = 0
trans = add1
PalContrast =  150, 0, 250
PalBright = 150,0,250
time = -1
length  = 7
TimeGap = 1
FrameGap = 1

[State 1000, sombra]
type = AfterImage
TriggerAll = root,palno = 6
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = -1
length  = 7
TimeGap = 1
FrameGap = 1








[State 1000, 0]
type = Angleset
trigger1 = time = 0
value = 20
IgnoreHitPause = 1

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.0, 1.0
IgnoreHitPause = 1



[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
value = -15
IgnoreHitPause = 1

[State 12500, 2]
type = Helper
trigger1 = TimeMod = 12320,0
trigger1 = root, command = "holddown"
helpertype = normal
name = "원구"
pos = 0,0
postype = P1
facing = 1
stateno = 3710
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 230, 3]
type = BindToParent
trigger1 = Parent,stateno = 2036
pos = 1,-30
IgnoreHitPause = 1

[State 230, 3]
type = BindToParent
trigger1 = Parent,stateno != 2036
pos = 1,-25
IgnoreHitPause = 1


[State -1]
Type = Explod
trigger1 = TimeMod = 5,0
Anim = 3103
BindTime = 1
PosType = P1
Pos = 0,-20
Random = 38,38
Scale = 0.5,0.5
;removetime = 3
Vel = -5+Random%10,-5+Random%10
SprPriority = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
Ownpal = 1
supermove = 1

[State 700, EnvShake]
type = EnvShake
trigger1 = time < 55
trigger1 = TimeMod = 10,0
time = 10
freq = 200
ampl = -5
phase = 10

[State 700, EnvShake]
type = EnvShake
trigger1 = time > 55
trigger1 = TimeMod = 10,0
time = 10
freq = 200
ampl = -2
phase = 5

[State 300, 2]
type = ChangeAnim
trigger1 = Anim != 3102
value = 3102

[State 0, HitOverride]
type = HitOverride
trigger1 =1
attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
stateno = 3102
ignorehitpause = 1
persistent = 1

[State 1000, 2]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 1,1
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 230, 2]
type = HitDef
trigger1 = TimeMod = 5,0
;affectteam = B
attr = A, NP
animtype  = medium
damage    = 5
priority = 1,hit
hitflag = MAFLD
guardflag = MAFLD
getpower = 0,0
givepower = 0,0
sparkno= 1
guard.sparkno= -1
pausetime = 1,1
guardpausetime = 1,0
sparkxy = 0,0
hitsound = s0,92
guardsound = 6,0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
guard.slidetime = 0
guard.hittime = 0
ground.velocity = -10,0
air.animtype = Back
airguard.velocity = -5,-3
air.velocity = -5,-3
numhits = 11
envshake.time = 5
envshake.ampl = -5
envshake.freq = 120
palfx.time = 10
palfx.add = 2, 2, 2
palfx.sinadd = 50, 50, 50, 10
palfx.color = 0
palfx.invertall = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,HitDefAttr != SCA, SA, NP , NA , NT , HA
trigger2 = EnemyNear,movetype != A
movetype = A

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT , HA
trigger2 = EnemyNear,movetype = A
movetype = I


[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT , HA
reversal.attr = SCA, SA, NP , NA, NT , HA
numhits = 1
pausetime = 1,1
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1, 1

[State 100, 4]
type = DestroySelf
trigger1 = Parent,stateno != 1400
trigger1 = Parent,stateno != 2036
trigger1 = Parent,stateno != 661
trigger1 = Parent,stateno != 204
trigger2 = root,Anim = 2003
trigger2 = root,Time >= 5
trigger3 = root,Anim = 661
trigger3 = root,Time >= 7

[Statedef 204]
type    = S
movetype= A
physics = S
juggle  = 10
poweradd= 65
ctrl = 0
velset = 0,0
anim = 2003
sprpriority = -1

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.2,1.0



[State -2,a]
type = Explod
trigger1 = AnimElem = 9
anim = F60
pos = 40,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0


[State 1520, 1]
type = NotHitBy
trigger1 = AnimElem = 7 < 0 
value = SCA
time = 1


[State -3]
type = varset
triggerall = var(13) = 1
trigger1 = command = "holdfwd"
trigger1 = Time < 5
var(13) = 2

[State 1313, 2]
type = VelSet
triggerall = var(13) = 2
trigger1 = Time = 5
x = -5

[State 3210, 3]
type = poweradd
triggerall = numhelper(77) <= 0
triggerall = var(13) = 2
trigger1 = Time = 5
value = -2000

[State 12500, 2]
type = Helper
triggerall = numhelper(77) <= 0
triggerall = var(13) = 2
trigger1 = Time = 5
helpertype = normal
name = "응가 왕아테키오 크라우~!"
ID = 77
pos = 65,-20
postype = P1
facing = 1
stateno = 77
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 12500, 2]
type = Helper
triggerall = var(13) >= 1
trigger1 = Time = 5
helpertype = normal
name = "원구"
pos = 45,-20
postype = P1
facing = 1
stateno = 3711
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 700, EnvShake]
type = EnvShake
triggerall = var(13) >= 1
trigger1 = Time = 5
time = 20
freq = 200
ampl = -8
phase = 10


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 11
channel = 3


[State 1000, 0]
type = TargetState
trigger1 = prevstateno = 1400
triggerall = command = "holddown"
trigger1 = movehit = 1
value = 2905
persistent = 0
IgnoreHitPause = 1


[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = prevstateno != 1400
trigger1 = Time = 3
attr = S, HA
damage = 150, 20
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = -15, -17
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = -1,-3
airguard.velocity = -1,-3
air.type = Trip
air.velocity = -1,-3
air.hittime = 12
yaccel  =0.2
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -10
envshake.freq = 120


[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = prevstateno != 1400
trigger1 = Time = 3
attr = S, HA
damage = 150, 20
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = -15, -17
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = -1,-4
airguard.velocity = -1,-4
air.type = Trip
air.velocity = -1,-4
air.hittime = 12
yaccel  =0.2
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -10
envshake.freq = 120



[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = prevstateno = 1400
trigger1 = Time = 3
attr = S, HA
damage = 200
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = -15, -17
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = -7,18
airguard.velocity = -7,18
air.type = Trip
air.velocity = -7,18
air.hittime = 12
yaccel  =0.2
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -10
envshake.freq = 120





[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = prevstateno != 1400
trigger1 = Time = 3
attr = S, HA
damage = 140, 20
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -15, -17
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = -2,-3
airguard.velocity = -2,-3
air.type = Trip
air.velocity = -2,-3
air.hittime = 12
yaccel  =0.2
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -10
envshake.freq = 120


[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = prevstateno != 1400
trigger1 = Time = 3
attr = S, HA
damage = 30+var(47)*1, 20
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -15, -17
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = -2,-3
airguard.velocity = -2,-3
air.type = Trip
air.velocity = -2,-3
air.hittime = 12
yaccel  =0.2
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -10
envshake.freq = 120



[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = prevstateno = 1400
trigger1 = Time = 3
attr = S, HA
damage = 200
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 1, 35
sparkno = 2
sparkxy = -15, -17
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = -7,18
airguard.velocity = -7,18
air.type = Trip
air.velocity = -7,18
air.hittime = 12
yaccel  =0.2
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -10
envshake.freq = 120



[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3203) = 0
Trigger1 =  AnimElem = 1
ID          = 3203
anim = 3105
pos = 0,-150
postype = p1
facing = -1
velocity = 9,20
sprpriority = 3
removetime = 15
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1



[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -8

[State 1000, 2]
type = ReversalDef
Trigger1 =  AnimElem = 9 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 = AnimElem = 9 , >= 0
trigger1 = EnemyNear,HitDefAttr = SCA,AA, SA,NT, NP
Trigger2 = AnimElem = 4 , < 0
trigger2 = EnemyNear,HitDefAttr = SCA,AA, SA,NT, NP
reversal.attr = SCA,AA, SA,NT, NP
numhits = 1
pausetime = 1,1
sparkno = 40
sparkxy = 10,0
hitsound = 6,0


[State 1313, 2]
type = VelSet
triggerall = var(13) != 1
triggerall = var(13) != 2
trigger1 = AnimElem = 1
x = 12

[State 1313, 2]
type = VelSet
triggerall = var(13) >= 1
trigger1 = AnimElem = 1
x = 12


[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 8
value = 2


[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


















;-----------------------------------------------------------------------
[Statedef 1001]
type = A
movetype = A
physics = N
anim = 1001
sprpriority = 0
ctrl = 0

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 80



[State -2,a]
type = Explod
trigger1 = AnimElem = 5
anim = F100
pos = 15,-15
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.5,0.5


[State 12500, 2]
type = Helper
trigger1 = numhelper(760) <= 15
triggerall = command != "holddown"
trigger1 = AnimElem = 5
helpertype = normal
name = "활"
ID = 760
pos = 15,-15
postype = P1
facing = 1
stateno = 1002
ownpal = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
Size.XScale = 1.0
Size.YScale = 1.0



[State 210, 1]
type = PlaySnd
triggerall = numhelper(81) <= 0
triggerall = command = "holddown"
trigger1 = AnimElem = 5
value = 0, 89
channel = 0

[State 12500, 2]
type = Helper
triggerall = numhelper(81) <= 0
triggerall = command = "holddown"
trigger1 = AnimElem = 5
helpertype = normal
name = "음파활"
ID = 81
pos = 25,-25
postype = P1
facing = 1
stateno = 1003
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0


[State 50, MoveFwd]
type = VelSet
triggerall = var(59) = 0
trigger1 = Command = "holdfwd"
X = 4

[State 50, MoveBack]
type = VelSet
triggerall = var(59) = 0
trigger1 = Command = "holdback"
X = -4

[State 50, VelCancel]
type = VelMul
triggerall = var(59) = 0
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)




[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .2


[State 20100, 0]
type = ChangeState
trigger1 = Vel Y > -1 && Pos Y >= -1
value = 50
ctrl = 1

[State 195, 1]
type = CtrlSet
trigger1 = AnimElem = 5, >= 0
value = 1

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1









;---------------------------------------------------------------------------
[Statedef 1003]
type = S
movetype = A
physics = N
anim = 1002
ctrl = 0
sprpriority = 3
velset = 15,15

[State 1000, sombra]
type = AfterImage
trigger1 = AnimElem = 1
trans = add1
PalContrast =  0, 150, 0
PalBright = 0,150,0
time = -1
length  = 10
TimeGap = 1
FrameGap = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 4718
ignorehitpause = 1
persistent = 1

[State 230, 3]
type = ChangeState
trigger1 = Time > 30
trigger2 = ScreenPos X < 30
trigger3 = FrontEdgeBodyDist < 10
trigger4 = BackEdgeBodyDist < 10
trigger5 = Vel Y > -1 && Pos Y >= -1
value = 4718
ctrl = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, HA
damage = 40,1
getpower  = 0,0
givepower = 20,20
hitflag = MAFLD
guardflag = MAFLD
offset = 0,0
sparkno = 2
sparkxy = 0,0
priority = 2, Hit 
pausetime = 1,100
hitsound = s0,87
guardsound = 6, 0
ground.type = low
ground.slidetime = 30
ground.hittime = 0
ground.velocity = 0,-2
air.velocity = 0,-2
guard.hittime = 0
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
kill = 0
palfx.time = 200
palfx.mul = 250,20,20
yaccel  =0.05
fall = 1
fall.recover = 0




;---------------------------------------------------------------------------
[Statedef 1002]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1000, sombra]
type = AfterImage
trigger1 = Time = 0
trans = add1
PalContrast =  100, 230, 250
PalBright = 100,230,250
time = -1
length  = 10
TimeGap = 1
FrameGap = 1

[State 290, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != 1002
value = 1002

;[State 290, NotHitBy]
;type = NotHitBy
;trigger1 = 1
;value = SCA
;time = 1

;[State 290, AssertSpecial]
;type = AssertSpecial
;trigger1 = 1
;flag = Invisible


[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
;affectteam = B
damage = 40, 0
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 2, Hit 
pausetime = 1, 1
getpower = 100, 100
givepower = 100, 100
sparkno = 1
sparkxy = -0, -0
hitsound = s0,29
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -3,0
airguard.velocity = -3,-1
guard.velocity = -18
air.type = High
air.velocity = -3,-1
air.hittime = 12
yaccel  =0.1
air.fall = 1
air.fall.recover = 0

[State 0, HitOverride]
type = HitOverride
trigger1 =1
attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
stateno = 4710
ignorehitpause = 1
persistent = 1

[State 300, 1]
type = VelSet
trigger1 = Time = 0
x = 12 + Random%10

[State 300, 1]
type = VelSet
trigger1 = Time = 0
y = 10 + Random%10

[State -2,a]
type = Explod
trigger1 = Vel Y > -0 && Pos Y >= -0
anim = F60
pos = 0,0
postype = p1
sprpriority = -9
bindtime = 1
ownpal = 1
supermove = 1
scale = 1,1

[State 20100, 0]
type = ChangeState
trigger1 = Vel Y > -0 && Pos Y >= -0
value = 1004


;-----------------------------------------------
[Statedef 1004]
type = A
movetype = H
physics = N
;facep2 = 1

[State 1000, sombra]
type = AfterImage
trigger1 = Time = 0
trans = add1
PalContrast =  100, 230, 250
PalBright = 100,230,250
time = -1
length  = 0
TimeGap = 1
FrameGap = 1

[State 290, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != 1004
value = 1004

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 87

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, HitOverride]
type = HitOverride
trigger1 =1
attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
stateno = 4710
ignorehitpause = 1
persistent = 1

[State 30, 6]
type = VelSet
trigger1 = Time = 0
x = 0

[State 30, 6]
type = VelSet
trigger1 = Time = 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1201,end]
type = Destroyself
trigger1 = Time = 200












[Statedef 400]
type    = S
movetype= A
physics = S
juggle  = 30
poweradd= 65
ctrl = 0
anim = 400
sprpriority = -1

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
trigger1 = Time <= 5
time = 1
add = 150,150,150

[State 1000, 2]
type = ReversalDef
Trigger1 =  AnimElem = 5 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 11
channel = 2
volume = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage =20, 0
animtype = Up
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
sparkno = 1
sparkxy = -10, -20  
hitsound = s0, 9
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -4,-1.-4
airguard.velocity = -4,-1.-4
guard.velocity = -10
air.type = Low
air.velocity = -4,-1.-4
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0

[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 1
x = 0

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 120
ctrl = 1



[Statedef 701]
type = S
movetype = I
physics = N
anim = 701
sprpriority = 0
ctrl = 0

[State 30, 6]
type = VelSet
trigger1 = Anim = 701
x = 3

[State 30, 6]
type = VelSet
trigger1 = Anim = 702
x = 0

[State -3]
type = Parentvarset
trigger1 = Time = 0
var(45) = 0


[State -3]
type = Parentvaradd
trigger1 = Anim = 701
trigger1 = Time >= 0
trigger1 = Time <= 16
var(45) = 2

[State -3]
type = Parentvaradd
trigger1 = Anim = 701
trigger1 = Time > 16
var(45) = -2



[State -3]
type = Parentvaradd
trigger1 = Anim != 702
trigger1 = Time = 15 | Time = 16
trigger1 = Parent,command = "y"
var(47) = 1


[State 210, 1]
type = PlaySnd
trigger1 = Anim != 702
trigger1 = Time = 15 | Time = 16
trigger1 = Parent,command = "y"
value = 0, 23
channel = 1
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = Anim != 702
trigger1 = Time >= 4
triggerall = IsHelper(70) = 1
trigger1 = Parent,command = "y"
value = 0, 12
channel = 2
volume = 0

[State 300, 2]
type = ChangeAnim
triggerall = IsHelper(70) = 1
trigger1 = Anim != 702
trigger1 = Time >= 4
trigger1 = Parent,command = "y"
value = 702


[State 210, 1]
type = PlaySnd
trigger1 = Anim != 702
trigger1 = Time >= 8
triggerall = IsHelper(71) = 1
trigger1 = Parent,command = "y"
value = 0, 12
channel = 2
volume = 0

[State 300, 2]
type = ChangeAnim
triggerall = IsHelper(71) = 1
trigger1 = Anim != 702
trigger1 = Time >= 8
trigger1 = Parent,command = "y"
value = 702



[State 210, 1]
type = PlaySnd
trigger1 = Anim != 702
trigger1 = Time >= 15
triggerall = IsHelper(72) = 1
trigger1 = Parent,command = "y"
value = 0, 12
channel = 2
volume = 0

[State 300, 2]
type = ChangeAnim
triggerall = IsHelper(72) = 1
trigger1 = Anim != 702
trigger1 = Time >= 15
trigger1 = Parent,command = "y"
value = 702

[State -3]
type = Parentvaradd
trigger1 = Anim = 701
trigger1 = Time > 31
trigger1 = var(45) >= 0
var(45) = -2




[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 100, 4]
type = DestroySelf
trigger1 = Anim = 701
trigger1 = Time = 34
trigger2 = Anim = 702
trigger2 = AnimTime = 0


;-----------------------------------------------------------------------
[Statedef 230]
type = A
movetype = I
physics = N
anim = 230
velset = 0,0
sprpriority = 0
poweradd= 0
ctrl = 0

[State -2,10]
type = Explod
trigger1 = 1
anim = 700
postype = P1
pos = 0,-65
removetime = 1
bindtime = 1
sprpriority = -1
ownpal = 1
facing = IfElse(Facing = 1, 1, -1)
supermove = 1
IgnoreHitPause = 1

[State -3]
type = varset
trigger1 = Time = 0
var(45) = 0

[State -3]
type = varset
trigger1 = Time = 0
var(47) = 0

[State 12500, 2]
type = Helper
triggerall = numhelper(70) <= 8
trigger1 = Time = 0
helpertype = normal
name = "공격크"
ID = 70
pos = -50,-65
postype = P1
facing = 1
stateno = 701
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 12500, 2]
type = Helper
triggerall = numhelper(71) <= 8
trigger1 = Time = 10
helpertype = normal
name = "공격크"
ID = 71
pos = -50,-65
postype = P1
facing = 1
stateno = 701
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 12500, 2]
type = Helper
triggerall = numhelper(72) <= 8
trigger1 = Time = 20
helpertype = normal
name = "공격크"
ID = 72
pos = -50,-65
postype = P1
facing = 1
stateno = 701
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 5120, 5]
type = NotHitBy
trigger1 = var(47) >= 1
value = SCA
time = 1

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
trigger1 = var(47) >= 1
time = 1
add = 250,100,0

[State 230, 3]
type = ChangeState
trigger1 = Time >= 1
trigger1 = numhelper(70) = 0
trigger1 = numhelper(71) = 0
trigger1 = numhelper(72) = 0
trigger1 = var(47) >= 1
value = 900

[State 230, 3]
type = ChangeState
trigger1 = Time >= 1
trigger1 = numhelper(70) = 0
trigger1 = numhelper(71) = 0
trigger1 = numhelper(72) = 0
value = 0
ctrl = 1











[Statedef 204]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 204
sprpriority = -1


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 8
channel = 1


[State -3]
type = varset
trigger1 = Time = 0
var(12) = 0

[State -3]
type = varset
trigger1 = Time > 0
trigger1 = p2movetype = A
var(12) = 1


[State 2201, 2]
type = PlayerPush
trigger1 = var(12) = 1
trigger1 = movehit
value = 1
ignorehitpause = 0

[State 7040,VelSet]
type = Veladd
trigger1 = movehit = 1
persistent = 200
x = 5
y = 0
ignorehitpause = 0

[State 200, 1]
type = HitDef
trigger1 = var(12) = 0
trigger1 = Time = 4
attr = S, NA
damage = 75, 5
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
sparkno = 1
sparkxy = -10, -14   
hitsound = s0, 21
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = -1,-3
airguard.velocity = -1,-3
guard.velocity = -12
air.type = Low
air.velocity = -1,-3
air.hittime = 12
yaccel  =0.4
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120


[State 200, 1]
type = HitDef
trigger1 = var(12) = 1
trigger1 = Time = 4
attr = S, NA
damage = 180, 5
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 20
sparkno = 2
sparkxy = -10, -14   
hitsound = s0, 21
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 44
ground.velocity = -1,0
airguard.velocity = -1,-3
guard.velocity = -12
air.type = Low
air.velocity = -1,-3
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120

[State 200, 1]
type = HitDef
trigger1 = var(12) = 1
trigger1 = Time = 4
attr = S, NA
damage = 80, 5
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 20
sparkno = 2
sparkxy = -10, -14   
hitsound = s0, 21
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 9
ground.hittime  = 44
ground.velocity = -1,0
airguard.velocity = -1,-6
guard.velocity = -6
air.type = Low
air.velocity = -1,-6
air.hittime = 12
yaccel  =0.4
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120


[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -10

[State 1000, 2]
type = ReversalDef
Trigger1 =  AnimElem = 10 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 =  Time < 4 | AnimElem = 10 , >= 0
trigger2 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 7040,VelSet]
type = VelSet
trigger1 = Time = 0
persistent = 200
x = 10
y = 0

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1







[Statedef 1400]
type    = S
movetype= A
physics = S
juggle  = 20
poweradd= 65
ctrl = 0
velset = 10,0
anim = 1400
sprpriority = -1


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 8
channel = 1


[State 200, 1]
type = HitDef
trigger1 = Time = 8
attr = S, NA
damage = 50, 5
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 1, 10
sparkno = 2
sparkxy = -10, -5
hitsound = s0, 21
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 0,-2
airguard.velocity = 0,-2
guard.velocity = -12
air.type = Low
air.velocity = 0,-2
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -10

[State 1000, 2]
type = ReversalDef
Trigger1 =  AnimElem = 5 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 = Time < 8 | AnimElem = 5 , >= 0
trigger2 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 195, 1]
type = CtrlSet
trigger1 = movecontact = 1
trigger1 = prevstateno != 1400
Trigger1 =  AnimElem = 5 , >= 0
value = 1

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 2092]
type    = A
movetype= A
physics = S
juggle  = 20
poweradd= 65
ctrl = 0
velset = 0,0
anim = 2092
sprpriority = -1

[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 5
x = 5



[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 5
y = -5




[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 13
y = -2



[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 22
y = -2


[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 27
y = -0

[State 1313, 2]
type = Veladd
trigger1 = AnimElem = 12 , > 0
y = .3

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 201
channel = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 30
value = 1, 33
channel = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 22
value = 1, 22
channel = 0


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 30
value = 0, 128
channel = 1


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 15
trigger2 = AnimElem = 22
value = 0, 12
channel = 1


[State 200, 1]
type = HitDef
trigger1 = Time = 8
attr = S, HA
damage = 55, 0
animtype = Up
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 1, 1
sparkno = 2
sparkxy = -10, -55
hitsound = s0, 9
guardsound = s0, 144
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0,-7
airguard.velocity = -0,-7
guard.velocity = -2
air.type = Low
air.velocity = -0,-7
air.hittime = 12
yaccel  = 0.3
fall = 1
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 23
trigger2 = Time = 34
attr = S, HA
damage = 55, 0
animtype = Up
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 1, 1
sparkno = 2
sparkxy = -10, -30
hitsound = s0, 9
guardsound = s0, 144
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0,-2
airguard.velocity = -0,-2
guard.velocity = -0
air.type = Low
air.velocity = -0,-2
air.hittime = 12
yaccel  = 0.3
fall = 1
fall.recover = 0



[State 200, 1]
type = HitDef
trigger1 = Time = 47
attr = S, HA
damage = 55, 0
animtype = Up
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -10, -30
hitsound = s0, 9
guardsound = s0, 9
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -7,10
airguard.velocity = -7,10
guard.velocity = -11
air.type = Low
air.velocity = -7,10
air.hittime = 12
yaccel  = 0.6
fall = 1
fall.recover = 0

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -10

[State 1000, 2]
type = ReversalDef
Trigger1 =  AnimElem = 32 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 =  Time < 8 | AnimElem = 32 , >= 0
trigger2 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , HA
reversal.attr = SCA, SA, NP , NA, HA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0


[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50
ctrl = 1






[Statedef 202]
type    = A
movetype= A
physics = S
juggle  = 20
poweradd= 0
ctrl = 0
anim = 202 + Var(57)*10000
sprpriority = -1




[State -3]
type = varset
trigger1 = AnimElem = 1
var(12) = 0

[State -3] ;특정캐릭 코드
type = varset
trigger1 = p2movetype = A
trigger1 = Time = 20
trigger1 = var(12) = 0
trigger2 = Time = 20
var(12) = 1

[State 200, 2]
type = PlaySnd
trigger1 = Time = 20
value = F40,6
channel = 2
volume = 0


[State 1000, 2]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA, AA, HT, NT, NA, SA, HA, NT, SP, NP, HP
numhits = 0
pausetime = 1,1
sparkno = 3
sparkxy = -10,0
hitsound = 6,0

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = 1
trigger1 = Facing = 1
trigger1 = movehit = 1
x = 6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = -1
trigger1 = Facing = 1
trigger1 = movehit = 1
x = -6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = 1
trigger1 = Facing = -1
trigger1 = movehit = 1
x = -6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = -1
trigger1 = Facing = -1
trigger1 = movehit = 1
x = 6

[State 7040,VelSet]
type = VelSet
trigger1 = vel X > 2
trigger1 = Time = 0
trigger2 = prevstateno = 211
trigger2 = Time = 0
trigger3 = prevstateno = 212
trigger3 = Time = 0
trigger4 = prevstateno = 2003
trigger4 = Time = 0
trigger5 = prevstateno = 204
trigger5 = Time = 0
trigger6 = prevstateno = 280
trigger6 = Time = 0
trigger7 = prevstateno = 283
trigger7 = Time = 0
persistent = 200
x = 8


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F100
pos = 0,-15
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.7,0.7

[State 230, 3]
type = ChangeState
triggerall = Var(59) = 0
trigger1 = Time > 200
trigger2 = command != "hold_x"
trigger2 = Time >= 6
trigger2 = Var(57) = 0
trigger3 = command != "hold_x"
trigger3 = Time >= 6
trigger3 = Var(57) = 1
trigger4 = Pos Y < 0
value = 2002
ctrl = 0

[State 230, 3]
type = ChangeState
triggerall = Var(59) = 1
trigger1 = Time > 55
trigger2 = Time >= 6
trigger2 = Var(57) = 0
trigger3 = Time >= 6
trigger3 = Var(57) = 1
trigger4 = Pos Y < 0
value = 2002
ctrl = 0


[Statedef 2002]
type    = A
movetype= A
physics = S
juggle  = 20
poweradd= 65
ctrl = 0
anim = 2002
sprpriority = -1

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -10
trigger1 = Command = "holdfwd"
X = 4

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -10
trigger1 = Command = "holdback"
X = -4

[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 3
trigger1 = Pos Y < -10
y = -5

[State 50, MoveFwd]
type = Veladd
trigger1 = Pos Y < -10
y = .3


[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
x = 5

[State 210, 5]
type = ChangeState
trigger1 = Pos Y < 0
trigger1 = AnimElem = 6
value = 50
ctrl = 1

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50



[State 200, 2]
type = PlaySnd
trigger1 = MoveHit = 1
trigger1 = var(12) = 1
value = F40,IfElse(random < 500, 5, 4)
channel = 7
volume = 250



[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 11
channel = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 1
channel = 1



[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = var(12) = 0
trigger1 = Time = 0
attr = S, HA
damage = 80, 10
animtype = Up
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = -8, -56  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -.5,-4
airguard.velocity = -.5,-4
guard.velocity = -5
air.type = Low
air.velocity = -.5,-4
air.hittime = 12
yaccel  = 0.3
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 170

[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = var(12) = 1
trigger1 = Time = 0
attr = S, HA
damage = 150, 10
animtype = Up
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = -7, -56  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -1,-28
airguard.velocity = -1,-28
guard.velocity = -5
air.type = Low
air.velocity = -1,-28
air.hittime = 12
yaccel  = 0.3
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 170





[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = var(12) = 0
trigger1 = Time = 0
attr = S, HA
damage = 80, 10
animtype = Up
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -8, -56  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -.5,-4
airguard.velocity = -.5,-4
guard.velocity = -5
air.type = Low
air.velocity = -.5,-4
air.hittime = 12
yaccel  = 0.4
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 170

[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = var(12) = 1
trigger1 = Time = 0
attr = S, HA
damage = 80, 10
animtype = Up
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -7, -56  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -1,-4
airguard.velocity = -1,-4
guard.velocity = -5
air.type = Low
air.velocity = -1,-4
air.hittime = 12
yaccel  = 0.4
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 170

[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3601) = 0
Trigger1 =  AnimElem = 1
ID          = 3601
anim = 3105
pos = 55,10
postype = p1
velocity = -9,-20
sprpriority = 3
removetime = 15
facing = -1
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1


[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -8

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 =  AnimElem = 8 , >= 0
trigger2 = EnemyNear,HitDefAttr = SCA, SA, NP , NA, NT,HA
reversal.attr = SCA, SA, NP , NA, NT,HA
numhits = 0
pausetime = 1,1
sparkno = 40
sparkxy = 10,0
hitsound = 6,0




[State -1, Stand Light Punch]
type = ChangeState
value = 202
trigger1 = command = "똥침"
Trigger1 =  AnimElem = 7 , >= 0

[State 1000, 0]
type = TargetState
trigger1 = var(12) = 10
trigger1 = p2movetype = H
trigger1 = movehit = 1
value = 5425
persistent = 100
IgnoreHitPause = 1

[State -2,a]
type = Explod
trigger1 = animelem = 1
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.2,0.7



[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1










[Statedef 205]
type    = A
movetype= A
physics = N
juggle  = 35
ctrl = 0
anim = 205 + Var(57)*10000
sprpriority = 0

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3







[State 12500, 2]
type = Helper
trigger1 = var(3) = 1
trigger1 = Pos Y >= 0
trigger1 = animelem = 6
helpertype = normal
name = "헬퍼1"
ID = 227
pos = 25,0
postype = P1
facing = 1
stateno = 206
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0


[State 12500, 2]
type = Helper
trigger1 = var(3) = 1
trigger1 = Pos Y < -1
trigger1 = animelem = 8
helpertype = normal
name = "헬퍼1"
ID = 227
pos = 25,-15
postype = P1
facing = 1
stateno = 206
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State -2]
type = varSet
trigger1 = var(3) = 1
trigger1 = animelem = 8
var(5) = 0

[State -2]
type = varSet
trigger1 = var(3) = 1
trigger1 = animelem = 8
var(3) = 0


[State 12500, 2]
type = Helper
trigger1 = var(3) = 0
trigger1 = Pos Y >= 0
trigger1 = animelem = 6
helpertype = normal
name = "헬퍼1"
ID = 225
pos = 25,0
postype = P1
facing = 1
stateno = 206
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0


[State 12500, 2]
type = Helper
trigger1 = var(3) = 0
trigger1 = Pos Y < -1
trigger1 = animelem = 8
helpertype = normal
name = "헬퍼1"
ID = 225
pos = 25,-15
postype = P1
facing = 1
stateno = 206
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 0, 128
channel = 2
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 0, 12
channel = 3
volume = 0

[State -2,a]
type = Explod
trigger1 = AnimElem = 4
anim = F60
pos = -10,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 6
anim = F60
pos = 10,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
scale = 1.0,1.0

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, SA, NP , NA, NT
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 8,8
sparkno = 40
sparkxy = 0,0
hitsound = 6,0


[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command = "holdfwd"
X = 2

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command = "holdback"
X = -2

[State 50, 0]
type = VelMul
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 1.7, fvar(3), 0)

[State 300, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Pos Y < -1
value = 638

[State 230, 3]
type = ChangeState
trigger1 = Pos Y < -1
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 230, 3]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1





;---------------------------------------------------------------------------
[Statedef 206]
type = S
movetype = A
physics = N
anim = 206
ctrl = 0
sprpriority = 1


[State 300, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Pos Y < -1
value = 637


[State 205, 0]
type = PalFX
trigger1 = IsHelper(227) = 1
time = 1
add = 50,100,250

[State 1000, sombra]
type = AfterImage
trigger1 = IsHelper(227) = 1
trigger1 = AnimElem = 1
trans = add
PalContrast =  0, 50, 250
PalBright = 50,100,250
time = -1
length  = 5
TimeGap = 1
FrameGap = 1



[State 1000, sombra]
type = AfterImage
trigger1 = IsHelper(225) = 1
trigger1 = AnimElem = 1
trans = add
PalContrast =  0, 250, 0
PalBright = 50,150,50
time = -1
length  = 5
TimeGap = 1
FrameGap = 1


[State 300, 1]
type = VelSet
trigger1 = 1
x = 7

[State 1201,end]
type = Destroyself
trigger1 = Time > 80


[State 210, 5]
type = ChangeState
trigger1 = IsHelper(225) = 1
trigger1 = movecontact
trigger1 = MoveHit = 0
trigger1 = p2dist X > -25
trigger1 = p2dist X < 25
value = 604
ctrl = 0

[State 210, 5]
type = ChangeState
trigger1 = IsHelper(227) = 1
trigger1 = movecontact | MoveReversed 
trigger1 = p2dist X > -25
trigger1 = p2dist X < 25
value = 617
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = IsHelper(225) = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 604
ignorehitpause = 1
persistent = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = IsHelper(227) = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 617
ignorehitpause = 1
persistent = 1

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NP
damage = 75,1
getpower  = 0,0
givepower = 0,0
priority = 1, Hit 
hitflag = MAFLD
guardflag = MAFLD
offset = 20,-35
sparkno = 2
sparkxy = 10,-5
pausetime = 1,10
hitsound = s0,9
guardsound = 6, 0 
ground.type = low
ground.slidetime = 1
ground.hittime = 1
ground.velocity = -7,0
air.velocity = -5,-0
guard.hittime = 1
guard.velocity = -13
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0


[State -2,a]
type = Explod
trigger1 = Anim = 206
trigger1 = TimeMod = 7,0
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 5
ownpal = 1
scale = 1.0,1.0


[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 1
pausetime = 5,5
sparkno = 40
sparkxy = 0,0
hitsound = 6,0





[Statedef 604]
Type      = A
Physics   = N
Ctrl      = 0
PowerAdd  = 0
sprpriority = 10

[State 300, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Pos Y < -1
value = 637

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 604
ignorehitpause = 1
persistent = 1

[State 1000, 0]
type = AssertSpecial
trigger1 = Time > 20
flag = noshadow

[State 290, Anim]
type = ChangeAnim
trigger1 = Time <= 0
value = 604

[State 4500, Fly!]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
trigger1 = time < 1
scale = 1.0, 1.0

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 1
trigger1 = time < 2
scale = 0.9, 0.9

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 2
trigger1 = time < 3
scale = 0.8, 0.8

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 3
trigger1 = time < 4
scale = 0.7, 0.7

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 4
trigger1 = time < 5
scale = 0.6, 0.6

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 5
trigger1 = time < 6
scale = 0.5, 0.5

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 6
trigger1 = time < 7
scale = 0.4, 0.4

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 7
trigger1 = time < 8
scale = 0.3, 0.3

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 8
trigger1 = time < 9
scale = 0.2, 0.2

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 9
trigger1 = time < 10
scale = 0.1, 0.1

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 10
scale = 0.0, 0.0

[State 4500, Gravity]
type = VelAdd
trigger1 = 1
y = 0

[State 1201,end]
type = Destroyself
trigger1 = Time > 35
















[Statedef 618]
type    = A
movetype= A
physics = N
juggle  = 20
poweradd= 40
ctrl = 0
anim = 603
sprpriority = 0

[State 1000, sombra]
type = AfterImage
trigger1 = Time = 0
trans = add
PalContrast =  250, 150, 0
PalBright = 100,100,100
time = 15
length  = 15
TimeGap = 1
FrameGap = 1

[State -2,a]
type = Explod
trigger1 = animelem = 1
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 5
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.8,0.6

[State 1520, 1]
type = NotHitBy
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
value = SCA
time = 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 11
channel = 1


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 3
channel = 0
volume = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 120, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = -10, -31  
hitsound = s0, 10
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -11,-8.5
airguard.velocity = -11,-8.5
guard.velocity = -25
air.type = Trip
air.velocity = -11,-8.5
air.hittime = 12
yaccel  =0.5
fall = 1
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = p2movetype = H
trigger1 = AnimElem = 1
attr = S, NA
damage = 140, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = -10, -31  
hitsound = s0, 10
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -11,-8.5
airguard.velocity = -11,-8.5
guard.velocity = -25
air.type = Trip
air.velocity = -11,-8.5
air.hittime = 12
yaccel  =0.5
fall = 1
fall.recover = 0
envshake.time = 14
envshake.ampl = -5
envshake.freq = 120

[State 52, 4]
type = ChangeState
trigger1 = Time < 10
trigger1 = MoveHit = 100
trigger1 = p2dist X > -45
trigger1 = p2dist X < 45
trigger2 = MoveReversed = 1
trigger3 = Time < 10
trigger3 = movecontact
trigger3 = p2dist X > -45
trigger3 = p2dist X < 45
value = 6030
ctrl = 0

[State 1313, 2]
type = VelSet
trigger1 = Time < 5
x = 35

[State 1313, 2]
type = VelSet
trigger1 = Time = 5
x = 0

[State 1312, 2]
type = VelAdd
trigger1 = Time > 6
y = 0.2

[State 1313, 2]
type = VelSet
trigger1 = Time = 6
x = 0

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command = "holdfwd"
trigger1 = Time > 6
X = IfElse(Vel X < Const(velocity.jump.fwd.x), Vel X+0.3, Const(velocity.jump.fwd.x))

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command = "holdback"
trigger1 = Time > 6
X = IfElse(Vel X > -Const(velocity.jump.fwd.x), Vel X-0.3, -Const(velocity.jump.fwd.x))

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Time > 6
trigger1 = Pos Y < -1
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[Statedef 619]
type    = A
movetype= A
physics = N
juggle  = 10
poweradd= 65
ctrl = 0
anim = 603
sprpriority = 0

[State 1000, sombra]
type = AfterImage
trigger1 = Time = 0
trans = add
PalContrast =  250, 150, 0
PalBright = 100,100,100
time = 15
length  = 15
TimeGap = 1
FrameGap = 1

[State -2,a]
type = Explod
trigger1 = animelem = 1
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 5
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.8,0.6

[State 1520, 1]
type = NotHitBy
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
value = SCA
time = 1


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 9
channel = 0
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 135
channel = 1

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 350, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -10, -31  
hitsound = s0, 10
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6,-11.5
airguard.velocity = -6,-11.5
guard.velocity = -25
air.type = Trip
air.velocity = -6,-11.5
air.hittime = 12
yaccel  =0.5
fall = 1
fall.recover = 0
envshake.time = 24
envshake.ampl = -7
envshake.freq = 120

[State 200, 1]
type = HitDef
trigger1 = p2movetype = H
trigger1 = AnimElem = 1
attr = S, NA
damage = 350, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -10, -31  
hitsound = s0, 10
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6,-9.5
airguard.velocity = -6,-9.5
guard.velocity = -25
air.type = Trip
air.velocity = -6,-9.5
air.hittime = 12
yaccel  =0.5
fall = 1
fall.recover = 0
envshake.time = 24
envshake.ampl = -7
envshake.freq = 120

[State 1000, 0]
type = TargetState
trigger1 = movehit = 1
value = 5450
persistent = 0
IgnoreHitPause = 1

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0


[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 6030
ctrl = 0

[State 1313, 2]
type = VelSet
trigger1 = Time < 6
x = 40

[State 1313, 2]
type = VelSet
trigger1 = Time = 6
x = 0

[State 1312, 2]
type = VelAdd
trigger1 = Time > 7
y = 0.2

[State 1313, 2]
type = VelSet
trigger1 = Time = 7
x = 0

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command = "holdfwd"
trigger1 = Time > 7
X = IfElse(Vel X < Const(velocity.jump.fwd.x), Vel X+0.3, Const(velocity.jump.fwd.x))

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command = "holdback"
trigger1 = Time > 7
X = IfElse(Vel X > -Const(velocity.jump.fwd.x), Vel X-0.3, -Const(velocity.jump.fwd.x))

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Time > 7
trigger1 = Pos Y < -1
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1



;---------------------------------------------------------------------------


[Statedef 6030]
type    = A
movetype= A
physics = N
juggle  = 10
poweradd= 65
ctrl = 0
anim = 6030
sprpriority = 0

[State 1000, sombra]
type = AfterImage
trigger1 = Time = 0
trans = add
PalContrast =  250, 150, 0
PalBright = 100,100,100
time = 8
length  = 8
TimeGap = 1
FrameGap = 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 11
channel = 2

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 80, 0
animtype = Light
hitflag = MFLDP
guardflag = MFLDP
priority = 3, Hit
pausetime = 10, 10
sparkno = 2
sparkxy = -10, -31  
hitsound = s0, 10
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -2,-8.5
airguard.velocity = -2,-8.5
guard.velocity = -2
air.type = Trip
air.velocity = -2,-8.5
air.hittime = 12
yaccel  =0.5
fall = 1
fall.recover = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 1312, 2]
type = VelAdd
trigger1 = Time > 10
y = 0.2

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command = "holdfwd"
trigger1 = Time > 3
X = IfElse(Vel X < Const(velocity.jump.fwd.x), Vel X+0.3, Const(velocity.jump.fwd.x))

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command = "holdback"
trigger1 = Time > 3
X = IfElse(Vel X > -Const(velocity.jump.fwd.x), Vel X-0.3, -Const(velocity.jump.fwd.x))

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Time > 3
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 30, 6]
type = VelSet
trigger1 = Time < 25
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Time < 25
trigger1 = Pos Y > 0
y = 0

[State 1000, 0]
type = ChangeState
trigger1 = Time > 25
trigger1 = Vel Y >= 0 && Pos Y >= 0
value = 50

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 1 && Pos Y >= 1
value = 611

















[Statedef 207]
type    = A
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 207
sprpriority = 0
juggle  = 30

[State 50, MoveFwd]
type = VelSet
trigger1 = Command = "holdfwd"
trigger1 = Time = 0
X = 3

[State 1000, 2]
type = ReversalDef
trigger1 = Time = 0
reversal.attr = SCA, AA, AP, NA, SA, HA, SP, NP, HP
numhits = 0
pausetime = 11,11
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State -3] ;특정캐릭 코드
type = varset
trigger1 = p2movetype = H
trigger1 = AnimElem = 2
trigger1 = var(12) = 0
var(12) = 1

[State 7040,VelSet]
type = VelSet
trigger1 = vel X > 1
trigger1 = Time = 0
persistent = 200
x = 11
y = 0

[State 7040,VelSet]
type = VelSet
trigger1 = Time = 0
trigger1 = Pos Y <= -1
persistent = 200
y = 0


[State -3]
type = varset
trigger1 = AnimElem = 1
var(12) = 0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.5,1.0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,92




[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,11
channel = 3

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,89
channel = 0
volume = 0


[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
Trigger1 =  Time = 0
attr = S, HA
damage = 20, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 10
sparkno = 1
sparkxy = -10, -13
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0,-1.8
airguard.velocity = -0,-1.8
guard.velocity = -1
air.type = Low
air.velocity = -0,-1.8
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0





[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
Trigger1 =  Time = 4
attr = S, HA
damage = 50, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = -10, -51  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 2,-7.8
airguard.velocity = 2,-7.8
guard.velocity = -1
air.type = Low
air.velocity = 2,-7.8
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0





[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
Trigger1 =  Time = 0
attr = S, HA
damage = 20, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 10
sparkno = 1
sparkxy = -10, -13
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0,-7.8
airguard.velocity = -0,-7.8
guard.velocity = -1
air.type = Low
air.velocity = -0,-7.8
air.hittime = 12
yaccel  =0.5
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120



[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
Trigger1 =  Time = 4
attr = S, HA
damage = 50, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 20
sparkno = 2
sparkxy = -10, -51  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 1,-7.8
airguard.velocity = 1,-7.8
guard.velocity = -1
air.type = Low
air.velocity = 1,-7.8
air.hittime = 12
yaccel  =0.5
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120


[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3601) = 0
Trigger1 =  AnimElem = 5
ID          = 3601
anim = 3105
pos = 0,30
postype = p1
velocity = 15,-40
sprpriority = 3
removetime = 15
facing = 1
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1

[State 1000, 2]
type = ReversalDef
Trigger1 = AnimElem = 8 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0


[State 200, 1]
type = HitDef
trigger1 = TimeMod = 10,0
Trigger1 = AnimElem = 8 , >= 0
attr = S, NP
damage = 15, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
pausetime = 1, 1
guard.pausetime = 1,1
sparkno = 1
sparkxy = -30, -20  
hitsound = s0, 121
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 1
ground.hittime  = 1
guard.velocity = -7
ground.velocity = -5,0
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,-1
air.hittime = 12
yaccel  =0.2
fall.yvelocity = -7


[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -8




[State 1000, 2]
type = ReversalDef
trigger1 = p2MoveType = A
Trigger1 = AnimElem = 8 , >= 0
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0


[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F100
pos = -13,-15
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 5
anim = F2
pos = 13,-22
postype = p1
velocity = 0,0
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.5,1.5


[State -2,a]
type = Explod
trigger1 = AnimElem = 5
id = 320
anim = 281
pos = 25,-22
postype = p1
velocity = 0,0
sprpriority = 8
removetime = 81
bindtime = 1
ownpal = 1
supermove = 1
scale = 1.0,1.0

[State 7040,VelSet]
type = VelSet
trigger1 = AnimElem = 1
y = 0



[State 7040,VelSet]
type = VelSet
trigger1 = AnimElem = 6 , >= 0
trigger1 = AnimElem = 8 , < 0
y = -30


[State 7040,VelSet]
type = VelSet
trigger1 = AnimElem = 6 , >= 0
trigger1 = AnimElem = 8 , < 0
x = -5

[State 7040,VelSet]
type = VelSet
trigger1 = AnimElem = 8
y = -2

[State 1312, 2]
type = VelAdd
trigger1 = Time > 11
y = 0.3



[State -2,a]
type = Explod
trigger1 = TimeMod = 1,0
trigger1 = AnimElem = 6 , >= 0
trigger1 = AnimElem = 8 , < 0
anim = f2
pos = 30,-15
postype = p1
sprpriority = 9
velocity = -1-Random%3,-2-Random%-2
removetime = 35
bindtime = 1
random = 0,0
Accel = 0,.195
ownpal = 1
supermove = 1
scale = 0.2,0.2

[State -2,a]
type = Explod
trigger1 = TimeMod = 1,0
trigger1 = AnimElem = 6 , >= 0
trigger1 = AnimElem = 8 , < 0
anim = f2
pos = 30,-15
postype = p1
sprpriority = 9
velocity = -1-Random%3,-2-Random%-2
removetime = 35
bindtime = 1
random = 0,0
Accel = 0,.195
ownpal = 1
supermove = 1
scale = 0.2,0.2


[State -1, OROCHI]
type = ChangeState
value = 50
triggerall = var(59) != 1
trigger1 = Vel Y > 0 && Pos Y >= 0
trigger1 = MoveHit


[State -3]
type = varset
trigger1 = Time = 0
var(15) =0

[State -3]
type = varset
trigger1 = Time > 20
var(15) = 1


;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command = "holdfwd"
trigger1 = Time > 20
X = 3

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Pos Y < -1
trigger1 = Command = "holdback"
trigger1 = Time > 20
X = -3

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Time > 20
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)


[State 1000, 0]
type = ChangeState
trigger1 = Command = "y"
trigger1 = Time > 12
value = 402


[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 611













[Statedef 402]
type    = A
movetype= A
physics = N
juggle  = 15
poweradd= 0
ctrl = 0
anim = 400
sprpriority = 0

[State 0]
type = RemoveExplod
trigger1 = var(15) = 0
Trigger1 =  Time = 11
id = 320
IgnoreHitPause = 1



[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3601) = 0
Trigger1 =  AnimElem = 7
ID          = 3601
anim = 3105
pos = 40,-30
postype = p1
velocity = 15,40
sprpriority = 3
removetime = 15
facing = -1
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1


[State -2,a]
type = Explod
trigger1 = TimeMod = 2,0
trigger1 = AnimElem = 7 , >= 0
anim = f2
pos = 30,-15
postype = p1
sprpriority = 9
velocity = 1+Random%3,-2-Random%-2
removetime = 35
bindtime = 1
random = 0,0
Accel = 0,.195
ownpal = 1
supermove = 1
scale = 0.2,0.2


[State -2,a]
type = Explod
trigger1 = TimeMod = 2,0
trigger1 = AnimElem = 7 , >= 0
anim = f2
pos = 30,-15
postype = p1
sprpriority = 9
velocity = 1+Random%3,-2-Random%-2
removetime = 35
bindtime = 1
random = 0,0
Accel = 0,.195
ownpal = 1
supermove = 1
scale = 0.2,0.2



[State -2,a]
type = Explod
trigger1 = AnimElem = 4
anim = F100
pos = -28,-35
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0


[State -2,a]
type = Explod
trigger1 = AnimElem = 7
anim = F2
pos = 45,-21
postype = p1
velocity = 0,0
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.5,1.5

[State 700, EnvShake]
type = EnvShake
trigger1 = AnimElem = 7
time = 10
freq = 100
ampl = -5
phase = 10


[State -2,a]
type = Explod
Trigger1 =  Time = 11
trigger1 = var(15) = 1
anim = 2811
pos = 35,0
postype = p1
velocity = 0,0
sprpriority = 8
removetime = 51
bindtime = 1
ownpal = 1
supermove = 1
scale = 1.0,1.0

[State -2,a]
type = Explod
Trigger1 =  Time = 11
trigger1 = var(15) = 0
anim = f100
pos = 38,-50
postype = p1
velocity = 0,0
sprpriority = 8
bindtime = 1
ownpal = 1
supermove = 1
scale = 1.0,1.0
removetime = 51


[State -2,a]
type = Explod
Trigger1 =  Time = 11
trigger1 = var(15) = 0
anim = 282
pos = 35,0
postype = p1
velocity = 0,0
sprpriority = 8
removetime = 51
bindtime = 1
ownpal = 1
supermove = 1
scale = 1.0,1.0

[State 700, EnvShake]
type = EnvShake
trigger1 = var(15) = 1
Trigger1 =  Time = 11
time = 3
freq = 100
ampl = -5
phase = 10

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F0
pos = 0,-25
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State 30, 6]
type = PosAdd
trigger1 = AnimElem = 1
x = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = Time = 8
attr = S, HA
damage = 100, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 20
guard.pausetime = 1,20
sparkno = 2
sparkxy = -10, -10
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -11,7.5
airguard.velocity = -11,7.5
guard.velocity = -25
air.type = Low
air.velocity = -11,7.5
air.hittime = 12
yaccel  =0.7
fall = 1
fall.recover = 0



[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = Time = 8
attr = S, HA
damage = 100, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 20
guard.pausetime = 1,20
sparkno = 2
sparkxy = -10, -10
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -11,7.5
airguard.velocity = -11,7.5
guard.velocity = -25
air.type = Low
air.velocity = -11,7.5
air.hittime = 12
yaccel  =0.7
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120

[State 12500, 2]
type = Helper
trigger1 = numhelper(310) <= 0
trigger1 = MoveHit = 1
trigger1 = var(31) = 1
helpertype = normal
name = "류"
ID = 310
pos = 30,-10
postype = P1
facing = 1
stateno = 3710
ownpal = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
Size.XScale = 1.0
Size.YScale = 1.0
IgnoreHitPause = 1


[State 700, EnvShake]
type = EnvShake
trigger1 = var(15) = 0
trigger1 = MoveHit = 1
time = 7
freq = 100
ampl = -8
phase = 10


[State 7040,VelSet]
type = VelSet
trigger1 = AnimElem = 7 , >= 0
x = 5


[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 0,92

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 0, 11
channel = 3




[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 7 , >=0
y = 17

[State 210, 1]
type = PlaySnd
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1, 11


[State -2,a]
type = Explod 
trigger1 = Vel Y > 0 && Pos Y >= 0
anim = F60
pos = 40,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State 1000, 0]
type = ChangeState
trigger1 = movecontact
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50
ctrl = 1

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 283















[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 35
ctrl = 0
anim = 220 + Var(57)*10000
sprpriority = 0

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 2,0
time = 0
add = 250,150,150

[State 2601, EnvShake]
type = EnvShake
trigger1 = AnimElem = 1
time = 4
ampl = -6
ignorehitpause = 1

[State 300, Explod]
type = Explod
trigger1 = AnimElem = 1
sprpriority = 8
pos = -3, -25
postype = p1
anim = 227
Scale = 0.7,1.2

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 25
channel = 0
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 301
channel = 4

[State -2,a]
type = Explod
trigger1 = TimeMod = 11,0
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
scale = 0.9,0.3

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 80, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 1, 1
sparkno = 0
sparkxy = -15, 0  
hitsound = s0, 121
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 0,-13.5
airguard.velocity = 0,-13.5
guard.velocity = -10
air.type = Low
air.velocity = 0,-13.5
air.hittime = 12
yaccel  =0.7
fall = 1
fall.recover = 0
palfx.time =1
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1

[State 200, 1]
type = HitDef
trigger1 = p2movetype = H
trigger1 = Time = 0
attr = S, NA
damage = 120, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 1, 1
sparkno = 1
sparkxy = -10, 0 
hitsound = s0, 54
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 2,-14.5
airguard.velocity = 2,-14.5
guard.velocity = -10
air.type = Trip
air.velocity = 2,-14.5
air.hittime = 12
yaccel  =0.7
fall = 1
fall.recover = 0
palfx.time =1
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
trigger2 = AnimElem = 10 , >= 0
reversal.attr = SCA, NP
numhits = 1
pausetime = 8,8
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1














[Statedef 208]
type    = A
movetype= A
physics = S
juggle  = 20
poweradd= 65
ctrl = 0
anim = 208
sprpriority = 0



[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F2
pos = 0,-11
postype = p1
velocity = 0,0
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 0
scale = 4.0,0.3

[State 30, 6]
type = PosAdd
trigger1 = AnimElem = 1
x = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0


[State 12500, 2]
type = Helper
trigger1 = numhelper(2) <= 0
trigger1 = Time = 0
helpertype = normal
name = "참격"
ID = 2
pos = 55,-10
postype = P1
facing = 1
stateno = 637
keyctrl = 0
ownpal = 1
Size.XScale = 0.8
Size.YScale = 0.8

[State 1000, 0]
type = TargetState
trigger1 = MoveHit = 1
trigger1 = p2movetype = H
trigger1 = Time =0
value = 5450
persistent = 0
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, SA
damage = 50, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
pausetime = 1, 10
guard.pausetime = 10,1
sparkno = 2
sparkxy = -10, -10
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = -0,0
airguard.velocity = -0,-3.5
guard.velocity = -25
air.type = Low
air.velocity = -0,-3.5
air.hittime = 12
yaccel  =0.3
;fall = 1
;fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, SA
damage = 50, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
pausetime = 1, 10
guard.pausetime = 10,1
sparkno = 2
sparkxy = -10, -10
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = -0,0
airguard.velocity = -0,-3.5
guard.velocity = -25
air.type = Low
air.velocity = -0,-3.5
air.hittime = 12
yaccel  =0.3
;fall = 1
;fall.recover = 0




[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 91
channel = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 11
channel = 2



[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 1
trigger1 = AnimElem = 1
trans = add1
PalContrast =  250, 200, 0
PalBright = 250,200,0
time = 15
length  = 5
TimeGap = 1
FrameGap = 1



[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 2
trigger1 = Time = 0
trans = add1
PalContrast =  200, 50, 0
PalBright = 200,50,0
time = 15
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 3
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = 15
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 4
trigger1 = Time = 0
trans = add1
PalContrast =  250, 0, 0
PalBright = 250,0,0
time = 15
length  = 7
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 5
trigger1 = Time = 0
trans = add1
PalContrast =  150, 0, 250
PalBright = 150,0,250
time = 15
length  = 7
TimeGap = 1
FrameGap = 1

[State 1000, sombra]
type = AfterImage
TriggerAll = palno = 6
trigger1 = Time = 0
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = 15
length  = 7
TimeGap = 1
FrameGap = 1


[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3


[State 1313, 1]
type = Posadd
trigger1 = Time = 0
x = 215

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0



[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 1000, 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = Time > 9
trigger2 = movecontact | MoveReversed 
value = 50
ctrl = 1




;---------------------------------------------------------------------------
[Statedef 638]
type = S
movetype = A
physics = N
anim = 657
ctrl = 0
sprpriority = 3
velset = 0,0


[State 0, HitOverride]
type = HitOverride
trigger1 =1
attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
stateno = 638
ignorehitpause = 1

[State 1201,end]
type = Destroyself
trigger1 = Time = 0
ignorehitpause = 1




[Statedef 637]
type    = A
movetype= A
physics = S
juggle  = 34
poweradd= 65
ctrl = 0
anim = 657
sprpriority = 0


[State 30, 6]
type = VelSet
trigger1 =1
x = 0

[State 0, HitOverride]
type = HitOverride
trigger1 =1
attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
stateno = 638
ignorehitpause = 1


[State -2,a]
type = Explod
trigger1 = Time = 0
trigger2 = Time = 3
trigger3 = Time = 6
trigger4 = Time = 9
trigger5 = Time = 12
trigger6 = Time = 15
anim = F2
pos = -75+Random%145,-11+Random%15
postype = p1
velocity = 0,0
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 0
scale = 4.0,0.3

[State 200, 1]
type = HitDef
trigger1 = Time = 0
trigger2 = Time = 3
trigger3 = Time = 6
trigger4 = Time = 9
trigger5 = Time = 12
trigger6 = Time = 15
attr = S, SA
damage = 12, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 1, 1
guard.pausetime = 1,1
sparkno = 2
sparkxy = -10, -10
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = -2,-3.5
airguard.velocity = -2,-3.5
guard.velocity = -25
air.type = Low
air.velocity = -2,-3.5
air.hittime = 12
;yaccel  =0.7
;fall = 1
;fall.recover = 0


[State 100, 4]
type = DestroySelf
trigger1 = time > 15











[Statedef 209]
type    = A
movetype= I
physics = N
juggle  = 6
poweradd= 0
ctrl = 0
velset = 0,0
anim = 208
sprpriority = -1

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,0
anim = 3100
pos = 0,-35
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,0
anim = 3100
pos = 0,-30
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,0
anim = 3100
pos = 0,-24
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,1
anim = 3100
pos = 0,-24
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,2
anim = 3100
pos = 0,-20
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,1
anim = 3100
pos = 0,-24
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = random > 500
anim = 3100
pos = 0,-20
postype = p1
velocity = 0,1
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.04,0.04

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Time > 2
trigger1 = Command = "holdfwd"
X = IfElse(Vel X < Const(velocity.jump.fwd.x), Vel X+0.3, Const(velocity.jump.fwd.x))

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Time > 2
trigger1 = Command = "holdback"
X = IfElse(Vel X > -Const(velocity.jump.fwd.x), Vel X-0.3, -Const(velocity.jump.fwd.x))

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
trigger1 = Time > 2
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)

[State 1312, 2]
type = VelSet
trigger1 = Time = 0
X = 180

[State 1312, 2]
type = VelSet
trigger1 = Time = 1
X = 0

[State 1313, 2]
type = VelAdd
trigger1 = Time > 0
y = .2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[Statedef 211]
type    = A
movetype= I
physics = N
juggle  = 6
poweradd= 0
ctrl = 0
velset = 0,0
anim = 208
sprpriority = -1

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,0
anim = 3100
pos = 0,-35
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,0
anim = 3100
pos = 0,-30
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,0
anim = 3100
pos = 0,-24
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,1
anim = 3100
pos = 0,-24
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,2
anim = 3100
pos = 0,-20
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,1
anim = 3100
pos = 0,-24
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = random > 500
anim = 3100
pos = 0,-20
postype = p1
velocity = 0,1
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.04,0.04

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Time > 2
trigger1 = Command = "holdfwd"
X = IfElse(Vel X < Const(velocity.jump.fwd.x), Vel X+0.3, Const(velocity.jump.fwd.x))

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Time > 2
trigger1 = Command = "holdback"
X = IfElse(Vel X > -Const(velocity.jump.fwd.x), Vel X-0.3, -Const(velocity.jump.fwd.x))

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
trigger1 = Time > 2
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)

[State 1312, 2]
type = VelSet
trigger1 = Time = 0
X = -180

[State 1312, 2]
type = VelSet
trigger1 = Time = 1
X = 0

[State 1313, 2]
type = VelAdd
trigger1 = Time > 0
y = .2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[Statedef 212]
type    = A
movetype= I
physics = N
juggle  = 6
poweradd= 0
ctrl = 0
velset = 0,0
anim = 208
sprpriority = -1

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,0
anim = 3100
pos = 0,-35
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,0
anim = 3100
pos = 0,-30
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,0
anim = 3100
pos = 0,-24
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,1
anim = 3100
pos = 0,-24
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,2
anim = 3100
pos = 0,-20
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1,1
anim = 3100
pos = 0,-24
postype = p1
velocity = 0,0
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.02,1.0

[State -2,a]
type = Explod
trigger1 = random > 500
anim = 3100
pos = 0,-20
postype = p1
velocity = 0,1
sprpriority = 8
random = 35,0
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.04,0.04

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Time > 2
trigger1 = Command = "holdfwd"
X = IfElse(Vel X < Const(velocity.jump.fwd.x), Vel X+0.3, Const(velocity.jump.fwd.x))

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Time > 2
trigger1 = Command = "holdback"
X = IfElse(Vel X > -Const(velocity.jump.fwd.x), Vel X-0.3, -Const(velocity.jump.fwd.x))

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
trigger1 = Time > 2
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1312, 2]
type = VelSet
trigger1 = Time = 1
y = 0

[State 1313, 2]
type = VelAdd
trigger1 = Time > 0
y = .2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1






[Statedef 205]
type    = A
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 205
sprpriority = 0

[State 101, Turn]
type = Turn
trigger1 = Time > 1
trigger1 = Command = "holdback"

[State 300, Explod]
type = Explod
trigger1 = time = 50
sprpriority = 10
pos = 20, 0
postype = p1
anim = F1
ownpal = 1
supermove = 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 8
channel = 2

[State 1312, 2]
type = VelSet
trigger1 = Time > 0
y = 1

[State 1313, 1]
type = PosSet
trigger1 = Vel Y > 0 && Pos Y >= 0
y = 0

[State -2,a]
type = Explod
trigger1 = TimeMod = 15,0
anim = F65
pos = 10,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.5,0.2

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 0
pausetime = 5,5
sparkno = 40
sparkxy = 0,0
hitsound = 6,0


[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = 1
trigger1 = Facing = 1
trigger1 = movehit = 1
x = 6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = -1
trigger1 = Facing = 1
trigger1 = movehit = 1
x = -6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = 1
trigger1 = Facing = -1
trigger1 = movehit = 1
x = -6

[State 1313, 2]
type = VelSet
trigger1 = enemy,Facing = -1
trigger1 = Facing = -1
trigger1 = movehit = 1
x = 6

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 4,0
time = 1
add = 100,100,100

[State 2200, 18]
type = ChangeState
triggerall = Var(59) = 0
trigger1 = Time >  50
trigger1 = command != "hold_y"
trigger2 = Time >  150
value = 206

[State 2200, 18]
type = ChangeState
triggerall = Var(59) = 0
trigger1 = Time < 50
trigger1 = Time > 2
trigger1 = command != "hold_y"
value = 206

[State 2200, 18]
type = ChangeState
triggerall = Var(59) = 1
trigger1 = Time > 2
value = 206

[Statedef 206]
type    = A
movetype= A
physics = S
poweradd= 0
juggle  = 35
ctrl = 0
velset = 0,0
anim = 206
sprpriority = 0

[State 1000, 0]
type = AngleSet
trigger1 = Time = 0
value = 0

[State 1000, 0]
type = AngleDraw
trigger1 = 1

[State 1000, 0]
type = Angleadd
trigger1 = 1
value = -40

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.7,0.6

[State 200, 2]
type = PlaySnd
trigger1 = TimeMod = 6,0
value = 0,11
channel = 2

[State 200, 1]
type = HitDef
trigger1 = TimeMod = 6,0
attr = S, NP
damage = 3, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
getpower         = 0, 0
givepower        = 0, 0
pausetime = 1, 1
sparkno = 1
sparkxy = -10, -20
hitsound = -1
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -3, ifelse (P2Dist y >= -18, -2, 2)
airguard.velocity = -3,ifelse (P2Dist y >= -18, -2, 2)
air.type = Low
air.velocity = -3, ifelse (P2Dist y >= -18, -2, 2)
down.velocity = -3, ifelse (P2Dist y >= -18, -2, 2)
guard.velocity = -5
air.hittime = 20
p2facing = ifelse (P2Dist X <= 0, -1, 1)
air.hittime = 12
yaccel  =0.6

[State -2, StopSuckSound]
type = StopSnd
trigger1 = EnemyNear,HitDefAttr = SCA, NP
channel = 3

[State 210, 1]
type = PlaySnd
trigger1 = MoveHit = 1
value = 0, 9
channel = 3

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 0
pausetime = 5,5
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State 1313, 2]
type = VelSet
trigger1 = prevstateno != 207
trigger1 = Time = 6
y = -3

[State 1312, 2]
type = VelAdd
trigger1 = prevstateno = 207
trigger1 = Time = 1
y = -1

[State 30, 6]
type = VelSet
trigger1 = Time < 7
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Time < 7
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Time < 7
trigger1 = Pos Y < -1
y = .2

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = 1

[State 1313, 2]
type = VelSet
trigger1 = MoveHit != 1
trigger1 = movecontact = 1
y = -2


[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -3

[State 1312, 2]
type = VelAdd
trigger1 = Time > 8
y = 0.15

[State 50, MoveFwd]
type = Veladd
trigger1 = MoveReversed = 0
Trigger1 = enemy,stateno != [250,255]
trigger1 = Time >= 0
triggerall = Alive
trigger1 = Command = "holdfwd"
trigger1 = Vel X < 2
X = 1.5

[State 50, MoveBack]
type = Veladd
triggerall = Alive
trigger1 = MoveReversed = 0
Trigger1 = enemy,stateno != [250,255]
trigger1 = Command = "holdback"
trigger1 = Vel X > -2
X = -1.5

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = var(59) = 1
triggerall = p2MoveType != A
trigger1 = p2bodydist X > 10
X = 3

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
triggerall = var(59) = 0
trigger1 = Time > 0
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)

[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
trigger1 = Pos Y >= -10
trigger1 = prevstateno != 600
trigger1 = prevstateno != 601
trigger1 = prevstateno != 602
trigger1 = prevstateno != 640
y = -2

[State 1000, 0]
type = ChangeState
trigger1 = MoveHit
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100






;---------------------------------------------------------------------------
[Statedef 611]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 65
ctrl = 0
anim = 611
sprpriority = 2




[State 700, EnvShake]
type = EnvShake
triggerall = Var(3) = 1
trigger1 = prevstateno = 208
trigger1 = MoveHit = 0
trigger1 = AnimElem = 1
time = 10
freq = 100
ampl = -5
phase = 10



[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0



[State 30, 6]
type = PosAdd
trigger1 = AnimElem = 1
x = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 1000, 2]
type = ReversalDef
trigger1 = Time = 2
trigger1 = prevstateno = 208
reversal.attr = SCA, AA, AP, NA, SA, HA, SP, NP, HP
numhits = 0
pausetime = 11,11
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State 1000, 0]
type = TargetState
triggerall = p2Life < 499
trigger1 = prevstateno = 208
trigger1 = movehit = 1
value = 5450
persistent = 0
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = p2Life < 499
trigger1 = Time = 0
trigger1 = prevstateno = 208
attr = S, HA
damage = 50, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 1, 20
guard.pausetime = 1,10
sparkno = 2
sparkxy = -10, -2 
hitsound = s0, 9
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -2,-7.5
airguard.velocity = -2,-7.5
guard.velocity = -25
air.type = Low
air.velocity = -2,-7.5
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0


[State 200, 1]
type = HitDef
trigger1 = Time = 0
trigger1 = prevstateno = 208
triggerall = p2Life > 499
attr = S, HA
damage = 50, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
guard.pausetime = 1,10
sparkno = 2
sparkxy = -20, -2
hitsound = s0, 9
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -02,-7
airguard.velocity = -2,-7
guard.velocity = -25
air.type = Trip
air.velocity = -2,-7
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0






[State 610, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 133

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;---------------------------------------------------------------------------
[Statedef 283]
type    = A
movetype= A
physics = S
juggle  = 3
poweradd= 65
anim = 283
sprpriority = 2




[State 700, EnvShake]
type = EnvShake
triggerall = Var(3) = 1
trigger1 = prevstateno = 208
trigger1 = MoveHit = 0
trigger1 = AnimElem = 1
time = 10
freq = 100
ampl = -5
phase = 10



[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0



[State 30, 6]
type = PosAdd
trigger1 = AnimElem = 1
x = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0


[State 610, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 133

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
[Statedef 30]
type    = S
movetype= I
physics = S
juggle  = 3
poweradd= 65
ctrl = 1
anim = 2110
sprpriority = 2

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 650]
type    = A
movetype= I
physics = N
poweradd= 65
ctrl = 0
anim = 650
sprpriority = 2

[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = IfElse(Vel X < Const(velocity.jump.fwd.x), Vel X+1.9, Const(velocity.jump.fwd.x))

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = IfElse(Vel X > -Const(velocity.jump.fwd.x), Vel X-1.9, -Const(velocity.jump.fwd.x))

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 1.7, fvar(3), 0)

[State 1520, 1]
type = NotHitBy
trigger1 = Time < 21
value = SCA
time = 1


[State 205, 0]
type = PalFX
trigger1 = Time < 21
trigger1 = TimeMod = 3,0
time = 1
add = 150,150,150

[State 1312, 2]
type = VelAdd
trigger1 = Time > 8
y = 0.4

[State 1000, 0]
type = ChangeState
trigger1 = EnemyNear,HitDefAttr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 250

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50



[Statedef 655]
type    = A
movetype= A
physics = S
juggle  = 3
anim = 655
poweradd= 65
ctrl = 0
velset = 0,0
sprpriority = 10

[State -2,a]
type = Explod
trigger1 = random > 500
anim = 3100
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 8
random = 30,30
removetime = 31
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.06,0.06

[State 290, PosSet]
type = PosAdd
trigger1 = Time > 0
x = ParentDist X

[State 290, PosAdd]
type = PosAdd
trigger1 = Time > 0
y = ParentDist Y-20

[State 7600, AssertSpecial]
type     = AssertSpecial
trigger1 = 1
flag     = Noshadow
ignoreHitPause = 1

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 7134, 3]
type = DestroySelf
trigger1 = Root,Anim != 120
trigger1 = Root,Anim != 130
trigger1 = Root,Anim != 650

;[State 7134, 3]
;type = ChangeState
;trigger1 = Root,Anim != 120
;value = 7381
;trigger1 = Root,Anim = 120





[Statedef 250]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
sprpriority = -10

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3


[State 7040,VelSet]
type = VelSet
trigger1 = Time = 0
trigger1 = vel X > 1
trigger2 = vel X = 0
trigger2 = command = "holdfwd"
persistent = 200
x = 5
y = 0

[State 7040,VelSet]
type = VelSet
trigger1 = vel X = 0
trigger1 = command = "holdback"
persistent = 200
x = -5
y = 0


[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim = 254
value = 250

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim = 253
value = 254

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim = 252
value = 253

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim = 251
value = 252

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim = 250
value = 251

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != 252
trigger1 = Anim != 253
trigger1 = Anim != 254
trigger1 = Anim != 250
trigger1 = Anim != 251
value = 250

[State 1000, 2]
type = ReversalDef
trigger1 = 1
reversal.attr = SA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
numhits = 0
pausetime = 0,0
sparkno = -1
sparkxy = 0,0
hitsound = -1

[State 52, 4]
type = ChangeState
trigger1 = MoveHit = 1
value = 250

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
time = 1
add = 150,150,150

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.5,0.3

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------

[Statedef 600]
type    = A
movetype= A
physics = N
juggle  = 10
poweradd= 20
ctrl = 0
anim = 600
sprpriority = 2


[State 640, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 1
channel = 2

[State 1312, 2]
type = VelAdd
trigger1 = Time > 0
y = 0.2

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = 5

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = -5

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 1.7, fvar(3), 0)

[State 630, 2]
type = HitDef
trigger1 = var(31) = 0
trigger1 = Time = 0
attr = A, NA
damage = 51
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4
pausetime = 10,10
sparkno = 2
sparkxy = 0,-37
hitsound   = s0,92
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -1,-8
airguard.velocity = -1,-8
guard.velocity = -5
air.type = Low
air.velocity = -1,-5
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0



[State 630, 2]
type = HitDef
trigger1 = var(31) = 1
trigger1 = Time = 0
attr = A, NA
damage = 51
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4
pausetime = 1,20
sparkno = 2
sparkxy = 0,-37
hitsound   = s0,92
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -1,-8
airguard.velocity = -1,-8
guard.velocity = -5
air.type = Low
air.velocity = -1,-5
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -10
envshake.freq = 120


[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3601) = 0
Trigger1 =  AnimElem = 8
ID          = 3601
anim = 3105
pos = 0,20
postype = p1
velocity = 9,-20
sprpriority = 3
removetime = 15
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1


[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
trigger1 = Pos Y >= -10
trigger1 = prevstateno != 600
trigger1 = prevstateno != 601
trigger1 = prevstateno != 602
trigger1 = prevstateno != 640
trigger1 = prevstateno != 645
trigger1 = prevstateno != 641
trigger1 = prevstateno != 603
trigger1 = prevstateno != 642
y = -3

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50



;---------------------------------------------------------------------------

[Statedef 640]
type    = A
movetype= A
physics = S
juggle  = 10
ctrl = 0
anim = 640
sprpriority = 2


[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
trigger1 = Pos Y >= -15
trigger1 = prevstateno != 600
trigger1 = prevstateno != 601
trigger1 = prevstateno != 602
trigger1 = prevstateno != 640
trigger1 = prevstateno != 645
trigger1 = prevstateno != 641
trigger1 = prevstateno != 603
trigger1 = prevstateno != 642
y = -5


[State 50, MoveFwd]
type = VelAdd
trigger1 = 1
y = 0.3

[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = 3

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = -3


[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = Time = 3
attr = S, NP
damage = 50, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
pausetime = 10, 10
guard.pausetime = 10,10
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 121
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 10
guard.velocity = -7
ground.velocity = -1,-5
airguard.velocity = -1,-5
air.type = High
air.velocity = -1,-5
air.hittime = 12
yaccel  =0.3
air.fall = 1
air.fall.recover = 0
fall.yvelocity = -7




[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = TimeMod = 10,0
trigger1 = Time >= 10
attr = S, NP
damage = 20, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
pausetime = 1, 1
guard.pausetime = 1,1
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 121
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 1
ground.hittime  = 1
guard.velocity = -7
ground.velocity = -1,-2
airguard.velocity = -1,-5
air.type = High
air.velocity = -1,-5
air.hittime = 12
yaccel  =0.3
fall.yvelocity = -7



[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = TimeMod = 10,0
attr = S, NP
damage = 50, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
pausetime = 1, 10
guard.pausetime = 1,10
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 121
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 10
guard.velocity = -7
ground.velocity = -1,-5
airguard.velocity = -1,-5
air.type = High
air.velocity = -1,-5
air.hittime = 12
yaccel  =0.3
air.fall = 1
air.fall.recover = 0
fall.yvelocity = -7
fall.fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, SA, NP , NA, NT
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State -2, StopSuckSound]
type = StopSnd
trigger1 = EnemyNear,HitDefAttr = SCA, SA, NP , NA, NT
channel = 2


[State 1313, 2]
type = VelSet
trigger1 = p2MoveType != H
trigger1 = MoveHit = 1
trigger2 =  MoveReversed = 1
y = -1


[State 1313, 2]
type = VelSet
trigger1 = MoveHit = 0
trigger1 = movecontact = 1
y = -3

[State 610, 2]
type = PlaySnd
trigger1 = Time > 8
trigger1 = MoveHit = 1
value = 0, 121
channel = 2


[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
x = -8

[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
X = 5


[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F65
pos = 0,0
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 0.6,0.3

[State 640, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 1
channel = 2

[State 1000, 1000]
type = ChangeState
trigger1 = MoveHit
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50
ctrl = 1

[State 1000, 1000]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50
ctrl = 1


;--------------------------------------------------------------------------
[Statedef 2901]
type = A
movetype = H
physics = S
sprpriority = -20

[State 440, 4]
type = DestroySelf
trigger1 = IsHelper = 1
trigger1 = IsHelper (4444) = 0
trigger1 = IsHelper (3000) = 0

[State 1312, 2]
type = Velset
trigger1 = Time = 0
trigger1 = Vel X < -1
x = -10

[State 1312, 2]
type = Velset
trigger1 = Vel X < 1
trigger1 = Vel X > -1
x = 0

[State 1312, 2]
type = Velset
trigger1 = Time = 0
trigger1 = Vel X > 1
x = 10

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 10,0
time = 10
add = 256, 0, 0
mul = 256, 0, 0
sinadd = 250, 0, 0, 10
color = 0
invertall = 1

[State -2,a]
type = Explod
trigger1 = Time < 10
trigger1 = TimeMod = 3,0
anim = F2
pos = 0,-25
postype = p1
sprpriority = -10
Random = 25,25
bindtime = 1
ownpal = 1
supermove = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 1.0,1.0

[State 1312, 2]
type = VelAdd
trigger1 = Time > 0
y = .0


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F100
pos = 0,-25
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 1
supermove = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 0
trigger1 = Vel X < -1
trigger2 = Time = 0
trigger2 = Vel X > 1
anim = 5001
pos = 0,0
postype = P1
Vel = .5,0
Accel = 0,.02
sprpriority = 5
removetime = 155
bindtime = 25
ownpal = 1
supermove = 1
scale = const(Size.xscale),const(Size.yscale)

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0


[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 2902
value = 2902

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0


[State 1320, State]
type = Selfstate
trigger1 = time = 80
trigger2 = time = 0
trigger2 = Vel X < 1
trigger2 = Vel X > -1
value = 5100
ctrl = 0



;--------------------------------------------------------------------------
[Statedef 2905]
type = A
movetype = H
physics = S
sprpriority = -20

[State 440, 4]
type = DestroySelf
trigger1 = IsHelper = 1
trigger1 = IsHelper (4444) = 0
trigger1 = IsHelper (3000) = 0

[State 1312, 2]
type = Velset
trigger1 = Time = 0
trigger1 = Vel X < -1
x = -10

[State 1312, 2]
type = Velset
trigger1 = Vel X < 1
trigger1 = Vel X > -1
x = 0

[State 1312, 2]
type = Velset
trigger1 = Time = 0
trigger1 = Vel X > 1
x = 10


[State 700,]
type = palfx
trigger1 = TimeMod = 10,0
time = 10
add = 150, 0, -100
sinadd = 50, 50, 0, 10
color = 0
invertall = 1

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 190,0
time = 10
add = 256, 0, 0
mul = 256, 0, 0
sinadd = 250, 0, 0, 10
color = 0
invertall = 1

[State -2,a]
type = Explod
trigger1 = Time < 10
trigger1 = TimeMod = 3,0
anim = F2
pos = 0,-25
postype = p1
sprpriority = -10
Random = 25,25
bindtime = 1
ownpal = 1
supermove = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time > 10
trigger1 = TimeMod = 21,0
anim = F2
pos = 0,-25
postype = p1
sprpriority = -10
Random = 25,25
bindtime = 1
ownpal = 1
supermove = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 1.0,1.0


[State 1312, 2]
type = VelAdd
trigger1 = Time > 0
y = .0



[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F100
pos = 0,-25
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 1
supermove = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 1.0,1.0


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F2
pos = 0,-25
postype = p1
sprpriority = 6
bindtime = 1
ownpal = 1
supermove = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = 5001
pos = 0,0
postype = P1
Vel = .5,0
Accel = 0,.02
sprpriority = 5
removetime = 155
bindtime = 25
ownpal = 1
supermove = 1
scale = const(Size.xscale),const(Size.yscale)

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0


[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 2902
value = 2902

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0


[State 1320, State]
type = Selfstate
trigger1 = time = 80
value = 5100
ctrl = 0


;---------------------------------------------------------------------------

[Statedef 660]
type    = A
movetype= A
physics = N
juggle  = 20
ctrl = 0
anim = 660
sprpriority = 2

[State 1000, sombra]
type = AfterImage
Trigger1 = palno = 1
trigger1 = command = "holddown"
trigger1 = AnimElem = 5
trans = add1
PalContrast =  250, 250, 0
PalBright = 250,250,0
time = 5
length  = 5
TimeGap = 1
FrameGap = 1



[State 1000, sombra]
type = AfterImage
Trigger1 = palno = 2
trigger1 = command = "holddown"
trigger1 = AnimElem = 5
trans = add1
PalContrast =  250, 100, 0
PalBright = 250,100,0
time = 5
length  = 5
TimeGap = 1
FrameGap = 1






[State 1000, sombra]
type = AfterImage
Trigger1 = palno = 3
trigger1 = command = "holddown"
trigger1 = AnimElem = 5
trans = add1
PalContrast =  0, 200, 250
PalBright = 0,200,250
time = 5
length  = 5
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
Trigger1 = palno = 4
trigger1 = command = "holddown"
trigger1 = AnimElem = 5
trans = add1
PalContrast =  200, 0, 20
PalBright = 200,0,20
time = 5
length  = 5
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
Trigger1 = palno = 5
trigger1 = command = "holddown"
trigger1 = AnimElem = 5
trans = add1
PalContrast =  100, 0, 200
PalBright = 100,0,200
time = 5
length  = 5
TimeGap = 1
FrameGap = 1

[State 1000, sombra]
type = AfterImage
Trigger1 = palno = 6
trigger1 = command = "holddown"
trigger1 = AnimElem = 5
trans = add1
PalContrast =  0, 100, 250
PalBright = 0,100,250
time = 5
length  = 5
TimeGap = 1
FrameGap = 1


[State 12500, 2]
type = Helper
trigger1 = var(31) = 0
trigger1 = command = "holddown"
trigger1 = AnimElem = 5
helpertype = normal
name = "원구"
pos = 37,-24
postype = P1
facing = 1
stateno = 3711
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0





[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 5
trigger1 = command = "holddown"
value = 0, 11
channel = 2
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 20
channel = 0
volume = 0


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 11
channel = 1
volume = 0


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F60
pos = 0,0
postype = p1
sprpriority = -4
bindtime = 1
ownpal = 1
supermove = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 1.0,1.0

[State 1000, 1000]
type = ChangeState
trigger1 = MoveHit
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50

[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
trigger1 = Pos Y >= -20
trigger1 = prevstateno != 600
trigger1 = prevstateno != 601
trigger1 = prevstateno != 602
trigger1 = prevstateno != 640
trigger1 = prevstateno != 645
trigger1 = prevstateno != 641
trigger1 = prevstateno != 603
trigger1 = prevstateno != 642
y = -3


[State 200, 2]
type = PlaySnd
trigger1 = MoveHit = 1
trigger1 = var(12) = 1
value = F40,IfElse(random < 500, 5, 4)
channel = 7
volume = 250

[State 200, 2]
type = PlaySnd
trigger1 = MoveHit = 1
trigger1 = var(12) = 0
value = F40,1
channel = 7
volume = 50

[State 1000, 1000]
type = ChangeState
trigger1 = animelem = 1, >= 0
trigger1 = animelem = 9, < 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50

[State 1000, 1000]
type = ChangeState
trigger1 = animelem = 9, >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 611






[State 1000, 0]
type = TargetState
trigger1 = command = "holddown"
trigger1 = movehit = 1
value = 2905
persistent = 0
IgnoreHitPause = 1

[State 50, MoveFwd]
type = VelAdd
trigger1 = 1
y = 0.4


[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = 4

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = -4

[State -3]
type = varset
trigger1 = AnimElem = 1
var(12) = 0

[State -3] ;특정캐릭 코드
type = varset
trigger1 = AnimElem = 1
trigger1 = p2Life < 499
var(12) = 1



[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = var(12) = 0
trigger1 = Time = 9
trigger1 = command != "holddown"
attr = S, SA
damage = 100, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
guard.pausetime = 10,10
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 30
ground.hittime  = 30
guard.velocity = -10
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0
fall.yvelocity = -7
fall.fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120

[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = var(12) = 0
trigger1 = Time = 9
trigger1 = command = "holddown"
attr = S, SA
damage = 50, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
guard.pausetime = 10,10
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 30
ground.hittime  = 30
guard.velocity = -10
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0
fall.yvelocity = -7
fall.fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120

[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = var(12) = 1
trigger1 = Time = 9
attr = S, SA
damage = 150, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
guard.pausetime = 10,10
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -10
ground.velocity = -3,-5
airguard.velocity = -3,-5
air.type = Trip
air.velocity = -6,-5
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120



[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = Time = 9
attr = S, SA
damage = 100, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 1, 20
guard.pausetime = 1,20
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 30
ground.hittime  = 30
guard.velocity = -10
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0
fall.yvelocity = -7
fall.fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120


[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3605) = 0
Trigger1 =  AnimElem = 6
ID          = 3605
anim = 3105
pos = 95,-150
postype = p1
velocity = -9,20
sprpriority = 3
removetime = 15
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1


[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
x = -8

[State 1000, 2]
type = ReversalDef
Trigger1 =  AnimElem = 14 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 =  Time < 9 | AnimElem = 14 , >= 0
trigger2 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F65
pos = 0,0
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 0.6,0.3






;---------------------------------------------------------------------------

[Statedef 661]
type    = A
movetype= A
physics = N
juggle  = 10
ctrl = 0
anim = 661
sprpriority = 2



[State 1000, 1000]
type = ChangeState
trigger1 = MoveHit
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50

[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
trigger1 = Pos Y >= -10
trigger1 = prevstateno != 600
trigger1 = prevstateno != 601
trigger1 = prevstateno != 602
trigger1 = prevstateno != 640
trigger1 = prevstateno != 645
trigger1 = prevstateno != 641
trigger1 = prevstateno != 603
trigger1 = prevstateno != 642
y = -3


[State 200, 2]
type = PlaySnd
trigger1 = MoveHit = 1
trigger1 = var(12) = 1
value = F40,IfElse(random < 500, 5, 4)
channel = 7
volume = 250

[State 200, 2]
type = PlaySnd
trigger1 = MoveHit = 1
trigger1 = var(12) = 0
value = F40,1
channel = 7
volume = 50

[State 30, 6]
type = VelSet
trigger1 = Vel Y > 0 && Pos Y >= 0
y = 1

[State 1000, 1000]
type = ChangeState
trigger1 = animelem = 1, >= 0
trigger1 = animelem = 9, < 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

[State 1000, 1000]
type = ChangeState
trigger1 = animelem = 9, >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

[State 50, MoveFwd]
type = VelSet
trigger1 = animelem = 5
y = -2



[State 50, MoveFwd]
type = VelAdd
trigger1 = 1
y = 0.5


[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = 5

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = -5

[State -3]
type = varset
trigger1 = AnimElem = 1
var(12) = 0

[State -3] ;특정캐릭 코드
type = varset
trigger1 = AnimElem = 1
trigger1 = p2Life < 499
var(12) = 1


[State 200, 1]
type = HitDef
trigger1 = var(12) = 0
trigger1 = Time = 9
attr = S, HA
damage = 100, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
guard.pausetime = 1,10
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 21
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 30
ground.hittime  = 30
guard.velocity = -10
ground.velocity = -4,8
airguard.velocity = -2,8
air.type = High
air.velocity = -4,8
air.hittime = 12
yaccel  =0.1
fall = 1
fall.recover = 0
fall.yvelocity = -7
fall.fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -10
envshake.freq = 120

[State 200, 1]
type = HitDef
trigger1 = var(12) = 1
trigger1 = Time = 9
attr = S, HA
damage = 150, 12
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
guard.pausetime = 1,10
sparkno = 2
sparkxy = -30, -20  
hitsound = s0, 21
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -10
ground.velocity = -4,8
airguard.velocity = -4,8
air.type = Trip
air.velocity = -4,8
air.hittime = 12
yaccel  =0.1
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -10
envshake.freq = 120

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
x = -8

[State 1000, 2]
type = ReversalDef
Trigger1 =  AnimElem = 14 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 =  Time < 9 | AnimElem = 14 , >= 0
trigger2 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F65
pos = 0,0
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 0.6,0.3


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 10
value = 0, 8
channel = 0
volume = 0





;---------------------------------------------------------------------------
[Statedef 601]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 65
ctrl = 0
anim = 601
sprpriority = 2

[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
trigger1 = Pos Y >= -10
trigger1 = prevstateno != 600
trigger1 = prevstateno != 601
trigger1 = prevstateno != 602
trigger1 = prevstateno != 640
y = -4

[State 1312, 2]
type = VelAdd
trigger1 = 1
y = 0.2

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = 5

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = -5

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)


[State 630, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1
channel = 2

[State 630, 2]
type = HitDef
trigger1 = p2movetype != H
trigger1 = Time = 6
attr = A, NA
damage = 71
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3
pausetime = 10,10
sparkno = 2
sparkxy = 0,11
hitsound   = s0,121
guardsound = 6, 0 
ground.type = Light
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -3,0
airguard.velocity = -3,0
guard.velocity = -8
air.type = Light
air.velocity = -3,0
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0
fall.xvelocity = -0
fall.yvelocity = -10

[State 630, 2]
type = HitDef
trigger1 = p2movetype = H
trigger1 = Time = 6
attr = A, NA
damage = 75
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3
pausetime = 1,20
sparkno = 2
sparkxy = 0,11
hitsound   = s0,121
guardsound = 6, 0 
ground.type = Light
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -1,-7
airguard.velocity = -1,-7
guard.velocity = -8
air.type = Light
air.velocity = -1,-7
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0
fall.xvelocity = -1
fall.yvelocity = -6


[State -2,a]
type = Explod
trigger1 = AnimElem = 4 , >=0 
anim = 637
pos = 0,0
postype = p1
velocity = 0,0
Random = 3,3
removetime = 3
sprpriority = 4
bindtime = 1
ownpal = 1
supermove = 0
scale = const(Size.xscale),const(Size.yscale)

[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
trigger1 = Pos Y >= -10
trigger1 = prevstateno != 600
trigger1 = prevstateno != 601
trigger1 = prevstateno != 602
trigger1 = prevstateno != 640
trigger1 = prevstateno != 645
trigger1 = prevstateno != 641
trigger1 = prevstateno != 603
trigger1 = prevstateno != 642
y = -3

[State 200, 7]
type = ChangeState
trigger1 = MoveHit = 0
trigger1 = movecontact = 1
value = 50
ctrl = 0

[State 200, 7]
type = ChangeState
trigger1 = MoveHit
trigger1 = Vel Y > -1 && Pos Y >= -1
value = 50
ctrl = 0

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 611



[Statedef 333]
type    = A
movetype= A
physics = S
poweradd= 10
ctrl = 0
velset = 0,0
anim = 333
sprpriority = 0

[State -2,a]
type = Explod
trigger1 = 1
anim = 338
pos = 0,0
postype = p1
sprpriority = 4
Random = 3,3
bindtime = 1
ownpal = 0
supermove = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = const(Size.xscale),const(Size.yscale)

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F100
pos = 10,-20
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 0.5,0.5

[State 1000, 2]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA, AA, AP,NA, SA, HA, SP, NP, HP
numhits = 1
pausetime = 0,5
sparkno = 60
sparkxy = 0,0
hitsound = s0,29

[State 630, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 91
channel = 2
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 20
channel = 0
volume = 0

[State 52, 4]
type = ChangeState
trigger1 = MoveHit = 1
value = 334

[State 1312, 2]
type = VelAdd
trigger1 = 1
y = 0.2

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = 3

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = -3

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 335

[State 1000, 0]
type = ChangeState
trigger1 = command != "hold_x"
trigger1 = Time >= 40
value = 50
ctrl = 1



[Statedef 334]
type    = A
movetype= A
physics = S
poweradd= 10
ctrl = 0
velset = 0,0
anim = 334
sprpriority = 0

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F60
pos = 10,-20
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F100
pos = 10,-20
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 1.0,1.0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 220, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 5, Hit 
pausetime = 1, 1
sparkno = 2
sparkxy = -10, -20   
hitsound = s0, 121
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -2
ground.velocity = -4,-8
airguard.velocity = -4,-8
air.type = Trip
air.velocity = -4,-8
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0
p2stateno = 2901
getpower         = 50, -50
givepower        = -50, 55

[State 200, 1]
type = HitDef
trigger1 = Time = 1
attr = S, NA
damage = 220, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 1, 1
sparkno = 2
sparkxy = -10, -20
hitsound = s0, 121
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -2
ground.velocity = 4,0
airguard.velocity = 4,0
air.type = Low
air.velocity = 4,0
air.hittime = 12
yaccel  =0.4
getpower         = 50, -55
givepower        = -50, 55

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 333

[State 1312, 2]
type = VelAdd
trigger1 = 1
y = 0.2

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = 3

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = -3

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50








[Statedef 335]
type    = S
movetype= A
physics = S
poweradd= 10
ctrl = 0
velset = 0,0
anim = 335
sprpriority = 0


[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3

[State -2,a]
type = Explod
trigger1 = 1
anim = 337
pos = 0,0
postype = p1
sprpriority = 4
Random = 3,3
bindtime = 1
ownpal = 0
supermove = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = const(Size.xscale),const(Size.yscale)

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F100
pos = 10,-20
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 0.5,0.5

[State 1000, 2]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA, AA, AP,NA, SA, HA, SP, NP, HP
numhits = 1
pausetime = 0,5
sparkno = 60
sparkxy = 0,0
hitsound = s0,29

[State 630, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 91
channel = 2
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 20
channel = 0
volume = 0

[State 52, 4]
type = ChangeState
trigger1 = MoveHit = 1
value = 336

[State 1000, 0]
type = ChangeState
trigger1 = command != "hold_x"
trigger1 = Time >= 40
value = 0
ctrl = 1


[Statedef 336]
type    = S
movetype= A
physics = S
poweradd= 10
ctrl = 0
velset = 0,0
anim = 336
sprpriority = 0

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F60
pos = 10,-20
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F100
pos = 10,-20
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 1.0,1.0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 100, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 5, Hit 
pausetime = 1, 1
sparkno = 2
sparkxy = -10, -20   
hitsound = s0, 121
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -2
ground.velocity = -4,-8
airguard.velocity = -4,-8
air.type = Trip
air.velocity = -4,-8
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0
p2stateno = 2901
getpower         = 50, -50
givepower        = -50, 55

[State 200, 1]
type = HitDef
trigger1 = Time = 1
attr = S, NA
damage = 100, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 1, 1
sparkno = 2
sparkxy = -10, -20
hitsound = s0, 121
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -2
ground.velocity = 4,0
airguard.velocity = 4,0
air.type = Low
air.velocity = 4,0
air.hittime = 12
yaccel  =0.4
getpower         = 50, -55
givepower        = -50, 55

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 335






[Statedef 672]
type    = S
movetype= A
physics = S
poweradd= 10
ctrl = 0
velset = 0,0
anim = 672
sprpriority = 0

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 167
channel = 0
volume = 0

[State -2,a]
type = Explod
trigger1 = Time = 15
Trigger1 = MoveHit
anim = F100
pos = 10,-30
postype = p1
sprpriority = 4
bindtime = 1
ownpal = 0
supermove = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 0.5,0.5

[State 1000, 2]
type = ReversalDef
trigger1 = Time > 10
reversal.attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
numhits = 0
pausetime = 0,1
sparkno = -1
sparkxy = 0,0
hitsound = -1

[State 52, 4]
type = ChangeState
trigger1 = MoveHit = 1
value = 671
ctrl = 0

[State 1000, 0]
type = ChangeState
trigger1 = command != "hold_x"
trigger1 = Time >= 10
value = 0
ctrl = 1






[Statedef 3000]
type    = A
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2


[State -2,a]
type = Explod
trigger1 = Time = 0
trigger2 = TimeMod = 45,0
anim = F100
pos = 0,-20
postype = p1
velocity = 0,0
sprpriority = 5
bindtime = 1
ownpal = 1
supermove = 1
scale = 5,5


[State -2,a]
type = Explod
trigger1 = Time = 0
trigger2 = TimeMod = 15,0
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 1
scale = 4.5,1.5


[State -2,a]
type = Explod
trigger1 = Time = 0
trigger2 = TimeMod = 35,0
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 1
scale = 14.5,3.5



[State 0]
type = varSet
trigger1 = Time = 30
var(31) = 1

[State 700, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 10
freq = 200
ampl = -5
phase = 10


[State 2420,5]
type = SuperPause
trigger1 = Time = 0
time = 100
anim = -1
p2defmul = 1
movetime = 100
darken = 0

[State 2000]
type = AssertSpecial
trigger1 = time = [0,100]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 170, 뼰밎]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 100

[State 00];
type = BGPalfx
trigger1 = 1
ignorehitpause = 1
time = 5
mul = 0,0,0
under = 2

[State 3050, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = F20, 0
volume = 200


[State 3050, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 92

[State 3050, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 86

[State 3050, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 86
volume = 0

[State 3050, 1]
type = PlaySnd
trigger1 = Time = 50
value = 0, 78
volume = 0

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = 3001
pos = 0,-20
postype = p1
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = 1
persistent = 0
scale = .35,.35



[State 1313, 2]
type = VelSet
trigger1 = Time > 41
x = 0

[State 3050, 5]
type = ChangeState
trigger1 = Time = 100
value = 50
ctrl = 1





[Statedef 3400]
type    = A
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3400
ctrl = 0
sprpriority = 2


[State 1000, sombra]
type = AfterImage
trigger1 = 1
trans = add
PalContrast =  200, 100, 0
PalBright = 200,100,0
time = 0
length  = 5
TimeGap = 1
FrameGap = 1


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 1
scale = 14.5,3.5



[State 0]
type = varSet
trigger1 = Time = 0
var(31) = 0


[State 3050, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 91

[State 3050, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 82



[State 1313, 2]
type = VelSet
trigger1 = Time > 41
x = 0

[State 3050, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1





















[Statedef 250]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
sprpriority = -10

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3

[State 7040,VelSet]
type = VelSet
trigger1 = Time = 0
trigger1 = vel X > 1
trigger2 = vel X = 0
trigger2 = command = "holdfwd"
persistent = 200
x = 5
y = 0

[State 7040,VelSet]
type = VelSet
trigger1 = vel X = 0
trigger1 = command = "holdback"
persistent = 200
x = -5
y = 0

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim = 254
value = 250

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim = 253
value = 254

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim = 252
value = 253

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim = 251
value = 252

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim = 250
value = 251

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != 252
trigger1 = Anim != 253
trigger1 = Anim != 254
trigger1 = Anim != 250
trigger1 = Anim != 251
value = 250

[State 1000, 2]
type = ReversalDef
trigger1 = 1
reversal.attr = SA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
numhits = 0
pausetime = 0,0
sparkno = -1
sparkxy = 0,0
hitsound = -1

[State 52, 4]
type = ChangeState
trigger1 = MoveHit = 1
value = 250

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
time = 1
add = 150,150,150

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.5,0.3

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-----------------------------------------------------------------------
[Statedef 900]
type = S
movetype = A
physics = N
anim = 900
velset = 0,0
sprpriority = 0
ctrl = 0

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
time = 1
add = 250,250,250



[State 2601, HitDef]
type = HitDef
trigger1 = 1
attr = S, HA
animtype = DiagUp
damage = 0,0
getpower = 0
givepower = 0
hitflag =  MAFLD
guardflag =  MAFLD
pausetime = 0,0
sparkno = -1
sparkxy = 0,0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 60
ground.hittime = 60
ground.velocity = ifelse (P2Dist X <= 0, 12, -12),-5
air.velocity = ifelse (P2Dist X <= 0, 12, -12),-5
airguard.velocity = ifelse (P2Dist X <= 0, 12, -12),-5

[State 192, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,57
channel = 3

[State 3210, 3]
type = lifeadd
trigger1 = Time = 0
value = 80

[State 3210, 3]
type = poweradd
trigger1 = prevstateno != 230
trigger1 = Time = 0
value = -1000

[State 192, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,77
channel = 0


[State 0]
type = varadd
trigger1 = prevstateno = 230
trigger1 = Time = 0
var(51) = 1

[State 0]
type = varadd
trigger1 = Time = 0
var(51) = 1

[State 300, Explod]
type = Explod
trigger1 = AnimElem = 3
sprpriority = 4
pos = 0, -30
postype = P1
anim = F100
Scale = 1,1

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 5777]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 105
sprpriority = 2

[State 1520, 1]
type = NotHitBy
trigger1 = Time > 1
value = SCA
time = 1

[State -2,10]
type = Explod
trigger1 = Roundstate = 2
trigger1 = 1
anim = F305
postype = P1
pos = 0,-45
removetime = 1
sprpriority = 3
ownpal = 1
scale = 1.0,1.0
facing = IfElse(Facing = 1, 1, -1)
IgnoreHitPause = 1

[State 3000, 0]
type = Palfx
trigger1 = 1
time = 1
mul = 155, 155, 155

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = -5

[State 1312, 2]
type = VelAdd
trigger1 = Time > 8
y = 0.5

[State 50, MoveFwd]
type = VelSet
triggerall = Alive
triggerall = var(59) = 0
trigger1 = Command = "holdfwd"
X = 2

[State 50, MoveBack]
type = VelSet
triggerall = Alive
triggerall = var(59) = 0
trigger1 = Command = "holdback"
X = -2

[State 50, MoveFwd]
type = VelSet
triggerall = var(59) = 1
trigger1 = p2bodydist X <= 0
X = 2

[State 50, MoveBack]
type = VelSet
triggerall = var(59) = 1
trigger1 = p2bodydist X > 0
X = -2

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
triggerall = var(59) = 0
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5150

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3





[State 195, 1]
type = CtrlSet
trigger1 = prevstateno = 1512
value = 0

[State 5150, 12]
type = ChangeAnim
;triggerall = Name = "ganondorf"
trigger1 = prevstateno = 1512
Trigger1 = Anim != 3519
trigger1 = Life = 0
value = 0



;[State 1520, 1]
;type = NotHitBy
;trigger1 = prevstateno = 1512
;value = SCA
;time = -1

;[State 3210, 3]
;type = lifeSet
;trigger1 = prevstateno = 1512
;value = 0


[State 1000, 0]
type = ChangeState
trigger1 = prevstateno = 1512
trigger1 = Time = 10
value = 50

[State 5150, 12]
type = ChangeAnim
trigger1 = prevstateno = 3500
Trigger1 = Anim != 3519
trigger1 = Life = 0
value = 3519

[State 1313, 1]
type = PosSet
triggerall = prevstateno = 5777
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
triggerall = prevstateno = 5777
trigger1 = Time = 0
x = 0
y = 0

[State 5150, 12]
type = ChangeAnim
triggerall = prevstateno = 5777
triggerall = Anim != 5152
triggerall = Anim != 5153
triggerall = Anim != 5154
Triggerall = Anim != 3519
Trigger1 = Anim != 5151
trigger1 = Anim != 5155
trigger1 = Life != 0
value = 5152

[State 5150, 12]
type = ChangeState
triggerall = prevstateno = 5777
Triggerall = Anim != 3519
trigger1 = Partner,StateNo = 5777
trigger1 = Life != 0
trigger1 = NumPartner = 1
trigger2 = partner, life = 0
trigger2 = NumPartner = 1
value = 50

[State 5150, 12]
type = ChangeState
triggerall = prevstateno = 5777
Triggerall = Anim != 3519
triggerall = var(59) != 1
trigger1 = command = "c"
trigger1 = Life != 0
value = 195

[State 3210, 3]
type = lifeadd
triggerall = prevstateno = 5777
Triggerall = Anim != 3519
triggerall = Life != 0
trigger1 = TimeMod = 10,0
value = 1

[State -2,10]
type = Explod
trigger1 = prevstateno = 5777
anim = F305
postype = P1
pos = 0,-45
removetime = 1
sprpriority = 3
ownpal = 1
scale = 1.0,1.0
facing = IfElse(Facing = 1, 1, -1)
IgnoreHitPause = 1

[State 3000, 0]
type = Palfx
trigger1 = prevstateno = 5777
time = 1
mul = 155, 155, 155

[State -2,10]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Life = 0
anim = F305
postype = P1
pos = 0,-45
removetime = 1
sprpriority = 3
ownpal = 1
scale = 1.0,1.0
facing = IfElse(Facing = 1, 1, -1)
IgnoreHitPause = 1

[State 3000, 0]
type = Palfx
Trigger1 = Anim = 5152
time = 1
mul = 155, 155, 155

[State 3000, 0]
type = Palfx
Trigger1 = Anim = 5152
time = 1
mul = 155, 155, 155

[State 174, ChangeState]
type = ChangeAnim
triggerall = Anim != 5155
triggerall = partner, life != 0
Triggerall = Anim != 3519
Trigger1 = Anim = 5151
trigger1 = NumPartner = 1
trigger1 = Time > 504
value = 5155

[State 5150, 12]
type = ChangeAnim
triggerall = prevstateno != 1512
Trigger1 = Anim != 5151
trigger1 = Anim != 5155
triggerall = Anim != 5152
Triggerall = Anim != 3519
triggerall = Anim != 5153
triggerall = Anim != 5154
trigger1 = Life <= 0
value = 5151

[State 5150, 13]
type = ChangeAnim
triggerall = prevstateno != 1512
Trigger1 = Anim = 5155
Trigger2 = Anim = 5154
Trigger3 = Anim = 5152
triggerall = Anim != 5153
Triggerall = Anim != 3519
triggerall = partner, life = 0
value = 5153

[State 174, ChangeState]
type = ChangeAnim
Trigger1 = Anim = 5154
trigger1 = AnimTime = 0
value = 5155

[State 174, ChangeState]
type = ChangeAnim
Trigger1 = Anim = 5154
trigger1 = AnimTime = 0
value = 5155

[State 174, ChangeState]
type = ChangeAnim
triggerall = Anim != 5155
triggerall = partner, life != 0
Trigger1 = Anim = 5151
trigger1 = NumPartner = 1
trigger1 = Time > 504
value = 5155

[State 174, ChangeState]
type = ChangeAnim
Trigger1 = Anim = 5152
triggerall = Anim != 5155
trigger1 = P2Dist X < 70
trigger1 = P2Dist X > -70
value = 5155

[State 174, ChangeState]
type = ChangeAnim
triggerall = Anim = 5155
triggerall = Anim != 5152
trigger1 = P2Dist X > 150
trigger2 = P2Dist X < -150
value = 5152

[State 300, 2]
type = Turn
Trigger1 = Anim = 5155
trigger1 = P2Dist X < 0

[State 300, 2]
type = Turn
Trigger1 = Anim = 5152
trigger1 = P2Dist X < 0

[State 20, 1]
type = VelSet
Trigger1 = Anim = 5152
x = 2.1

[State -2,a]
type = Explod
Trigger1 = Anim = 5152
trigger1 = random < 400
anim = 1106
pos = 0,0
postype = p1
vel = 1,-0.2
accel = -0.2,-0.02
sprpriority = 8
random = 30,0
removetime = 20
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.3,0.3

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = PrevStateNo != 5950
triggerall = prevstateno != 1512
triggerall = PrevStateNo != 3500
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = PrevStateNo != 5950
triggerall = prevstateno != 1512
triggerall = PrevStateNo != 3500
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
;trigger1 = Time = 0
triggerall = prevstateno != 1512
triggerall = PrevStateNo != 5950
triggerall = PrevStateNo != 3500
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
triggerall = PrevStateNo != 5950
triggerall = prevstateno != 1512
triggerall = PrevStateNo != 3500
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel x < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1




;---------------------------------------------------------------------------
; 라운드포즈결정
[Statedef 5900]
type = S

[State -3]
type = varset
triggerall = power >= 0
trigger1 = var(43) = 0
var(43) = 1

[State 180,]
type = VarRandom
trigger1 = 1
v = 21
range = 0,2

[State 180,]
type = ChangeState
trigger1 = var(21) = 0
trigger1 = roundno >= 2
value = 177

[State 180,]
type = ChangeState
trigger1 = var(21) = 1
trigger1 = roundno >= 2
value = 176

[State 5900, 1]
type = VarRangeSet
trigger1 = roundno = 1
first = 0
last = 16
value = 0

[State 5900, 1]
type = VarRangeSet
trigger1 = roundno = 1
first = 18
last = 50
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundno = 1
fvalue = 0

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 190

;---------------------------------------------------------------------------
;라운드2시작
[Statedef 177]
type = S
ctrl = 0
anim = 177
velset = 0,0



[State 174, 2]
type = PlaySnd
triggerall = EnemyNear,Name = "Hanzo"
trigger1 = AnimElem = 1,1
value = 0,85


[State 174, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,60]
flag = Intro

[State 174, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;라운드2시작
[Statedef 176]
type = S
ctrl = 0
anim = 176
velset = 0,0


[State 174, 2]
type = PlaySnd
triggerall = EnemyNear,Name != "Hanzo"
trigger1 = AnimElem = 4
value = 0,83


[State 174, 2]
type = PlaySnd
triggerall = EnemyNear,Name = "Hanzo"
trigger1 = AnimElem = 4
value = 0,85


[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 0,91

[State 174, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,100]
flag = Intro

[State 174, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;잡기1
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 25
anim = 800
ctrl = 0

[State 1005, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 0,8
channel = 0
volume = 0

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 240, 2]
type = HitDef
Trigger1 = Time = 0
attr = S, NT
animtype  = Medium
damage    = 10
hitflag = MAFLD
priority = 1, Miss
guardflag = 
pausetime = 1,1
sparkno = 0
sparkxy = -10,-15
hitsound   = S0,10
guardsound = 6,0
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -0,-2
guard.velocity = 0
air.velocity = -0,-2.5
numhits = 0
kill = 0
p2facing = 1

[State 1000, 0]
type = TargetState
trigger1 = movehit = 1
value = 810
persistent = 1
IgnoreHitPause = 1

[State 400, State]
type = ChangeState
trigger1 = Target, StateNo != 810
trigger1 = movehit = 1
value = 0
ctrl = 1


[State -2,a]
type = Explod
trigger1 = animelem = 1
anim = F60
pos = 0,0
postype = p1
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.8,0.5

[State 2533, ChangeState]
type = ChangeState
triggerall = p2movetype = H
trigger1 = MoveHit
value = 801

[State 800, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 801]
type = S
movetype = A
physics = N
anim = 801
sprpriority = 0
ctrl = 0

[State -2,a]
type = Explod
trigger1 = animelem = 1
anim = F60
pos = 0,0
postype = p1
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.8,0.5

[State 7040,VelSet]
type = Veladd
trigger1 = AnimElem = 1
x = 1
y = 0

[State 5150, 6] ;Friction
type = Veladd
trigger1 = Vel X > 0
x = -0.2

[State 5150, 6] ;Friction
type = Veladd
trigger1 = Vel X < 0
x = 0.2


[State -2,a]
type = Explod
trigger1 = Vel X < -.5
trigger1 = TimeMod = 5,0
anim = F636
pos = -5+random%15,0
postype = p1
Vel = 0+random%3,-0-random%5
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.5,0.5

[State -2,a]
type = Explod
trigger1 = Vel X > .5
trigger1 = TimeMod = 5,0
anim = F636
pos = -5+random%15,0
postype = p1
Vel = 0-random%3,-0-random%5
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.5,0.5

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 800, TargetState]
type = TargetState
trigger1 = NumTarget > 0
trigger1 = Time <= 0
value = 810

[State 800, 0]
type = TargetBind
trigger1 = Target, StateNo = 810
pos = 11, 0

[State 400, State]
type = ChangeState
trigger1 = Target, StateNo != 810
value = 5100

[State 800, State]
type = ChangeState
triggerall = var(59) = 0
trigger1 = Time > 5
trigger1 = Command = "holdfwd"
value = 803

[State 800, State]
type = ChangeState
triggerall = var(59) = 0
trigger1 = Time > 5
trigger1 = Command = "holdup"
value = 802

[State 800, State]
type = ChangeState
triggerall = var(59) = 0
trigger1 = Time > 5
trigger1 = Command = "holdback"
value = 805

[State 800, State]
type = ChangeState
triggerall = var(59) = 0
trigger1 = Time > 5
trigger1 = Command = "holddown"
value = 804

[State 800, State]
type = ChangeState
triggerall = var(59) = 1
trigger1 = random < 25
trigger1 = Time > 5
value = 805

[State 800, State]
type = ChangeState
triggerall = var(59) = 1
trigger1 = random < 50
trigger1 = Time > 5
value = 802

[State 800, State]
type = ChangeState
triggerall = var(59) = 1
trigger1 = random < 75
trigger1 = Time > 5
value = 804

[State 800, State]
type = ChangeState
triggerall = var(59) = 1
trigger1 = random < 100
trigger1 = Time > 5
value = 803

[State 800, State]
type = ChangeState
trigger1 = Time > 100
value = 0
ctrl = 1

;------   ------
[Statedef 802]
type = A
movetype= A
physics = S
anim = 802
sprpriority = 1

[State 1005, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 0,8
channel = 0
volume = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 100, 20
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = -12, -20
hitsound = s0, 121
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -5
ground.velocity = -0,-7
airguard.velocity = -0,-7
air.type = Trip
air.velocity = -0,-7
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
value = 3

[State 1360, Bind2]
type = TargetBind
trigger1 = animelem = 1
pos = 20,-5

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,0.7

[State 2210, 19]
type = targetstate
trigger1 = animelem = 1
value = 810

[State 905, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1










;------   ------
[Statedef 803]
type = A
movetype= A
physics = S
anim = 803
sprpriority = 1


[State 2210, 19]
type = targetstate
trigger1 = animelem = 2
value = 810

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 1
pos = 11,0

[State 200, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
damage = 122, 20
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = -10,-30
hitsound = s0, 121
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -1
ground.velocity = 0,-3
airguard.velocity = 0,-3
air.type = Trip
air.velocity = 0,-3
air.hittime = 12
yaccel  =0.2
fall = 1
fall.recover = 0



[State 7040,VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 12
y = 0


[State 1360, Turn]
type = Turn
trigger1 = AnimElem = 5

[State 1005, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 0,11
channel = 2

[State 905, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1







;------   ------
[Statedef 805]
type = A
movetype= A
physics = S
anim = 805
sprpriority = 1


[State 2210, 19]
type = targetstate
trigger1 = animelem = 1
value = 813


[State 2210, 19]
type = targetstate
trigger1 = animelem = 7
value = 810


[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 1
value = 7

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 4
value = -3

[State 1360, Bind2]
type = TargetBind
trigger1 = animelem = 1, >= 0
trigger1 = animelem = 4, < 0
pos = 5,-21

[State 1360, Bind2]
type = TargetBind
trigger1 = animelem = 4, >= 0
trigger1 = animelem = 7, < 0
pos = 7,-21


[State 1360, Bind2]
type = TargetBind
trigger1 = animelem = 7
pos = 20,-13


[State 1360, Turn]
type = Turn
trigger1 = AnimElem = 1
;trigger1 = AnimTime = 0



[State 7040,VelSet]
type = VelSet
trigger1 = AnimElem = 1
x = 11
y = 0

[State 1005, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 0,8
volume = 0

[State -2,a]
type = Explod
trigger1 = AnimElem = 5
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.6,0.4





[State 200, 1]
type = HitDef
trigger1 = Time = 10
attr = S, NA
damage = 130, 20
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 1, 10
sparkno = 2
sparkxy = 0, -20
hitsound = s0, 10
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -5
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = Trip
air.velocity = -4,-2
air.hittime = 12
yaccel  =0.2
fall = 1
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 130, 20
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = 0, -20
hitsound = s0, 10
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -5
ground.velocity = -4,-3
airguard.velocity = -4,-3
air.type = Trip
air.velocity = -4,-3
air.hittime = 12
yaccel  =0.3
fall = 1
fall.recover = 0

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F65
pos = 35,1
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.7,0.4

;[State 1420, Damage2]
;type = TargetLifeAdd
;trigger1 = animelem = 6
;value = -150

[State 905, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1










;------   ------
[Statedef 804]
type = S
movetype= A
physics = S
anim = 804
sprpriority = 1

[State 1000, 2]
type = Width
trigger1 = animelem = 4,>=0
value = 0,0

[State 2210, 19]
type = targetstate
trigger1 = animelem = 4,<0
value = 810

[State 1360, Bind2]
type = TargetBind
trigger1 = animelem = 4
pos = 30,0

[State 1360, Bind2]
type = TargetBind
trigger1 = animelem = 1
pos = 30,0

[State 1005, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0,29
channel = 0
volume = 0

[State 1005, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0,28
channel = 2
volume = 0

[State -2,a]
type = Explod
trigger1 = AnimElem = 4
anim = F65
pos = 35,1
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.8,0.6

[State -2,a]
type = Explod
trigger1 = AnimElem = 4
anim = 807
pos = 30,-25
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.5,1.5

[State 183, 3]
type = EnvShake
trigger1 = animelem = 4
ignorehitpause = 1
freq = 170
ampl = 7
phase = 170
time = 10

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 130, 20
animtype = Light
hitflag = MAFLD
guardflag = 
priority = 3, Hit 
pausetime = 1, 1
sparkno = -1
sparkxy = -15, -30  
hitsound = -1
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = 0,-500
airguard.velocity = 0,-500
air.type = Trip
air.velocity = 0,-500
air.hittime = 12
yaccel  =10.0
fall = 1
fall.recover = 0

[State 905, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1





[Statedef 805]
type    = A
movetype= A
physics = N
poweradd= 50
ctrl = 0
velset = 0,0
anim = 805
sprpriority = 2


[State -2,a]
type = Explod
trigger1 = animelem = 6
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.7,0.5



[State 2210, 19]
type = targetstate
trigger1 = animelem = 1
value = 813



[State 2210, 19]
type = targetstate
trigger1 = animelem = 6
value = 811

[State 1360, Bind2]
type = TargetBind
trigger1 = animelem = 1, >= 0
trigger1 = animelem = 2, < 0
pos = 6,-21

[State 1360, Bind2]
type = TargetBind
trigger1 = animelem = 2, >= 0
trigger1 = animelem = 3, < 0
pos = 1,-28

[State 1360, Bind2]
type = TargetBind
trigger1 = animelem = 3, >= 0
trigger1 = animelem = 4, < 0
pos = 6,-38


[State 1360, Bind2]
type = TargetBind
trigger1 = animelem = 4, >= 0
trigger1 = animelem = 5, < 0
pos = 3,-25


[State 1360, Bind2]
type = TargetBind
trigger1 = animelem = 5, >= 0
trigger1 = animelem = 6, < 0
pos = -1,-22


[State 1360, Bind2]
type = TargetBind
trigger1 = animelem = 6
pos = -15,0

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 1
value = 3

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 220, 20
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 1, 1
sparkno = 2
sparkxy = -15, 0 
hitsound = s0, 29
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -6
ground.velocity = 5,-7
airguard.velocity = 5,-7
air.type = Trip
air.velocity = 5,-7
air.hittime = 12
yaccel  =0.7
fall = 1
fall.recover = 0

[State 905, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 850]
type    = A
movetype= A
physics = N
juggle  = 20
;velset = 0,0
ctrl = 0
anim = 808
poweradd = -1
sprpriority = 2

[State 200, 1]
type = HitDef
trigger1 = TimeMod = 10,0
attr = S, NA
damage = 10, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 1, Hit 
pausetime = 1, 1
sparkno = 0
sparkxy = -10, -20
hitsound = s0, 38
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -8,-8.7
airguard.velocity = -8,-8.7
guard.velocity = -10
air.type = High
air.velocity = -8,-8.1
air.hittime = 12
fall = 1
fall.recover = 0

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F60
pos = 0,-22
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 10
ownpal = 1
supermove = 0
scale = 0.7,0.5

[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = animelem = 1
y = -1

[State 640, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0, 37
channel = 0
volume = 0

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 8
channel = 2
volume = 0

[State 30, 6]
type = VelAdd
trigger1 = Time >= 0
trigger1 = Pos Y < 0
y = .3

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.6,0.3

[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
trigger1 = Pos Y >= -10
trigger1 = prevstateno != 600
trigger1 = prevstateno != 601
trigger1 = prevstateno != 602
trigger1 = prevstateno != 640
trigger1 = prevstateno != 645
trigger1 = prevstateno != 641
trigger1 = prevstateno != 603
trigger1 = prevstateno != 642
y = -3

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = 4

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = -4

[State 1000, 0]
type = TargetState
trigger1 = movehit = 1
value = 852
persistent = 1
IgnoreHitPause = 1

[State 2533, ChangeState]
type = ChangeState
triggerall = p2movetype = H
trigger1 = MoveHit
value = 851

[State 200, 7]
type = ChangeState
trigger1 = Pos Y > 0
value = 5100
ctrl = 0



















[Statedef 851]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 850
poweradd = 30
sprpriority = 2



;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = 4

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = -4

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 1.7, fvar(3), 0)

[State 200, 1]
type = HitDef
trigger1 = TimeMod = 10,0
attr = S, NA
damage = 10, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 1, Hit 
pausetime = 1, 1
sparkno = 0
sparkxy = -10, -20
hitsound = s0, 21
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -8,-8.7
airguard.velocity = -8,-8.7
guard.velocity = -10
air.type = High
air.velocity = -8,-8.1
air.hittime = 12
fall = 1
fall.recover = 0

[State 30, 6]
type = VelAdd
trigger1 = Time >= 11
y = .3

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 1, >= 0
pos = 0,0

[State 2210, 19]
type = targetstate
trigger1 = TimeMod = 10,0
value = 855

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F1
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State 2210, 19]
type = targetstate
trigger1 = animelem = 1
value = 852

[State 30, 6]
type = VelSet
trigger1 = Time >= 40
x = 8

[State 300, 2]
type = Turn
trigger1 = Time >= 80
trigger1 = TimeMod = 40,0

[State 200, 7]
type = ChangeState
trigger1 = Pos Y > 0
value = 5100
ctrl = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .2

;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 852]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 851
value = 851

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 35
value = 5100
ctrl = 0

;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 853]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 30, 6]
type = PlaySnd
trigger1 = Time = 0
value = 11, 0
channel = 0
volume = 0

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 853
value = 853

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 35
value = 5100
ctrl = 0

;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 855]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State -2,a]
type = Explod
trigger1 = TimeMod = 10,0
anim = F65
pos =  0,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.7,0.5

[State 1520, 1]
type = NotHitBy
Trigger1 =  1
value = SCA
time = 1

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 855
value = 855

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .2

[State 1320, State]
type = Selfstate
trigger1 = time = 10
trigger2 = Pos Y > 0
value = 5100
ctrl = 0

;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 810]
type = S
movetype = H
physics = N
velset = 0,0
sprpriority = -3

[State 0, Die when win]
type = SelfState
trigger1 = Command = "z"
value = 105

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 810
value = 810

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 100
value = 50
ctrl = 0

;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 819]
type = S
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 0, Die when win]
type = SelfState
trigger1 = Command = "z"
value = 105

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 819
value = 819

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 31
value = 50
ctrl = 0

;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 811]
type = S
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 0, Die when win]
type = SelfState
trigger1 = Command = "z"
value = 105

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 811
value = 811

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 40
value = 5100
ctrl = 0

;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 820]
type = S
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 0, Die when win]
type = SelfState
trigger1 = Command = "z"
value = 105

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 820
value = 820

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 15
value = 50
ctrl = 1


;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 821]
type = S
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 0, Die when win]
type = SelfState
trigger1 = Command = "z"
value = 105

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 821
value = 821

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 15
value = 50
ctrl = 1


;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 817]
type = S
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 0, Die when win]
type = SelfState
trigger1 = Command = "z"
value = 105

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 817
value = 817

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 30
value = 5100
ctrl = 0


;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 818]
type = S
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 0, Die when win]
type = SelfState
trigger1 = Command = "z"
value = 105

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 818
value = 818

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 30
value = 5100
ctrl = 0

;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 815]
type = S
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 0, Die when win]
type = SelfState
trigger1 = Command = "z"
value = 105

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 815
value = 815

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 20
value = 5100
ctrl = 0


;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 813]
type = S
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 813
value = 813

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Die when win]
type = SelfState
trigger1 = Command = "z"
value = 105

[State 1320, State]
type = Selfstate
trigger1 = time = 40
value = 5100
ctrl = 0

[Statedef 816]
type = A
movetype = H
physics = N
velset = 0

[State 210, 3]
type = PosAdd
trigger1 = time = 0
y = 17

[State 1370, Anim]
type = ChangeAnim
trigger1 = time = 0
value = 5160

[State 1420, Velocity]
type = VelSet
trigger1 = time = 0
y = -6
x = 5

[State 1525, 4]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 1370, Sprite2]
type = SprPriority
trigger1 = 1
value = 1

[State 1320, State]
type = Selfstate
trigger1 = time = 100
value = 50
ctrl = 0

[State 0, Die when win]
type = SelfState
trigger1 = Command = "z"
value = 105

[State 1420, State]
type = SelfState
trigger1 = Pos Y >= 10 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 646]
type    = A
movetype= A
physics = N
juggle  = 20
;velset = 0,0
ctrl = 0
anim = 646
poweradd = 30
sprpriority = 2


[State 300, 2]
type = Turn
trigger1 = AnimElem = 1


[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
triggerall = p2Life > 499
trigger1 = Time = 2
attr = S, NA
damage = 110, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = 10, -25  
hitsound = s0, 121
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -2,-5.7
airguard.velocity = -2,-5.7
guard.velocity = 15
air.type = High
air.velocity = -2,-5.1
air.hittime = 12
fall.recover = 0
fall = 1
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
triggerall = p2Life <= 499
trigger1 = command = "hold_x"
trigger1 = Time = 2
attr = S, NA
damage = 160, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = 10, -25  
hitsound = s0, 121
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -2,-10.7
airguard.velocity = -2,-10.7
guard.velocity = 15
air.type = High
air.velocity = -2,-10.1
air.hittime = 12
fall = 1
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
triggerall = p2Life <= 499
trigger1 = command != "hold_x"
trigger1 = Time = 2
attr = S, NA
damage = 160, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 10, 10
sparkno = 2
sparkxy = 10, -25 
hitsound = s0, 121
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -2,-5.7
airguard.velocity = -2,-5.7
guard.velocity = 15
air.type = High
air.velocity = -2,-5.1
air.hittime = 12
fall = 1
fall.recover = 0


[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = Time = 2
attr = S, NA
damage = 100, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 5, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -10, -15
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -22
ground.velocity = 0,-7
airguard.velocity = -2,-4
air.type = Trip
air.velocity = -2,-4
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0
getpower         = 50, -50
givepower        = -50, 55
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120








[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = 3

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = -3

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = -1 && Facing = -1 || enemy,Facing = 1 && Facing = 1
Trigger1 =  Time < 2
trigger2 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT,HA
reversal.attr = SCA, SA, NP , NA, NT,HA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = animelem = 1
y = 0

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 11
channel = 2
volume = 0

[State 30, 6]
type = VelAdd
trigger1 = Time >= 0
trigger1 = Pos Y < 0
y = .2

[State 50, MoveFwd]
type = VelSet
trigger1 = AnimElem = 1
trigger1 = Pos Y >= -10
trigger1 = prevstateno != 600
trigger1 = prevstateno != 601
trigger1 = prevstateno != 602
trigger1 = prevstateno != 640
trigger1 = prevstateno != 645
trigger1 = prevstateno != 641
trigger1 = prevstateno != 603
trigger1 = prevstateno != 642
y = -2



[State 12500, 2]
type = Helper
trigger1 = numhelper(304) <= 0
trigger1 = MoveHit = 1
trigger1 = var(31) = 1
helpertype = normal
name = "류"
ID = 304
pos = 10,-10
postype = P1
facing = 1
stateno = 3710
ownpal = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
Size.XScale = 1.0
Size.YScale = 1.0
IgnoreHitPause = 1



[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3106) = 0
Trigger1 =  AnimElem = 1
ID          = 3105
anim = 3107
pos = -40,52
postype = p1
velocity = 20,-10
sprpriority = 3
removetime = 15
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1

[State 1000, 0]
type = ChangeState
trigger1 = movecontact | MoveReversed 
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50

[State 200, 7]
type = ChangeState
trigger1 = Pos Y > 0
value = 611
ctrl = 0








;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]


[State -2,a]
type = Explod
triggerall = movetype != H
trigger1 = Time = 1
trigger1 = numExplod(31) <= 0
ID = 31
anim = F60
pos = 0,0
postype = p1
sprpriority = -15
bindtime = 1
ownpal = 1
supermove = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
scale = 1.0,1.0

[State 1000, sombra]
type = AfterImage
trigger1 = var(31) = 1
trigger1 = power <= 1
trans = add
PalContrast =  200, 100, 0
PalBright = 200,100,0
time = 0
length  = 5
TimeGap = 1
FrameGap = 1

[State 0]
type = varSet
trigger1 = var(31) = 1
trigger1 = power <= 1
trigger2 = Life = 0
var(31) = 0

[State 3210, 3]
type = poweradd
trigger1 = anim != 1300
trigger1 = var(31) = 1
trigger1 = power >= 0
value = -7


[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3001) = 0
TriggerAll = Time = 1
ID          = 3001
anim = f60
pos = 0,0
postype = p1
sprpriority = 10
bindtime = -1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.5,0.7
ontop = 1
removeongethit = 1

[State 1000, sombra]
type = AfterImage
trigger1 = var(31) = 1
trigger1 = Time = 1
TriggerAll = palno = 1
trans = add1
PalContrast =  250, 190, 13
PalBright = 250,190,13
time = 50
length  = 10
TimeGap = 1
FrameGap = 1




[State 1000, sombra]
type = AfterImage
trigger1 = var(31) = 1
trigger1 = Time = 1
TriggerAll = palno = 2
trans = add1
PalContrast =  250, 120, 13
PalBright = 250,120,13
time = 50
length  = 10
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
trigger1 = var(31) = 1
trigger1 = Time = 1
TriggerAll = palno = 3
trans = add1
PalContrast =  0, 200, 200
PalBright = 0,200,200
time = 50
length  = 10
TimeGap = 1
FrameGap = 1



[State 1000, sombra]
type = AfterImage
trigger1 = var(31) = 1
trigger1 = Time = 1
TriggerAll = palno = 4
trans = add1
PalContrast =  150, 10, 13
PalBright = 150,10,13
time = 50
length  = 10
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
trigger1 = var(31) = 1
trigger1 = Time = 1
TriggerAll = palno = 5
trans = add1
PalContrast =  200, 10, 10
PalBright = 200,10,10
time = 50
length  = 10
TimeGap = 1
FrameGap = 1


[State 1000, sombra]
type = AfterImage
trigger1 = var(31) = 1
trigger1 = Time = 1
TriggerAll = palno = 6
trans = add1
PalContrast =  10, 200, 200
PalBright = 10,200,200
time = 50
length  = 10
TimeGap = 1
FrameGap = 1




[State 100, 3]
type = Selfstate
triggerall = movetype != H
triggerall = movetype != A
triggerall = statetype = A
triggerall = command = "holdfwd"
triggerall = command = "holdup"
Triggerall = StateNo != 107
trigger1 =  facing = -1
trigger1 = FrontEdgeBodyDist < 10
trigger2 =  facing = 1
trigger2 = FrontEdgeBodyDist < 10
;trigger2 = BackEdgeBodyDist < 10
value = 107
ctrl = 0


[State -2]
Type = PlaySnd
triggerall = random < 800
TriggerAll = Time = 1
triggerall = Life > 0
Trigger1 = StateNo = 5070
Trigger1 = Anim = 5070
Value = s0, 23
Channel = 1

[State -2]
Type = PlaySnd
triggerall = random < 800
TriggerAll = Time = 1
triggerall = Life > 0
Trigger1 = StateNo = 5070
Value = s0, 25
Channel = 1

[State -2]
Type = PlaySnd
triggerall = random < 800
TriggerAll = Time = 1
triggerall = Life > 0
Trigger1 = StateNo = 5050
Value = s0, 22
Channel = 1

[State -2]
Type = PlaySnd
triggerall = random < 800
TriggerAll = Time = 1
triggerall = Life > 0
Trigger1 = StateNo = 5050
Value = s0, 23
Channel = 1

[State -2]
Type = PlaySnd
triggerall = random < 800
TriggerAll = Time = 1
triggerall = Life > 0
Trigger1 = StateNo = 5000
Value = s0, 24
Channel = 1

[State -2]
Type = PlaySnd
triggerall = random < 800
TriggerAll = Time = 1
triggerall = Life > 0
Trigger1 = StateNo = 5010
Value = s0, 25
Channel = 1

[State -2]
Type = PlaySnd
TriggerAll = Alive = 1
TriggerAll = Time = 1
Trigger1 = StateNo = 5120
Trigger1 = Anim = 5120
Trigger2 = StateNo = 5120
Trigger2 = Anim = 5121
Trigger3 = Anim = 5200
Trigger4 = Anim = 5210
Value = s0, 12
Channel = 2


[State -2]
Type = PlaySnd
TriggerAll = Alive = 1
TriggerAll = Time = 1
Trigger1 = StateNo = 5120
Trigger1 = Anim = 5120
Trigger2 = StateNo = 5120
Trigger2 = Anim = 5121
Trigger3 = Anim = 5200
Trigger4 = Anim = 5210
Value = s0, 5
Channel = 1


[State -2]
Type = PlaySnd
triggerall = RoundState = 2
TriggerAll = Time = 1
Trigger1 = StateNo = 5101
Trigger2 = StateNo = 5102
Trigger3 = StateNo = 5103
Value = s0, 25
Channel = 1


[State -2]
Type = PlaySnd
triggerall = RoundState = 2
TriggerAll = Time = 1
triggerall = random < 500
Trigger1 = StateNo = 5101
Trigger2 = StateNo = 5102
Trigger3 = StateNo = 5103
Value = s0, 22
Channel = 1






[State 0]
type = varSet
trigger1 = var(56) = 0
trigger1 = numhelper(15500) >= 1
var(56) = 1

[State 0]
type = varSet
trigger1 = var(56) = 1
trigger1 = numhelper(15500) = 0
Trigger2 = StateNo = 3500
var(56) = 0










;No auto turning!
[State -2, NoAutoTurn]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

;No guarding!
[State -2, NoGuard]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard



;No auto turning!
[State -2, NoAutoTurn]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

;No guarding!
[State -2, NoGuard]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard



[State 0]
type = varSet
trigger1 = Time = 0
var(50) = 8



;공격력업글
[state 100]
type = attackmulset
trigger1 = var(51) > 1
value = 1+(Var(51))*.02
ignorehitpause = 1

[State 0]
	type = RemoveExplod
        Trigger1 = Anim != 10
        Trigger1 = Anim != 11
        Trigger1 = Anim != 12
        Trigger1 = Anim != 900
	id = 19999
	IgnoreHitPause = 1


[State 0]
	type = RemoveExplod
        Trigger1 = Anim != 10
        Trigger1 = Anim != 11
        Trigger1 = Anim != 12
        Trigger1 = Anim != 900
	id = 98000
	IgnoreHitPause = 1

[State 0]
	type = RemoveExplod
        Trigger1 = Anim != 10
        Trigger1 = Anim != 11
        Trigger1 = Anim != 12
        Trigger1 = Anim != 900
	id = 98001
	IgnoreHitPause = 1

[State 0]
	type = RemoveExplod
        Trigger1 = Anim != 10
        Trigger1 = Anim != 11
        Trigger1 = Anim != 12
        Trigger1 = Anim != 900
	id = 98002
	IgnoreHitPause = 1



[State -3]
type = varset
triggerall = Ctrl = 1
trigger1 = roundstate = 2
trigger1 = var(43) = 1
var(43) = 0



[state -2,]
type = assertspecial
trigger1 = roundstate = 1
flag = NoBarDisplay
ignorehitpause = 1

;===========================================================================


;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]




[State -3]
type = varset
trigger1 = statetype != A
trigger1 = var(3) = 100
var(3) = 0








[State 290, 5]
type = ChangeState
triggerall = IsHelper(4000) != 1
trigger1 = movetype = H
trigger1 = Time > 0
trigger1 = Pos Y < -400
trigger1 = stateno != 5400
value = 5400

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
value = 0, 6
Channel = 2


[State -3]
type = varset
triggerall = Ctrl = 1
trigger1 = roundstate = 2
trigger1 = var(49) = 1
var(49) = 0



;---------------------------------------------------------------------------
[Statedef 280]
type    = S
movetype= A
physics = S
juggle  = 10
poweradd= 20
ctrl = 0
anim = 280
sprpriority = 2


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,8
channel = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,1
channel = 1


 

[State 200, 1]
type = HitDef
trigger1 = var(31) = 0
trigger1 = Time = 5
attr = S, NA
damage = 70, 20
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
sparkno = 1
sparkxy = -20, -15
hitsound = s0, 121
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -7
ground.velocity = -3,-0.0
airguard.velocity = -1,-2.0
air.type = High
air.velocity = -1,-2.0
air.hittime = 12
yaccel  =0.2





[State 200, 1]
type = HitDef
trigger1 = var(31) = 1
trigger1 = Time = 5
attr = S, NA
damage = 100, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 5, Hit 
pausetime = 1, 20
sparkno = 2
sparkxy = -10, -15
hitsound = s0, 92
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
guard.velocity = -7
ground.velocity = 0,-2
airguard.velocity = -0,-2
air.type = Trip
air.velocity = -0,-2
air.hittime = 12
yaccel  =0.2
fall = 1
fall.recover = 0
getpower         = 50, -50
givepower        = -50, 55
envshake.time = 10
envshake.ampl = -5
envshake.freq = 120



[State 12500, 2]
type = Helper
trigger1 = numhelper(304) <= 0
trigger1 = MoveHit = 1
trigger1 = var(31) = 1
helpertype = normal
name = "류"
ID = 304
pos = 10,-10
postype = P1
facing = 1
stateno = 3710
ownpal = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
Size.XScale = 1.0
Size.YScale = 1.0
IgnoreHitPause = 1



[State -2,a]
type = Explod
trigger1 = var(31) = 1
Trigger1 = NumExplod(3108) = 0
Trigger1 =  AnimElem = 1
ID          = 3107
anim = 3107
pos = -50,42
postype = p1
velocity = 20,-9
sprpriority = 3
removetime = 15
bindtime = 1
ownpal = 1
supermove = 0
random = 0,0
scale = 1.0,1.0
ontop = 1
removeongethit = 1


[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -8

[State 1000, 2]
type = ReversalDef
Trigger1 =  AnimElem = 16 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 =  Time < 5 | AnimElem = 16 , >= 0
trigger2 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 11

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1





;--------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 742]
type = A
movetype = H
physics = S
velset = 0,0
sprpriority = 0

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 10,0
time = 1
add = 250,0,0

[State 1312, 2]
type = VelAdd
trigger1 = Pos Y < 0
trigger1 = Time > 0
y = .3

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 805, Anim2]
type = ChangeAnim
trigger1 = Time = 0
value = 5060

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim = 5300
trigger1 = Time = 10
value = 5300

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 1

[State 440, 4]
type = DestroySelf
trigger1 = IsHelper = 1
trigger1 = IsHelper (4444) = 0
trigger1 = IsHelper (3000) = 0

[State 0, Die when win]
type = SelfState
triggerall = Time >= 50
trigger1 = Time = 350
trigger2 = Command = "recovery"
trigger2 = random = [801,999]
trigger3 = Command = "a" 
trigger3 = random = [801,999]
trigger4 = Command = "b"
trigger4 = random = [801,999]
trigger5 = random = [801,999]
trigger5 = Command = "c" 
trigger6 = random = [801,999]
trigger6 = Command = "x"
trigger7 = random = [801,999]
trigger7 = Command = "y"
trigger8 = random = [701,999]
trigger8 = Command = "z"
value = 50

[State 1320, State]
type = Selfstate
trigger1 = time = 125
value = 50
ctrl = 0
















[Statedef 281]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 0
anim = 281
ctrl = 0
velset = 0,0
sprpriority = 0


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 17
channel = 1

[State -2,a]
type = Explod
trigger1 = AnimElem = 5
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -8
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.6,0.4

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 11
channel = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 17
channel = 1

[State 12500, 2]
type = Helper
trigger1 = numhelper(401) <= 0
trigger1 = AnimElem = 5
helpertype = normal
name = "부머랑"
ID = 401
pos = 15,-25
postype = P1
facing = 1
stateno = 282
keyctrl = 0
ownpal = 1
Size.XScale = 1.1
Size.YScale = 1.1

[State 210, 5]
type = ChangeState
trigger1 = AnimElem = 5 , > 0
trigger1 = numhelper(401) <= 0
trigger2 = var(1) = 1
trigger2 = AnimElem = 5 , > 0
value = 283
ctrl = 0

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -8

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 0]
type = varSet
trigger1 = var(1) = 1
trigger1 = AnimElem = 1
var(1) = 0

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3

[State 210, 5]
type = ChangeState
trigger1 = Time = 140
value = 50
ctrl = 1






[Statedef 283]
type    = A
movetype= A
physics = S
juggle  = 3
poweradd= 0
anim = 283
ctrl = 0
velset = 0,0
sprpriority = 0

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -8

[State 0]
type = varSet
trigger1 = var(1) = 1
trigger1 = AnimElem = 1
var(1) = 0

[State 195, 1]
type = CtrlSet
trigger1 = Time = 1
value = 1

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -8
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.6,0.4

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 128
channel = 2

[State 1000, 0]
type = Velset
trigger1 = Time = 0
x = -6

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1 , > 0
trigger1 = numhelper(401) <= 0
value = 0, 120
channel = 1


[State -2,a]
type = Explod
trigger1 = Time = 0
anim = 3100
pos = 15,-25
postype = p1
sprpriority = 8
removetime = 18
random = 0,0
velocity = 4,4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = 3100
pos = 15,-25
postype = p1
sprpriority = 8
removetime = 18
random = 0,0
velocity = -4,4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = 3100
pos = 15,-25
postype = p1
sprpriority = 8
removetime = 18
random = 0,0
velocity = -4,-4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = 3100
pos = 15,-25
postype = p1
sprpriority = 8
removetime = 18
random = 0,0
velocity = 4,-4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3

[State 210, 5]
type = ChangeState
trigger1 = Pos Y < -1
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 282]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 5
ctrl = 0
velset = 0,0
anim = 282
sprpriority = -1

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 1000, 0]
type = Velset
trigger1 = Time = 0
x = 6

[State 1000, 0]
type = Velset
trigger1 = Time = 0
y = 0

[State 1000, 0]
type = Velset
trigger1 = Time = 20
y = 0

[State 1000, 0]
type = Velset
trigger1 = Time = 40
y = 0

[State 1000, 0]
type = Velset
trigger1 = Time = 15
x = 4

[State 1000, 0]
type = Velset
trigger1 = Time = 60
y = 0

[State 1000, 0]
type = VelAdd
trigger1 = Time > 20
x = -.6

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -5

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 604
ignorehitpause = 1
persistent = 1

[State 210, 1]
type = PlaySnd
trigger1 = MoveHit = 1
value = 0, 9
channel = 3

[State 200, 1]
type = HitDef
trigger1 = Time <= 17
trigger1 = TimeMod = 6,0
Attr = S, NP
damage = 15, 0
animtype = Up
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
pausetime = 1, 1
sparkno = 0
sparkxy = -10, -0 
hitsound = -1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -4,-1.8
airguard.velocity = -4,-1.8
guard.velocity = -2
air.type = High
air.velocity = -4,-1.8
air.hittime = 12
yaccel  = 0.4
fall = 0
fall.recover = 0
kill = 0
getpower         = 45, 0
givepower        = -45, 0


[State 200, 1]
type = HitDef
trigger1 = Time > 17
trigger1 = TimeMod = 6,0
Attr = S, NP
damage = 15, 0
animtype = Up
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
pausetime = 1, 1
sparkno = 0
sparkxy = -10, -0 
hitsound = -1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 0,-5
airguard.velocity = 0,-5
guard.velocity = -2
air.type = High
air.velocity = 0,-5
air.hittime = 12
yaccel  = 0.4
fall = 0
fall.recover = 0
kill = 0

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State -2, StopSuckSound]
type = StopSnd
trigger1 = EnemyNear,HitDefAttr = SCA, NP
channel = 3

[State -2,a]
type = Explod
trigger1 = MoveHit = 1
anim = 3100
pos = 0,0
postype = p1
sprpriority = 8
removetime = 15
random = 30,30
velocity = 4,4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1

[State -2,a]
type = Explod
trigger1 = MoveHit = 1
anim = 3100
pos = 0,0
postype = p1
sprpriority = 8
removetime = 15
random = 30,30
velocity = -4,4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1

[State -2,a]
type = Explod
trigger1 = MoveHit = 1
anim = 3100
pos = 0,0
postype = p1
sprpriority = 8
removetime = 15
random = 30,30
velocity = -4,-4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1

[State -2,a]
type = Explod
trigger1 = MoveHit = 1
anim = 3100
pos = 0,0
postype = p1
sprpriority = 8
removetime = 15
random = 30,30
velocity = 4,-4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1

[State 210, 1]
type = PlaySnd
trigger1 = TimeMod = 5,0
value = 0, 11
channel = 2





[State 0]
type = ParentvarSet
triggerall = var(1) = 0
triggerall = Time > 10
trigger1 = Rootdist X > -20
trigger1 = Rootdist X < 20
trigger1 = Rootdist Y < 50
trigger1 = Rootdist Y > -50
trigger2 = BackEdgeBodyDist > 400
trigger3 = BackEdgeBodyDist < -400
trigger4 = Root,Anim = 283
trigger5 = Root,Anim != 281
var(1) = 1


[State 240, 4]
type = destroyself
trigger1 = Parent,var(1) = 1
trigger1 = Root,Anim = 283
trigger2 = Time = 150
trigger3 = Root,Anim != 281





[State 1000, 0]
type = Angleadd
trigger1 = 1
value = 40

[State 1000, 0]
type = AngleDraw
trigger1 = 1




;---------------------------------------------------------------------------
; 부메랑
[Statedef 604]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 282
sprpriority = -1

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -5

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State -2,a]
type = Explod
trigger1 = TimeMod = 30,0
anim = 3100
pos = 0,0
postype = p1
sprpriority = 8
;removetime = 31
random = 30,30
velocity = 4,4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1

[State -2,a]
type = Explod
trigger1 = TimeMod = 15,0
anim = 3100
pos = 0,0
postype = p1
sprpriority = 8
;removetime = 31
random = 30,30
velocity = -4,4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1

[State -2,a]
type = Explod
trigger1 = TimeMod = 25,0
anim = 3100
pos = 0,0
postype = p1
sprpriority = 8
;removetime = 31
random = 30,30
velocity = -4,-4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1

[State -2,a]
type = Explod
trigger1 = TimeMod = 50,0
anim = 3100
pos = 0,0
postype = p1
sprpriority = 8
;removetime = 31
random = 30,30
velocity = 4,-4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1

[State 210, 1]
type = PlaySnd
trigger1 = TimeMod = 6,0
value = 0, 8
channel = 2

[State 1000, 0]
type = Velset
trigger1 = Time > 0
x = -7

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, HT, NT, ST, NA, SA, HA, NT, SP, NP, HP, AT
stateno = 604
ignorehitpause = 1
persistent = 1

[State 1000, 0]
type = Angleadd
trigger1 = 1
value = -30

[State 1000, 0]
type = AngleDraw
trigger1 = 1

[State 210, 1]
type = PlaySnd
trigger1 = Rootdist X > -5
trigger1 = Rootdist X < 5
trigger1 = Rootdist Y < 40
trigger1 = Rootdist Y > -30
value = 0, 11
channel = 2

[State 240, 4]
type = destroyself
trigger1 = Rootdist X > -5
trigger1 = Rootdist X < 5
trigger1 = Rootdist Y < 40
trigger1 = Rootdist Y > -30
trigger2 = BackEdgeBodyDist > 400
trigger3 = BackEdgeBodyDist < -400
trigger4 = Root,Anim = 283
trigger5 = Root,Anim != 281









[Statedef 205]
type    = A
movetype= A
physics = S
juggle  = 10
poweradd= 0
ctrl = 0
anim = 205
sprpriority = 0

[State 30, 6]
type = PosAdd
trigger1 = AnimElem = 300
x = 3

[State 30, 6]
type = PosAdd;-6
trigger1 = AnimElem = 600
x = 7

[State 30, 6]
type = PosAdd;-6
trigger1 = AnimElem = 700
x = 3

[State 30, 6]
type = PosAdd;-6
trigger1 = AnimElem = 8
x = 0;6


[State 7040,VelSet]
type = VelSet
trigger1 = Time = 0
trigger1 = Pos Y <= -1
persistent = 200
x = 0

[State 7040,VelSet]
type = VelSet
trigger1 = vel X > 2
trigger1 = Time = 0
trigger1 = Pos Y >= 0
persistent = 200
x = 11

[State -2,a]
type = Explod
trigger1 = animelem = 1500
trigger2 = animelem = 2300
anim = 21011
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 1.0,1.0

[State 1000, 2]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA, AA, AP, NA, SA, HA, SP, NP, HP
numhits = 1
pausetime = 0,0
sparkno = 40
sparkxy = 0,0
hitsound = 6,0


[State 205, 0]
type = PalFX
trigger1 = AnimElem = 11, < 0
trigger1 = TimeMod = 3,0
time = 1
add = 150,150,150

[State 210, 1]
type = PlaySnd
trigger1 = command = "holdup"
trigger1 = Time = 10
value = 0, 42
channel = 0
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 10
trigger1 = command != "holdup"
value = 0, 49
channel = 0
volume = -50

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 12
trigger2 = AnimElem = 16
trigger3 = AnimElem = 20
value = 1, 27
channel = 2
volume = 50

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1, 28
channel = 5
volume = 50

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 11, < 0
trigger1 = TimeMod = 8,0
value = 1, 27
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1, 27
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 11
value = 0, 6
channel = 4
volume = 100

[State -2,a]
type = Explod
trigger1 = animelem = 10
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.7,0.7

[State -2,a]
type = Explod
trigger1 = animelem = 6
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.6,0.4

[State -2,a]
type = Explod
trigger1 = animelem = 6
anim = 206
pos = 18,-30
postype = p1
sprpriority = 0
removetime = 18
bindtime = 1
Vel = 0,-11
Accel = 0,0.7
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State 1034, 2]
type = Projectile
trigger1 =  AnimElem = 6
projremove = 18
Projremovetime = 18
projhits = 1
projremove = 1
projremanim = -1
projpriority = 1
projanim = 2011
offset = 18,-30
velocity = 0,-9.0
attr = S, HP
damage = 40,0
getpower = 0,0
givepower = 1,1
animtype = Hard
guardflag = MAFLDP
hitflag = MAFLDP
pausetime = 1,10
guard.pausetime = 0,0
sparkno = 1
sparkxy = 20, -10
hitsound = S0,9
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 5
guard.hittime = 5
ground.velocity = -0.1,-5.5
guard.velocity = -0.-5.5
air.velocity = -0.1,-5
yaccel  =0.2
fall = 1
fall.recover = 0















[Statedef 6310]
type    = A
movetype= A
physics = N
juggle  = 10
poweradd= 65
ctrl = 0
anim = 631
sprpriority = 0


[State -2,a]
type = Explod
trigger1 = animelem = 3
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.6,0.4

[State 30, 6]
type = PosAdd
trigger1 = AnimElem = 1
x = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 1000, 0]
type = TargetState
trigger1 = movehit = 1
value = 5450
persistent = 0
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
trigger1 = Time = 9
triggerall = p2Life < 499
attr = S, NA
damage = 120, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 1, 10
guard.pausetime = 1,10
sparkno = 1
sparkxy = -10, -20
hitsound = s0, 10
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -4,-7.5
airguard.velocity = -4,-7.5
guard.velocity = -25
air.type = Low
air.velocity = -4,-7.5
air.hittime = 12
yaccel  =0.7
fall = 1
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 9
triggerall = p2Life > 499
attr = S, NA
damage = 100, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 1, 10
guard.pausetime = 1,10
sparkno = 1
sparkxy = -20, -20
hitsound = s0, 10
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5,-7
airguard.velocity = -5,-7
guard.velocity = -25
air.type = Trip
air.velocity = -5,-7
air.hittime = 12
yaccel  =0.8
fall = 1
fall.recover = 0

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 1
pausetime = 5,5
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 4
y = -15

[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 5
y = -3

[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 4
x = 10

[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 11
y = 0



;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Time >= 10
trigger1 = Command = "holdfwd"
X = 4

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Time >= 10
trigger1 = Command = "holdback"
X = -4

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Time >= 10
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 1.7, fvar(3), 0)


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 11
channel = 2
volume = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 1313, 2]
type = Veladd
trigger1 = AnimElem = 4 , >= 0
y = .3

[State 200, 7]
type = ChangeState
trigger1 = movecontact | MoveReversed 
trigger1 = Pos Y > 0
value = 50
ctrl = 0

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 1 && Pos Y >= 1
value = 263

[Statedef 263]
type    = C
movetype= A
physics = N
poweradd= 10
ctrl = 0
velset = 0,0
anim = 263
sprpriority = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 6
channel = 2
volume = 0

[State -2,a]
type = Explod
trigger1 = animelem = 1
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.8,0.4

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0



[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -8

[State 1000, 2]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA, NP
numhits = 1
pausetime = 5,5
sparkno = 40
sparkxy = 0,0
hitsound = 6,0


[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1






;---------------------------------------------------------------------------
[Statedef 261]
type = A
physics = N
movetype = A
ctrl = 0
Velset = 0,0
sprpriority = -1
anim = 261

[State 1000, 0]
type = AngleSet
trigger1 = Time = 0
value = 0

[State 1000, 0]
type = AngleDraw
trigger1 = 1

[State 1000, 0]
type = Angleadd
trigger1 = 1
value = -30

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = -9

[State 210, 1]
type = PlaySnd
trigger1 = TimeMod = 6,0
value = 0, 11
channel = 2

[State 30, 6]
type = VelAdd
trigger1 = Time > 0
trigger1 = Pos Y < -1
y = .7

[State 1201,end]
type = Destroyself
trigger1 = root,stateno != 631
trigger2 = Time = 21



[Statedef 631]
type    = A
movetype= A
physics = N
juggle  = 10
poweradd= 65
ctrl = 0
anim = 631
sprpriority = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 13
channel = 0


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 13
value = 1, 19
channel = 1


[State 30, 6]
type = PosAdd
trigger1 = AnimElem = 1
x = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1000, 0]
type = TargetState
triggerall = p2Life < 499
trigger1 = movehit = 1
value = 5450
persistent = 0
IgnoreHitPause = 1


[State 12500, 2]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "망할 검"
pos = 20,-30
postype = P1
facing = 1
stateno = 261
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 1034, 2]
type = Projectile
trigger1 =  AnimElem = 4
projremove = 21
Projremovetime = 21
projhits = 1
projremove = 1
projremanim = -1
projpriority = 1
projanim = 262
offset = 20,-30
velocity = 0,-9.0
attr = S, HP
damage = 50,0
getpower = 0,0
givepower = 1,1
animtype = Hard
guardflag = MAFLDP
hitflag = MAFLDP
pausetime = 1,10
guard.pausetime = 0,0
sparkno = 1
sparkxy = 20, -10
hitsound = S0,9
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 5
guard.hittime = 5
ground.velocity = -0.1,-5.5
guard.velocity = -0.-5.5
air.velocity = -0.1,-5
yaccel  =0.2
fall = 1
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 30
triggerall = p2Life < 499
attr = S, NP
damage = 130, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
guard.pausetime = 10,10
sparkno = 2
sparkxy = -10, -20
hitsound = s0, 9
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -4,-7.5
airguard.velocity = -4,-7.5
guard.velocity = -25
air.type = Low
air.velocity = -4,-7.5
air.hittime = 12
yaccel  =0.7
fall = 1
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 30
triggerall = p2Life > 499
attr = S, NP
damage = 120, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
guard.pausetime = 10,10
sparkno = 1
sparkxy = -20, -20
hitsound = s0, 9
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5,-7
airguard.velocity = -5,-7
guard.velocity = -25
air.type = Trip
air.velocity = -5,-7
air.hittime = 12
yaccel  =0.8
fall = 1
fall.recover = 0

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -5

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 =  AnimElem = 11 , < 0
trigger2 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0


[State 210, 1]
type = PlaySnd
trigger1 = Command != "hold_y"
trigger1 = AnimElem = 11
value = 0, 128
channel = 1


[State -2,a]
type = Explod
trigger1 = Command != "hold_y"
trigger1 = AnimElem = 11
anim = 3100
pos = 0,-15
postype = p1
sprpriority = 8
removetime = 18
random = 0,0
velocity = 4,4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2,a]
type = Explod
trigger1 = Command != "hold_y"
trigger1 = AnimElem = 11
anim = 3100
pos = 0,-15
postype = p1
sprpriority = 8
removetime = 18
random = 0,0
velocity = -4,4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2,a]
type = Explod
trigger1 = Command != "hold_y"
trigger1 = AnimElem = 11
anim = 3100
pos = 0,-15
postype = p1
sprpriority = 8
removetime = 18
random = 0,0
velocity = -4,-4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2,a]
type = Explod
trigger1 = Command != "hold_y"
trigger1 = AnimElem = 11
anim = 3100
pos = 0,-15
postype = p1
sprpriority = 8
removetime = 18
random = 0,0
velocity = 4,-4
bindtime = 1
ownpal = 1
supermove = 1
scale = 0.1,0.1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 1
pausetime = 5,5
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
trigger1 = AnimElem = 11 , < 0
reversal.attr = SCA, NP
numhits = 1
pausetime = 5,5
sparkno = 40
sparkxy = 0,0
hitsound = 6,0


[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 10
y = -20

[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 11
y = 0



;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Time >= 30
trigger1 = Command = "holdfwd"
X = 4

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Time >= 30
trigger1 = Command = "holdback"
X = -4

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Time >= 30
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 1.7, fvar(3), 0)


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 10
value = 0, 8
channel = 2
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 11
channel = 2
volume = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 13
value = 0, 11
channel = 2
volume = 0

[State -2,a]
type = Explod
trigger1 = animelem = 1
trigger2 = animelem = 9
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State 1313, 2]
type = Veladd
trigger1 = AnimElem = 11 , > 0
y = .1

[State 200, Phase2]
type = ChangeState
trigger1 = AnimElemtime(11) >= 0
trigger1 = AnimElemtime(13) < 0
trigger1 = Command = "hold_y"
value = 265

[State 200, Phase2]
type = ChangeState
trigger1 = AnimElemtime(11) >= 0
trigger1 = AnimElemtime(13) < 0
trigger1 = Command != "hold_y"
trigger1 = command = "holddown"
trigger1 = var(59) = 0
value = 267






[State 200, Phase2]
type = ChangeState
trigger1 = AnimElemtime(11) >= 0
trigger1 = AnimElemtime(13) < 0
trigger1 = var(59) = 1
trigger1 = random < 10
value = 265

[State 200, Phase2]
type = ChangeState
trigger1 = AnimElemtime(11) >= 0
trigger1 = AnimElemtime(13) < 0
trigger1 = var(59) = 1
trigger1 = random < 100
value = 267



[State 200, 7]
type = ChangeState
trigger1 = movecontact | MoveReversed 
trigger1 = Pos Y > 0
value = 50
ctrl = 0

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 1 && Pos Y >= 1
value = 263

[Statedef 267]
type    = A
movetype= A
physics = N
juggle  = 10
poweradd= 65
ctrl = 0
anim = 267
sprpriority = 0


[State 210, 1]
type = PlaySnd
trigger1 = TimeMod = 6,0
value = 0, 11
channel = 2

[State 1000, 0]
type = AngleSet
trigger1 = Time = 0
value = 0

[State 1000, 0]
type = AngleDraw
trigger1 = 1

[State 1000, 0]
type = Angleadd
trigger1 = 1
value = -35

[State 200, 1]
type = HitDef
trigger1 = TimeMod = 6,0
attr = S, NP
damage = 20, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
getpower         = 0, 0
givepower        = 0, 0
pausetime = 10, 10
sparkno = 1
sparkxy = -10, -20
hitsound = s0, 10
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0, ifelse (P2Dist y >= -18, -1, 1)
airguard.velocity = -0,ifelse (P2Dist y >= -18, -1, 1)
air.type = Low
air.velocity = -0, ifelse (P2Dist y >= -18, -1, 1)
down.velocity = -0, ifelse (P2Dist y >= -18, -1, 1)
guard.velocity = -1
air.hittime = 20
p2facing = ifelse (P2Dist X <= 0, -1, 1)
air.hittime = 12
yaccel  =0.6

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -4

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 0
pausetime = 10,10
sparkno = 40
sparkxy = 0,0
hitsound = 6,0



[State 1000, 0]
type = ChangeState
trigger1 = command != "holddown"
triggerall = var(59) = 0
value = 265

[State 1000, 0]
type = ChangeState
trigger1 = Time = 22
trigger1 = command = "holddown"
triggerall = var(59) = 0
value = 268


[State 1000, 0]
type = ChangeState
triggerall = var(59) = 1
trigger1 = random < 11
value = 265

[State 1000, 0]
type = ChangeState
trigger1 = Time = 22
triggerall = var(59) = 1
value = 268



[Statedef 268]
type    = A
movetype= A
physics = N
poweradd= 65
ctrl = 0
anim = 268
sprpriority = 0




[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = 10

[State 1313, 2]
type = Veladd
trigger1 = 1
y = .3

[State 1000, 0]
type = AngleSet
trigger1 = Time = 0
value = 0

[State -1]
Type = Explod
trigger1 = MoveHit = 1
trigger1 = numExplod(300) <= 0
ID = 300
Anim = F2
BindTime = 1
PosType = P1
Pos = 45,0
Random = 0,0
Scale = .03,2
SprPriority = 8
IgnoreHitPause = 1
SuperMoveTime = -1
PauseMoveTime = -1

[State -1]
Type = Explod
trigger1 = MoveHit = 1
trigger1 = numExplod(301) <= 0
ID = 301
Anim = F2
BindTime = 1
PosType = P1
Pos = 45,0
Random = 0,0
Scale = 2,.03
SprPriority = 8
IgnoreHitPause = 1
SuperMoveTime = -1
PauseMoveTime = -1


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 11
channel = 3
volume = 150

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, HA
damage = 150, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 4, Hit 
pausetime = 20, 20
guard.pausetime = 20,20
sparkno = 1
sparkxy = -20, -2
hitsound = s0, 10
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5,-7
airguard.velocity = -5,-7
guard.velocity = -25
air.type = Trip
air.velocity = -5,-7
air.hittime = 12
yaccel  =0.8
fall = 1
fall.recover = 0
envshake.time = 14
envshake.ampl = -5
envshake.freq = 120

[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 1 && Pos Y >= 1
value = 269



;---------------------------------------------------------------------------
[Statedef 269]
type    = A
movetype= A
physics = S
juggle  = 3
poweradd= 65
ctrl = 0
anim = 269
sprpriority = 2

[State -2,a]
type = Explod
trigger1 = animelem = 1
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 5
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State 610, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 133
channel = 2
volume = 0

[State 700, EnvShake]
type = EnvShake
trigger1 = AnimElem = 1
time = 5
freq = 100
ampl = -8
phase = 10

[State 1313, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




[Statedef 265]
type    = A
movetype= A
physics = N
juggle  = 10
poweradd= 65
ctrl = 0
anim = 265
sprpriority = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 18
channel = 1

[State 12500, 2]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "망할 검"
pos = 15,-20
postype = P1
facing = 1
stateno = 266
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 1313, 2]
type = Veladd
trigger1 = 1
y = .3


[State 200, 1]
type = HitDef
trigger1 = Time = 0
trigger2 = MoveReversed = 1
trigger2 = p2MoveType = A
attr = S, NP
damage = 100, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 10, 10
guard.pausetime = 10,10
sparkno = 1
sparkxy = -20, -20
hitsound = s0, 29
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5,-7
airguard.velocity = -5,-7
guard.velocity = -25
air.type = Trip
air.velocity = -5,-7
air.hittime = 12
yaccel  =0.8
fall = 1
fall.recover = 0



[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -8


[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
y = -3

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT
reversal.attr = SCA, SA, NP , NA, NT
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State -2,a]
type = Explod
trigger1 = animelem = 1
;trigger1 = prevstateno != 267
anim = F1
pos = 0,-25
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = animelem = 1
;trigger1 = prevstateno != 267
anim = F3
pos = 0,-25
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 1
pausetime = 5,5
sparkno = 40
sparkxy = 0,0
hitsound = 6,0



[State 1000, 0]
type = AngleSet
trigger1 = Time = 0
value = 0

[State 1000, 0]
type = AngleDraw
trigger1 = 1

[State 1000, 0]
type = Angleadd
trigger1 = 1
value = -25

[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 1
y = -4


;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Time >= 0
trigger1 = Command != "holdback"
X = 4

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Time >= 0
trigger1 = Command = "holdback"
X = -4

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
;trigger1 = prevstateno != 267
value = 0, 139
channel = 2
volume = 0



[State 210, 1]
type = PlaySnd
trigger1 = Vel Y > 1 && Pos Y >= 1
value = 0, 128
channel = 1




[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 1 && Pos Y >= 1
value = 5100




[Statedef 266]
Type = L
MoveType = I
Physics = N
shadow = 0,0,0
sprpriority = 9


[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 261

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
trigger1 = time < 3
scale = 1.1, 1.1

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 3
trigger1 = time < 6
scale = 1.2, 1.2

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 6
trigger1 = time < 9
scale = 1.3, 1.3

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 9
trigger1 = time < 12
scale = 1.4, 1.4

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 12
trigger1 = time < 15
scale = 1.5, 1.5

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 15
trigger1 = time < 18
scale = 1.6, 1.6

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 18
trigger1 = time < 21
scale = 1.7, 1.7

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 21
trigger1 = time < 24
scale = 1.8, 1.8

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 24
trigger1 = time < 27
scale = 1.9, 1.9

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 27
scale = 2.0, 2.0

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1

[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
value = -20

[State 1053, VelSet]
type = VelSet
trigger1 = time < 15
trigger1 = time >= 0
y = -2

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
x = -2

[State 1053, VelSet]
type = Veladd
trigger1 = time >= 15
y = 0.8

[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = Time > 15
Flag = NoShadow

[State 100, 4]
type = DestroySelf
trigger1 = time > 65



















;---------------------------------------------------------------------------
[Statedef 1101]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
Anim = 1001
sprpriority = -2
ctrl = 0

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
y = -5-random%4

[State 1053, VelSet]
type = VelSet
trigger1 = movecontact = 1
y = -4-random%4

[State 1053, VelSet]
type = Veladd
trigger1 = 1
y = .3

[State 1053, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -3-random%2

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
x = 12+random%3

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 34
channel = 1

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = A, NP
damage = 20, 0
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 2, Hit 
pausetime = 20, 20
getpower = 5, 5
givepower = 5, 5
sparkno = 0
sparkxy = -0, -0
hitsound = s0,34
guardsound = 6, 0 
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -5,-5
airguard.velocity = -5,-5
guard.velocity = -2
air.type = High
air.velocity = -5,-5
air.hittime = 0

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,movetype = A
reversal.attr = SCA
numhits = 0
pausetime = 10,10
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,movetype != A
movetype = A

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,movetype = A
movetype = I


[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
x = 3+random%3

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State -2,a]
type = Explod
trigger1 = Vel Y > -0 && Pos Y >= -0
anim = F60
pos = 0,0
postype = p1
sprpriority = -9
bindtime = 1
ownpal = 1
supermove = 1
scale = 1,1

[State 5100, 10]
type = PlaySnd
trigger1 = Vel Y > -0 && Pos Y >= -0
value = 0, 32

[State 0, HitOverride]
type = HitOverride
trigger1 =1
attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
stateno = 1002
ignorehitpause = 1
persistent = 1

[State 52, 4]
type = ChangeState
trigger1 = Vel Y > -0 && Pos Y >= -0
value = 4201

;---------------------------------------------------------------------------
[Statedef 1002]
Type = L
MoveType = I
Physics = N
Anim = 1002
sprpriority = 9


[State 210, 1]
type = PlaySnd
trigger1 = time = 0
value =0, 32
channel = 0
volume = 0


[State 101, Turn]
type = Turn
triggerall = random < 500
trigger1 = Time = 0



[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
trigger1 = time < 3
scale = 1.1, 1.1

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 3
trigger1 = time < 6
scale = 1.2, 1.2

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 6
trigger1 = time < 9
scale = 1.3, 1.3

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 9
trigger1 = time < 12
scale = 1.4, 1.4

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 12
trigger1 = time < 15
scale = 1.5, 1.5

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 15
trigger1 = time < 18
scale = 1.6, 1.6

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 18
trigger1 = time < 21
scale = 1.7, 1.7

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 21
trigger1 = time < 24
scale = 1.8, 1.8

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 24
trigger1 = time < 27
scale = 1.9, 1.9

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 27
scale = 2.0, 2.0

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
value = -15

[State 1053, VelSet]
type = VelSet
trigger1 = time < 15
trigger1 = time >= 0
y = -8

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = random < 500
x = ifelse (random < 500, -4, 4)

[State 1053, VelSet]
type = Veladd
trigger1 = time >= 15
y = 0.8

[State 0, Kill Helper]
type = DestroySelf
trigger1 = IsHelper = 1
trigger1 = Time = 65

[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = Time > 15
Flag = NoShadow

[State 100, 4]
type = DestroySelf
trigger1 = time > 65

































[Statedef 603]
type    = A
movetype= A
physics = s
poweradd= 0
ctrl = 0
anim = 603
sprpriority = 0

[State 440, 4]
type = ChangeState
trigger1 = var(47) = 4
value = 1500

[State 1052, Anim]
type = ChangeAnim
trigger1 = var(47) = 1
trigger1 = Time = 0
value = 206


[State 1052, Anim]
type = ChangeAnim
trigger1 = var(47) = 6
trigger1 = Time = 0
value = 3521

[State -1,AI]
type = VarSet
trigger1 = var(47) > 6
var(47) = 0



[State -1]
Type = Explod
trigger1 = var(47) = 0
Anim = 3513
Ownpal = 1
BindTime = 1
PosType = P1
Pos = 0,-40
Random = 1,1
Scale = 1,1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(47) = 1
Anim = 3514
Ownpal = 1
BindTime = 1
PosType = P1
Pos = 0,-40
Random = 1,1
Scale = 1,1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(47) = 2
Anim = 3515
Ownpal = 1
BindTime = 1
PosType = P1
Pos = 0,-40
Random = 1,1
Scale = 1,1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(47) = 3
Anim = 3516
Ownpal = 1
BindTime = 1
PosType = P1
Pos = 0,-40
Random = 1,1
Scale = 1,1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(47) = 4
Anim = 3517
Ownpal = 1
BindTime = 1
PosType = P1
Pos = 0,-40
Random = 1,1
Facing = Ifelse(Facing = 1, 1, -1)
Scale = .5,.5
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;pos = Ifelse(Facing = 1, Floor(Log(10,var(51))) * 3 +0, Floor(Log(10,var(51))) * -3 - 0), -70
        
[State -1]
Type = Explod
trigger1 = var(47) = 5
Anim = 3518
Ownpal = 1
BindTime = 1
PosType = P1
Pos = 0,-40
Random = 1,1
Scale = 1,1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(47) = 6
Anim = 3519
Ownpal = 1
BindTime = 1
PosType = P1
Pos = 0,-40
Random = 1,1
Scale = 1,1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2,a]
type = Explod
trigger1 = command = "start"
anim = F100
pos = 0,-25
postype = p1
sprpriority = -9
bindtime = 1
ownpal = 1
supermove = 1
scale = .3,.3
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = command = "start"
value = 0,4
channel = 0
volume = 0
ignorehitpause = 1

[State -1,AI]
type = Varadd
trigger1 = command = "start"
persistent = 200
var(47) = 1
ignorehitpause = 1


[State 1053, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -9

[State 200, 1]
type = HitDef
trigger1 = Anim = 206
trigger1 = Time = 0
attr = S, HA
damage = 30, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 1, 10
guard.pausetime = 10,10
sparkno = 1
sparkxy = -20, -20
hitsound = s0, 34
guardsound = 6, 0 
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5,-7
airguard.velocity = -5,-7
guard.velocity = -0
air.type = Trip
air.velocity = -5,-7
air.hittime = 12
yaccel  =0.8
fall = 1
fall.recover = 0

[State 12500, 2]
type = Helper
triggerall = numhelper(635) <= 2
trigger1 = AnimElem = 5
trigger1 = var(47) = 1
helpertype = normal
name = "후라이펜"
ID = 635
pos = 35,-20
postype = P1
facing = 1
stateno = 1101
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 1052, Anim]
type = ChangeAnim
trigger1 = var(47) = 0
trigger1 = Time = 0
value = 2110

[State 440, 4]
type = ChangeState
trigger1 = var(47) = 5
value = 3520
ctrl = 0

[State 12500, 2]
type = Helper
triggerall = numhelper(4001) <= 4
triggerall = var(47) = 3
trigger1 = AnimElem = 3
trigger2 = AnimElem = 3,1
helpertype = normal
name = "테미들"
ID = 4001
pos = 23,-18
postype = P1
facing = 1
stateno = 4100
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0

[State 12500, 2]
type = Helper
triggerall = numhelper(636) <= 2
trigger1 = AnimElem = 3
trigger1 = var(47) = 2
helpertype = normal
name = "책"
ID = 636
pos = 20,-20
postype = P1
facing = 1
stateno = 637
keyctrl = 0
ownpal = 1
Size.XScale = 1.0
Size.YScale = 1.0




[State 12500, 2]
type = Helper
triggerall = numhelper(240) <= 5
trigger1 = AnimElem = 3
trigger1 = var(47) = 0
helpertype = normal
name = "장난감총"
ID = 240
pos = 23,-21
postype = P1
facing = 1
stateno = 240
keyctrl = 0
ownpal = 1
Size.XScale = 1.2
Size.YScale = 1.2

[State 12500, 2]
type = Helper
triggerall = numhelper(240) <= 2
trigger1 = AnimElem = 3
trigger1 = Anim = 3521
trigger1 = var(47) = 6
helpertype = normal
name = "막대기 한조각"
ID = 240
pos = 0,-28
postype = P1
facing = 1
stateno = 3519
keyctrl = 0
ownpal = 1
Size.XScale = 0.9
Size.YScale = 0.8

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.7,0.5

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,8
channel = 0
volume = 0

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3

[State 440, 4]
type = ChangeState
trigger1 = Pos Y < -1
trigger1 = AnimTime = 0

value = 50
ctrl = 1

[State 440, 4]
type = ChangeState
triggerall = Pos Y >= -1
trigger1 = AnimTime = 0
trigger1 = Anim != 2110
trigger2 = Anim = 2110
trigger2 = var(59) = 0
trigger2 = command != "hold_y"
trigger2 = AnimTime = 0
trigger3 = numhelper(240) > 5
trigger3 = AnimTime = 0
trigger3 = Anim = 2110
value = 0
ctrl = 1




[State 440, 4]
type = ChangeState
triggerall = Pos Y >= -1
trigger1 = AnimTime = 0
trigger1 = Anim != 2110
trigger2 = Anim = 2110
trigger2 = var(59) = 0
trigger2 = command != "hold_y"
trigger2 = AnimTime = 0
trigger3 = numhelper(240) > 5
trigger3 = AnimTime = 0
trigger3 = Anim = 2110
value = 0
ctrl = 1







;---------------------------------------------------------------------------
[Statedef 4201]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = -2
ctrl = 0

[State 7005, 1]
type = Turn
trigger1 = random < 500


[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 0, HitOverride]
type = HitOverride
trigger1 =1
attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
stateno = 4201
ignorehitpause = 1
persistent = 1

[State 440, 4]
type = ChangeState
trigger1 = prevstateno = 1101
trigger1 = Time = 0
value = 1101
ctrl = 0

[State 440, 4]
type = ChangeState
trigger1 = prevstateno != 1101
trigger1 = Time = 0
value = 637
ctrl = 0














;---------------------------------------------------------------------------
[Statedef 3519]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
Anim = 3519
sprpriority = -2
ctrl = 0

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
y = -5-random%4

[State 1053, VelSet]
type = VelSet
trigger1 = movecontact = 1
y = -4-random%4

[State 1053, VelSet]
type = Veladd
trigger1 = 1
y = .3

[State 1053, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -3-random%2

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
x = 12+random%3

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = A, NP
damage = 50, 0
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 15, 15
getpower = 15, 15
givepower = 5, 5
sparkno = 0
sparkxy = -0, -0
hitsound = s0,5
guardsound = 6, 0 
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -5,-5
airguard.velocity = -5,-5
guard.velocity = -2
air.type = High
air.velocity = -5,-5
air.hittime = 0

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,movetype = A
reversal.attr = SCA
numhits = 0
pausetime = 10,10
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,movetype != A
movetype = A

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,movetype = A
movetype = I


[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
x = 3+random%3

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State -2,a]
type = Explod
trigger1 = Vel Y > -0 && Pos Y >= -0
anim = F60
pos = 0,0
postype = p1
sprpriority = -9
bindtime = 1
ownpal = 1
supermove = 1
scale = 1,1

[State 52, 4]
type = ChangeState
triggerall = root,command = "holddown"
trigger1 = numhelper(240) = 1
trigger1 = power >= 7000
value = 4701

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.0, 1.0

[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
value = -10

[State 5100, 10]
type = PlaySnd
trigger1 = Vel Y > -0 && Pos Y >= -0
value = 0, 5

[State 0, HitOverride]
type = HitOverride
trigger1 =1
attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
stateno = 3522
ignorehitpause = 1
persistent = 1

[State 7005, 1]
type = Turn
trigger1 = random < 500
trigger1 = Vel Y > -0 && Pos Y >= -0


[State 52, 4]
type = ChangeState
trigger1 = !movecontact
trigger1 = Vel Y > -0 && Pos Y >= -0
value = 3521



[State 52, 4]
type = ChangeState
trigger1 = movecontact
trigger1 = Vel Y > -0 && Pos Y >= -0
value = 3521




;---------------------------------------------------------------------------
[Statedef 3521]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
Anim = 3519
sprpriority = -2
ctrl = 0

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
y = -5-random%4

[State 1053, VelSet]
type = VelSet
trigger1 = movecontact = 1
y = -4-random%4

[State 1053, VelSet]
type = Veladd
trigger1 = 1
y = .3

[State 1053, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -3-random%2

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
x = 12+random%3


[State 200, 1]
type = HitDef
trigger1 = Time = 30
attr = A, NP
damage = 50, 0
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 3, Hit 
pausetime = 15, 15
getpower = 15, 15
givepower = 5, 5
sparkno = 0
sparkxy = -0, -0
hitsound = s0,5
guardsound = 6, 0 
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -5,-5
airguard.velocity = -5,-5
guard.velocity = -2
air.type = High
air.velocity = -5,-5
air.hittime = 0

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,movetype = A
reversal.attr = SCA
numhits = 0
pausetime = 10,10
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,movetype != A
movetype = A

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,movetype = A
movetype = I


[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
x = 3+random%3

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State -2,a]
type = Explod
trigger1 = Vel Y > -0 && Pos Y >= -0
anim = F60
pos = 0,0
postype = p1
sprpriority = -9
bindtime = 1
ownpal = 1
supermove = 1
scale = 1,1


[State 1052, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.0, 1.0

[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
value = -10

[State 5100, 10]
type = PlaySnd
trigger1 = Vel Y > -0 && Pos Y >= -0
value = 0, 5

[State 0, HitOverride]
type = HitOverride
trigger1 =1
attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
stateno = 3522
ignorehitpause = 1
persistent = 1

[State 7005, 1]
type = Turn
trigger1 = random < 500
trigger1 = Vel Y > -0 && Pos Y >= -0

[State 52, 4]
type = ChangeState
trigger1 = !movecontact
trigger1 = Vel Y > -0 && Pos Y >= -0
value = 3519

[State 52, 4]
type = ChangeState
trigger1 = root,command = "holddown"
trigger1 = numhelper(240) = 1
trigger1 = power >= 1000
value = 4701

[State 52, 4]
type = ChangeState
trigger1 = movecontact
trigger1 = Vel Y > -0 && Pos Y >= -0
value = 3519


;---------------------------------------------------------------------------
[Statedef 3522]
Type = L
MoveType = I
Physics = N
Anim = 3522
sprpriority = 9




[State 101, Turn]
type = Turn
triggerall = random < 500
trigger1 = Time = 0



[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
trigger1 = time < 3
scale = 1.1, 1.1

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 3
trigger1 = time < 6
scale = 1.2, 1.2

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 6
trigger1 = time < 9
scale = 1.3, 1.3

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 9
trigger1 = time < 12
scale = 1.4, 1.4

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 12
trigger1 = time < 15
scale = 1.5, 1.5

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 15
trigger1 = time < 18
scale = 1.6, 1.6

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 18
trigger1 = time < 21
scale = 1.7, 1.7

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 21
trigger1 = time < 24
scale = 1.8, 1.8

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 24
trigger1 = time < 27
scale = 1.9, 1.9

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 27
scale = 2.0, 2.0

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
value = -15

[State 1053, VelSet]
type = VelSet
trigger1 = time < 15
trigger1 = time >= 0
y = -3

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = random < 500
x = ifelse (random < 500, -4, 4)

[State 1053, VelSet]
type = Veladd
trigger1 = time >= 15
y = 0.8

[State 0, Kill Helper]
type = DestroySelf
trigger1 = IsHelper = 1
trigger1 = Time = 65

[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = Time > 15
Flag = NoShadow

[State 100, 4]
type = DestroySelf
trigger1 = time > 350






;---------------------------------------------------------------------------
[Statedef 240]
type    = A
movetype= A
physics = N
juggle  = 1
anim = 240
sprpriority = -2
ctrl = 0


[State 1000, sombra]
type = AfterImage
trigger1 = AnimElem = 1
trans = add1
PalContrast =  200, 220, 100
PalBright = 50,50,50
time = -1
length  = 10
TimeGap = 1
FrameGap = 1

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
y = 1-random%3

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
x = 7+random%3

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 29
channel = 1

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = A, NP
damage = 2, 0
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 2, Hit 
pausetime = 1, 20
getpower = 5, 5
givepower = 5, 5
sparkno = 0
sparkxy = -0, -0
hitsound = s0,21
guardsound = 6, 0 
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -5,-5
airguard.velocity = -5,-5
guard.velocity = -1
air.type = High
air.velocity = -5,-5
air.hittime = 0

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,movetype = A
reversal.attr = SCA
numhits = 0
pausetime = 10,10
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,movetype != A
movetype = A

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,movetype = A
movetype = I


[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State -2,a]
type = Explod
trigger1 = Vel Y > -0 && Pos Y >= -0
anim = F60
pos = 0,0
postype = p1
sprpriority = -9
bindtime = 1
ownpal = 1
supermove = 1
scale = 1,1

[State 5100, 10]
type = PlaySnd
trigger1 = Vel Y > -0 && Pos Y >= -0
value = 0, 32

[State 0, HitOverride]
type = HitOverride
trigger1 =1
attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
stateno = 241
ignorehitpause = 1
persistent = 1

[State 52, 4]
type = ChangeState
trigger1 = Vel Y > -0 && Pos Y >= -0
trigger2 = movecontact = 1
trigger3 = time = 25
trigger4 = EnemyNear,movetype = A
trigger4 = p2dist X > -30
trigger4 = p2dist X < 30
value = 241

;---------------------------------------------------------------------------
[Statedef 241]
Type = A
MoveType = A
Physics = N
sprpriority = 9
anim = 241

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
y = 0


[State 200, 1]
type = HitDef
trigger1 = Time = 0
trigger2 = Time = 5
trigger3 = Time = 10
trigger4 = Time = 15
trigger5 = Time = 20
attr = A, NP
damage = 2, 0
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 2, Hit 
pausetime = 1, 10
getpower = 5, 5
givepower = 5, 5
sparkno = -1
sparkxy = -0, -0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -5,1
airguard.velocity = -5,1
guard.velocity = -1
air.type = High
air.velocity = -5,1
air.hittime = 0


[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,movetype = A
reversal.attr = SCA
numhits = 0
pausetime = 10,10
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,movetype != A
movetype = A

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,movetype = A
movetype = I


[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
x = 0

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F0
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F0
pos = 25,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = F0
pos = -25,0
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0


[State -2,a]
type = Explod
trigger1 = Time = 2
anim = F0
pos = 22,-4
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 2
anim = F0
pos = -22,4
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0



[State -2,a]
type = Explod
trigger1 = Time = 4
anim = F0
pos = 20,-8
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 4
anim = F0
pos = -20,8
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0


[State -2,a]
type = Explod
trigger1 = Time = 6
anim = F0
pos = 18,-10
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 6
anim = F0
pos = -18,10
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0





[State -2,a]
type = Explod
trigger1 = Time = 8
anim = F0
pos = 16,-14
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 8
anim = F0
pos = -16,14
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0





[State -2,a]
type = Explod
trigger1 = Time = 10
anim = F0
pos = 12,-17
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 10
anim = F0
pos = -12,17
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0



[State -2,a]
type = Explod
trigger1 = Time = 12
anim = F0
pos = 7,-20
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 12
anim = F0
pos = -7,20
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 14
anim = F0
pos = 0,25
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = Time = 14
anim = F0
pos = -0,-25
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0










[State 210, 1]
type = PlaySnd
trigger1 = time = 0
value = 0, 41
channel = 0
volume = 0


[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = Time > 12
Flag = NoShadow

[State 100, 4]
type = DestroySelf
trigger1 = time = 140













[Statedef 3520]
type    = A
movetype= A
physics = S
poweradd= 10
juggle  = 40
ctrl = 0
anim = 3520
sprpriority = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,23
channel = 1

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F60
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 0
scale = 1.0,1.0

[State 205, 0]
type = PalFX
trigger1 = AnimElem = 1
trigger1 = TimeMod = 2,0
time = 1
add = 150,150,150

[State 200, 1]
type = HitDef
Trigger1 =  Time = 6
attr = S, HA
damage = 50, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 3, Hit 
pausetime = 15, 15
sparkno = 2
sparkxy = -10, -13
hitsound = s0, 21
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0,-4.8
airguard.velocity = -0,-4.8
guard.velocity = -1
air.type = Low
air.velocity = -0,-4.8
air.hittime = 12
yaccel  =0.4
fall = 1
fall.recover = 0

[State 1000, 0]
type = TargetState
trigger1 = movehit = 1
trigger1 = p2movetype = H
value = 5450
persistent = 0
IgnoreHitPause = 1

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -8

[State 1000, 2]
type = ReversalDef
Trigger1 = AnimElem = 6 , >= 0
reversal.attr = SCA
numhits = 1
pausetime = 10,10
sparkno = 40
sparkxy = 10,0
hitsound = 6,0

[State 1000, 2]
type = ReversalDef
triggerall = enemy,Facing = 1 && Facing = -1 || enemy,Facing = -1 && Facing = 1
Trigger1 = AnimElem = 6 , >= 0
trigger1 = EnemyNear,HitDefAttr = SCA, SA, NP , NA , NT,HA
reversal.attr = SCA, SA, NP , NA, NT, HA
numhits = 1
pausetime = 1,1
sparkno = 40
sparkxy = 10,0
hitsound = 6,0


[State 7040,VelSet]
type = VelSet
trigger1 = AnimElem = 1
x = 14

[State 7040,VelSet]
type = VelSet
trigger1 = AnimElem = 1
y = -1

[State 1312, 2]
type = VelAdd
trigger1 = Time > 12
y = 0.5


[State 195, 1]
type = CtrlSet
trigger1 = movecontact = 1
value = 1


[State -1, OROCHI]
type = ChangeState
value = 50
triggerall = var(59) != 1
trigger1 = Vel Y > 0 && Pos Y >= 0
trigger1 = MoveHit
trigger2 = AnimTime = 0



[State 1000, 0]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
trigger2 = AnimTime = 0
value = 611















;---------------------------------------------------------------------------
[Statedef 637]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = -2
ctrl = 0

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
y = -5-random%4

[State 1053, VelSet]
type = VelSet
trigger1 = movecontact = 1
y = -4-random%4

[State 1053, VelSet]
type = Veladd
trigger1 = 1
y = .3



[State 1053, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -0-random%2




[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
x = 10+random%3

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 37
channel = 1

[State 290, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 637

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = A, NP
damage = 20, 0
animtype = Light
hitflag = MAFLD
guardflag = MAFLD
priority = 2, Hit 
pausetime = 15, 15
getpower = 5, 5
givepower = 5, 5
sparkno = 0
sparkxy = -0, -0
hitsound = s11,20
guardsound = 6, 0 
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -5,-5
airguard.velocity = -5,-5
guard.velocity = -1
air.type = High
air.velocity = -5,-5
air.hittime = 0

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,movetype = A
reversal.attr = SCA
numhits = 0
pausetime = 10,10
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,movetype != A
movetype = A

[State 5040, 4]
type = StateTypeSet
trigger1 = EnemyNear,movetype = A
movetype = I


[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
x = 3+random%3

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State -2,a]
type = Explod
trigger1 = Vel Y > -0 && Pos Y >= -0
anim = F60
pos = 0,0
postype = p1
sprpriority = -9
bindtime = 1
ownpal = 1
supermove = 1
scale = 1,1

[State 5100, 10]
type = PlaySnd
trigger1 = Vel Y > -0 && Pos Y >= -0
value = 11, 20

[State 0, HitOverride]
type = HitOverride
trigger1 =1
attr = SCA,AA,AP,HT,NT,ST, NA, SA, HA, NT, SP, NP
stateno = 1004
ignorehitpause = 1
persistent = 1

[State 52, 4]
type = ChangeState
trigger1 = Vel Y > -0 && Pos Y >= -0
value = 4201

;---------------------------------------------------------------------------
[Statedef 1004]
Type = L
MoveType = I
Physics = N
shadow = 0,0,0
sprpriority = 9

[State 210, 1]
type = PlaySnd
trigger1 = time = 0
value =11, 20
channel = 0
volume = 0


[State 101, Turn]
type = Turn
triggerall = random < 500
trigger1 = Time = 0

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 1004

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
trigger1 = time < 3
scale = 1.1, 1.1

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 3
trigger1 = time < 6
scale = 1.2, 1.2

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 6
trigger1 = time < 9
scale = 1.3, 1.3

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 9
trigger1 = time < 12
scale = 1.4, 1.4

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 12
trigger1 = time < 15
scale = 1.5, 1.5

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 15
trigger1 = time < 18
scale = 1.6, 1.6

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 18
trigger1 = time < 21
scale = 1.7, 1.7

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 21
trigger1 = time < 24
scale = 1.8, 1.8

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 24
trigger1 = time < 27
scale = 1.9, 1.9

[State 1052, AngleDraw]
type = AngleDraw
trigger1 = time >= 27
scale = 2.0, 2.0

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0

[State 1000, 0]
type = Angleadd
trigger1 = time >= 0
value = -15

[State 1053, VelSet]
type = VelSet
trigger1 = time < 15
trigger1 = time >= 0
y = -3

[State 1053, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = random < 500
x = ifelse (random < 500, -4, 4)

[State 1053, VelSet]
type = Veladd
trigger1 = time >= 15
y = 0.8

[State 0, Kill Helper]
type = DestroySelf
trigger1 = IsHelper = 1
trigger1 = Time = 65

[State 7105, AssertSpecial]
Type = AssertSpecial
Trigger1 = Time > 15
Flag = NoShadow

[State 100, 4]
type = DestroySelf
trigger1 = time > 65














































;--------------------------------------------------------------------------
;리셋

[Statedef 3500]
type = A
movetype = H
physics = N
sprpriority = 1
velset = 0,0
anim = 3512
ctrl = 0




[State 300, 2]
type = Turn
Trigger1 = Facing = -1

[State -1]
Type = Explod
trigger1 = Time = 42
Anim = 3503
Ownpal = 1
removetime = 70
BindTime = 1
PosType = P1
Pos = 10,-10
Scale = .7,.7
Vel = 5-Random%10,-3-Random%5
Accel = 0,.295
SprPriority = 5
supermove = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 42
Anim = 3503
Ownpal = 1
removetime = 70
BindTime = 1
PosType = P1
Pos = -10,-10
Scale = .7,.7
Vel = 5-Random%10,-3-Random%5
Accel = 0,.295
SprPriority = 5
supermove = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 42
Anim = 3502
Ownpal = 1
removetime = 70
BindTime = 1
PosType = P1
Pos = 10,-10
Scale = .7,.7
Vel = 5-Random%10,-3-Random%5
Accel = 0,.295
SprPriority = 5
supermove = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 42
Anim = 3502
Ownpal = 1
removetime = 70
BindTime = 1
PosType = P1
Pos = -10,-10
Random = 20,20
Scale = .7,.7
Vel = 5-Random%10,-3-Random%5
Accel = 0,.295
SprPriority = 5
supermove = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = 3501
pos = 0,-20
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 1
Scale = .7,.7

[State -2,a]
type = Explod
trigger1 = Time = 0
anim = 3500
pos = 0,-20
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 1
Scale = .7,.7

[State -2,a]
type = Explod
trigger1 = time > 75
trigger1 = Anim = 3512
anim = 3506
pos = 0,-90
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = time > 75
trigger1 = Anim = 3504
anim = 3505
pos = 0,-90
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = time > 75
trigger1 = Anim = 3512
anim = 3507
pos = 0,-90
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = time > 75
trigger1 = Anim = 3504
anim = 3508
pos = 0,-90
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 1.0,1.0

[State -2,a]
type = Explod
trigger1 = time > 75
anim = 3510
pos = 0,-80
postype = p1
velocity = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
supermove = 1
scale = 7.0,0.5


[State 00];
type = BGPalfx
trigger1 = time = [0,75]
ignorehitpause = 1
time = 1
mul = 0,0,0
under = 2

[State 2000]
type = AssertSpecial
trigger1 = time = [0,75]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1



[State 805, Anim2]
type = ChangeAnim
triggerall = time > 75
triggerall = Anim = 3504
triggerall = AnimElem = 2 , >= 0
trigger1 = command = "holdback"
trigger2 = command = "holdfwd"
value = 3512

[State 805, Anim2]
type = ChangeAnim
triggerall = time > 75
triggerall = Anim = 3512
triggerall = AnimElem = 2 , >= 0
trigger1 = command = "holdback"
trigger2 = command = "holdfwd"
value = 3504

[State 210, 1]
type = PlaySnd
trigger1 = time = 0
value = 0, 55
channel = 2

[State 210, 1]
type = PlaySnd
trigger1 = time = 40
value = 0, 56
channel = 2

[State 210, 1]
type = PlaySnd
triggerall = time > 75
triggerall = AnimElem = 2 , >= 0
trigger1 = command = "holdback"
trigger2 = command = "holdfwd"
value = 0, 52
channel = 3

[State 1313, 2]
type = VelSet
trigger1 = Time >= 50
y = 0

[State 1313, 1]
type = PosSet
trigger1 = Time >= 50
y = 0

[State 210, 1]
type = PlaySnd
triggerall = Anim = 3512
triggerall = time > 75
trigger1 = command = "a"
trigger2 = command = "x"
value = 0, 54
channel = 7

[State 210, 1]
type = PlaySnd
triggerall = Anim = 3504
triggerall = time > 75
trigger1 = command = "a"
trigger2 = command = "x"
value = 0, 56
channel = 7

[State -1,AI]
type = Varadd
triggerall = var(59) = 1
trigger1 = time = 75
var(51) = 1

[State 3210, 3]
type = lifeadd
trigger1 = time = 75
value = 9000

[State 3210, 3]
type = lifeadd
triggerall = var(59) = 0
triggerall = Anim = 3504
triggerall = time > 75
trigger1 = command = "a"
trigger2 = command = "x"
value = -9000

[State 5150, 12]
type = ChangeState
trigger1 = RoundState = 3
trigger1 = Life <= 0
value = 5100

[State 52, 4]
type = ChangeState
triggerall = var(59) = 0
triggerall = Anim = 3504
triggerall = time > 75
trigger1 = command = "a"
trigger2 = command = "x"
value = 5150

[State 52, 4]
type = ChangeState
triggerall = var(59) = 0
triggerall = Anim = 3512
triggerall = time > 75
trigger1 = command = "a"
trigger2 = command = "x"
value = 50

[State 805, Anim2]
type = ChangeAnim
trigger1 = var(59) != 0
trigger1 = time = 85
value = 3504

[State 210, 1]
type = PlaySnd
trigger1 = var(59) != 0
trigger1 = time = 80
trigger2 = var(59) != 0
trigger2 = time = 100
value = 0, 53
channel = 7

[State 210, 1]
type = PlaySnd
trigger1 = var(59) != 0
trigger1 = time = 120
value = 0, 54
channel = 7

[State 805, Anim2]
type = ChangeAnim
trigger1 = var(59) != 0
trigger1 = time = 100
value = 3512

[State -2,a]
type = Explod
triggerall = time > 50
trigger1 = TimeMod = 10,0
anim = 15500
pos = 0,-35
postype = p1
velocity = 0,0
sprpriority = 2
bindtime = 1
ownpal = 1
supermove = 1
scale = 1.0,1.0

[State 52, 4]
type = ChangeState
trigger1 = var(59) != 0
trigger1 = time = 120
value = 50

































;---------------------------------------------------------------------------
;자비 앵클 브레이크
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle  = 25
anim = 1500
ctrl = 0


[State 805, Anim2]
type = ChangeState
Trigger1 = Time >= 10
trigger1 = command = "y"
value = 50
ignorehitpause = 1

[State 805, Anim2]
type = ChangeState
trigger1 = command = "start"
value = 50
ignorehitpause = 1

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3

[State 1005, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 0,10
channel = 0
volume = 0

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 240, 2]
type = HitDef
Trigger1 = Time = 0
attr = S, NT
animtype  = Medium
damage    = 10
hitflag = MAFLD
priority = 1, Miss
guardflag = 
pausetime = 1,1
sparkno = -1
sparkxy = -10,-7
hitsound   = S0,53
guardsound = -1
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -0,-2
guard.velocity = 0
air.velocity = -0,-2.5
numhits = 0
kill = 0
p2facing = 1

[State 1000, 0]
type = TargetState
trigger1 = movehit = 1
value = 1512
persistent = 1
IgnoreHitPause = 1

[State 400, State]
type = ChangeState
trigger1 = Target, StateNo != 1512
trigger1 = movehit = 1
value = 0
ctrl = 1

[State 2533, ChangeState]
type = ChangeState
triggerall = p2movetype = H
trigger1 = MoveHit
value = 1511

[State -2,a]
type = Explod
trigger1 = animelem = 1
anim = F60
pos = 25,0
postype = p1
sprpriority = -2
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.8,0.5


[State -2,10]
type = Explod
trigger1 = Time = 0
trigger1 = numExplod(300) <= 0
ID = 300
anim = 1501
postype = P1
pos = IfElse(Facing = 1, -118, 118),0
sprpriority = 10
removetime = 165
BindTime = -1
ownpal = 1
scale = 1.0,1.0
facing = IfElse(Facing = 1, 1, -1)
IgnoreHitPause = 1

[State -2,10]
type = Explod
trigger1 = Time = 0
trigger1 = numExplod(301) <= 0
ID = 301
anim = 3511
postype = P1
pos = IfElse(Facing = 1, -118, 118),-3
removetime = 165
BindTime = -1
sprpriority = 9
ownpal = 1
scale = 0.8,0.5
facing = IfElse(Facing = 1, 1, -1)
IgnoreHitPause = 1






[State 210, 1]
type = PlaySnd
trigger1 = TimeMod = 3,0
trigger1 = Time < 50
value = 0, 59


[State 800, State]
type = ChangeState
trigger1 = Time = 150
value = 0
ctrl = 1

;--------------------------------------------------------------------------
[Statedef 1512]
type = A
movetype = H
physics = N
sprpriority = 1
velset = 0,0

[State 800, State]
type = ChangeState
triggerall = time >= 5
trigger1 = Command = "holdback"
trigger2 = Command = "holdfwd"
trigger3 = var(59) = 1
trigger3 = random = [729,999]
value = 1513



[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
time = 1
add = 250,200,0




[State 1520, 1]
type = NotHitBy
trigger1 =1
value = SCA
time = 1

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3


[State 805, Anim2]
type = ChangeAnim
trigger1 = Anim != 0
value = 0

[State 1320, State]
type = Selfstate
trigger1 = time = 10
trigger2 = RoundState != 2
value = 50
ctrl = 1




[State 1320, State]
type = ChangeState
triggerall = time >= 1
trigger1 = Command = "a" 
trigger2 = Command = "b"
trigger3 = Command = "c" 
trigger4 = Command = "x"
trigger5 = Command = "y"
trigger6 = Command = "z"
trigger7 = var(59) = 1
trigger7 = random = [929,999]
value = 5150
ctrl = 0






;--------------------------------------------------------------------------
[Statedef 1513]
type = A
movetype = H
physics = N
sprpriority = 1
velset = 0,0

[State 205, 0]
type = PalFX
trigger1 = TimeMod = 3,0
time = 1
add = 250,200,0

[State 800, State]
type = ChangeState
triggerall = time >= 5
trigger1 = Command = "holdfwd"
trigger2 = Command = "holdback"
trigger3 = var(59) = 1
trigger3 = random = [729,999]
value = 1512
ctrl = 1

[State 1520, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0


[State 805, Anim2]
type = ChangeAnim
trigger1 = Anim != 0
value = 0

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3

[State 1320, State]
type = Selfstate
trigger1 = time = 10
trigger2 = RoundState != 2
value = 50
ctrl = 1

[State 1320, State]
type = Selfstate
triggerall = time >= 1
trigger1 = Command = "a" 
trigger2 = Command = "b"
trigger3 = Command = "c" 
trigger4 = Command = "x"
trigger5 = Command = "y"
trigger6 = Command = "z"
trigger7 = var(59) = 1
trigger7 = random = [929,999]
value = 50
ctrl = 1
















[Statedef 1511]
type = A
movetype = I
physics = S
sprpriority = 0
ctrl = 0

[State 210, 1]
type = PlaySnd
trigger1 = Target, StateNo = 5150
value = 0, 11

[State -2,10]
type = Explod
trigger1 = Target, StateNo = 1512
anim = 1504
postype = P1
pos = IfElse(Facing = 1, 59, 59),-75
removetime = 1
sprpriority = 10
ownpal = 1
scale = 0.5,0.5
facing = IfElse(Facing = 1, 1, -1)
IgnoreHitPause = 1



[State -2,10]
type = Explod
trigger1 = Target, StateNo = 1513
anim = 1503
postype = P1
pos = IfElse(Facing = 1, 59, 59),-75
removetime = 1
sprpriority = 10
ownpal = 1
scale = 0.5,0.5
facing = IfElse(Facing = 1, 1, -1)
IgnoreHitPause = 1


[State -2,10]
type = Explod
trigger1 = Target, StateNo = 1512
anim = 1502
postype = P1
pos = IfElse(Facing = 1, 0, 0),-75
removetime = 1
sprpriority = 9
ownpal = 1
scale = 0.5,0.5
facing = IfElse(Facing = 1, 1, -1)
IgnoreHitPause = 1

[State -2,10]
type = Explod
trigger1 = Target, StateNo = 1513
anim = 1510
postype = P1
pos = IfElse(Facing = 1, 0, 0),-75
removetime = 1
sprpriority = 9
ownpal = 1
scale = 0.5,0.5
facing = IfElse(Facing = 1, 1, -1)
IgnoreHitPause = 1






[State 1000, 0]
type = TargetState
trigger1 = Target, StateNo = 1513
trigger1 = TimeMod = 7,0
value = 1513
persistent = 1
IgnoreHitPause = 1

[State 1000, 0]
type = TargetState
trigger1 = Target, StateNo = 1512
trigger1 = TimeMod = 7,0
value = 1512
persistent = 1
IgnoreHitPause = 1

[State 1052, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 1511


[State 100, 0]
type = ChangeState
trigger1 = Target, StateNo = 5150
value = 50

[State 100, 0]
type = ChangeState
trigger1 = Target, StateNo != 1512
trigger1 = Target, StateNo != 1513
trigger1 = Target, StateNo != 5150
value = 5100


[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .3

[State 10, 0]
type = ChangeAnim
trigger1 = movehit=1
trigger1 = Anim = 1511
trigger1 = Anim != 1511
value = 1511

;[State 19999, 6]
;type = Posset
;trigger1 = Target, StateNo != 7512
;trigger1 = Anim = 7511
;X = target,Pos X
;Y = target,Pos Y

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,1

[State 2201, 2]
type = PlayerPush
trigger1 = 1
value = 0


[State 800, State]
type = ChangeState
trigger1 = time >= 200
value = 0
ctrl = 1
















[Statedef 1550]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
anim = 1550
sprpriority = 1

[State -2,a]
type = Explod
trigger1 = AnimElem = 1
anim = F65
pos = 0,0
postype = p1
velocity = 0,0
sprpriority = -3
bindtime = 1
ownpal = 1
supermove = 0
scale = 0.6,0.4

;Controllable jump.
[State 50, MoveFwd]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdfwd"
X = 2

[State 50, MoveBack]
type = VelSet
triggerall = Alive
trigger1 = Command = "holdback"
X = -2

;Don't move.
[State 50, VelCancel]
type = VelMul
triggerall = Alive
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Vel X != 0
X = IfElse(Abs(Vel X) > 0.3, fvar(3), 0)


[State 2201, 2]
type = PlayerPush
trigger1 = vel X > 2
value = 0

[State 7040,VelSet]
type = VelSet
trigger1 = vel X > 2
trigger1 = Time = 0
persistent = 200
x = 11
y = 0

[State 7040,VelSet]
type = VelSet
trigger1 = Time = 0
trigger1 = Pos Y <= -1
persistent = 200
y = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,8
channel = 0
volume = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,8
channel = 3
volume = 0


[State 210, 1]
type = PlaySnd
trigger1 = MoveHit = 1
value = 0, 121
channel = 3

[State 200, 1]
type = HitDef
trigger1 = TimeMod = 6,0
trigger1 = Time < 55
attr = A, NP
damage = 10, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
givepower        = 20, 20
pausetime = 1, 1
sparkno = 0
sparkxy = -20+random%20, -30+random%20
hitsound = -1
guardsound = -1
ground.type = Low
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = ifelse (P2Dist X <= 25, -0, 0), 0
airguard.velocity = ifelse (P2Dist X <= 25, -0, 0),-1
air.type = Low
air.velocity = ifelse (P2Dist X <= 25, -0, 0), -1
down.velocity = ifelse (P2Dist X <= 25, -0, 0), 0
air.hittime = 5
p2facing = ifelse (P2Dist X <= 0, -1, 1)
air.hittime = 5
yaccel  =0.6
numhits = 3

[State 200, 1]
type = HitDef
trigger1 = Time = 55
attr = S, NP
damage = 20, 0
animtype = Light
hitflag = MAFLDP
guardflag = MAFLDP
priority = 2, Hit 
givepower        = 25, 25
pausetime = 1, 1
sparkno = 1
sparkxy = -10, -20
hitsound = -1
guardsound = -1
ground.type = Low
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = ifelse (P2Dist X <= 25, -5, -5), -3.3
airguard.velocity = ifelse (P2Dist X <= 25, -5, -5),-3.3
air.type = Low
air.velocity = ifelse (P2Dist X <= 25, -5, -5), -3.3
down.velocity = ifelse (P2Dist X <= 25, -5, -5), -3.3
air.hittime = 5
p2facing = ifelse (P2Dist X <= 0, -1, 1)
air.hittime = 5
yaccel  =0.4
numhits = 2

[State 1000, 2]
type = ReversalDef
trigger1 = AnimElem = 2 , < 0
reversal.attr = SCA, NP
numhits = 1
pausetime = 3,3
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State 1313, 2]
type = VelSet
trigger1 = MoveReversed = 1
Trigger1 = enemy,stateno != [250,255]
trigger2 = p2MoveType = A
trigger2 = movehit = 1
Trigger2 = enemy,stateno != [250,255]
trigger3 = movecontact = 1 && !movehit
x = -8

[State 1000, 2]
type = ReversalDef
trigger1 = EnemyNear,HitDefAttr = SCA, NP
reversal.attr = SCA, NP
numhits = 1
pausetime = 1,1
sparkno = 40
sparkxy = 0,0
hitsound = 6,0

[State -2, StopSuckSound]
type = StopSnd
trigger1 = EnemyNear,HitDefAttr = SCA, NP
channel = 3

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = Time > 58
value = 50
ctrl = 1

[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .1














[Statedef 3999]
type    = A
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3999
ctrl = 0
sprpriority = 2
poweradd = -6000

[State -2,a]
type = Explod
trigger1 = Time = 20
anim = F100
pos = 0,-15
postype = p1
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = 1
persistent = 0
scale = 1,1

[State -2,a]
type = Explod
trigger1 = Time = 10
anim = F102
pos = 0,-15
postype = p1
sprpriority = 9
supermove = 1
ownpal = 1
bindtime = 1
persistent = 0
scale = 1,1

[State 3050, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 89

[State 2420,5]
type = SuperPause
trigger1 = Time = 1
time = 30
anim = -1
p2defmul = 1
movetime = 30
darken = 0

[State 2000]
type = AssertSpecial
trigger1 = time = [0,30]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 170, 뼰밎]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 00];
type = BGPalfx
trigger1 = 1
ignorehitpause = 1
time = 5
mul = 0,0,0
under = 2

[State 3050, 2]
type = HitDef
trigger1 = Time = 0
affectteam = B
attr = S, HA
animtype  = Up               ;Make p2 use "Up" type animation on hit
damage    = 0, 75
getpower  = 0
priority  = 5
hitflag = MAFLD
guardflag = 
pausetime = 0,100
sparkno = 3
sparkxy = 0,-110
hitsound   = -1
ground.type = Low
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = -1.3,-25
guard.velocity = -11
air.velocity = -1.3,-25
airguard.velocity = -4.5,-5
envshake.time = 25
envshake.ampl = 7
envshake.freq = 176
yaccel = .8


[State 30, 6]
type = VelSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 30, 6]
type = VelAdd
trigger1 = Pos Y < -1
y = .4


[State 3050, 4]
type = ChangeState
trigger1 = MoveHit
value = 3998

[State 1313, 2]
type = VelSet
trigger1 = Time > 30
x = 2

[State 3050, 5]
type = ChangeState
trigger1 = Time > 110
value = 50
ctrl = 1






0






;---------------------------------------------------------------------------
[Statedef 3998];차라까꿍
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 6000
ctrl = 0
anim = 3998
sprpriority = -5




[State 00];
type = BGPalfx
trigger1 = 1
ignorehitpause = 1
time = 5
mul = 0,0,0
under = 2

[State 2601, EnvShake]
type = EnvShake
trigger1 = Time = 50
time = 40
ampl = -15
ignorehitpause = 1

State 1520, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 610, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0, 88
channel = 0

[State 610, 2]
type = PlaySnd
trigger1 = Time = 50
value = 0, 87
channel = 0


[State -2,a]
type = Explod
trigger1 = time < 50
anim = 3994
pos = 0,0
postype = Back
sprpriority = 4900
removetime = 2
Vel = 0,0
Accel = 0,.0
bindtime = 1
ownpal = 0
supermove = 1
scale = 11.0,11.0

[State -2,a]
type = Explod
trigger1 = time < 50
trigger1 = TimeMod = 4,0
anim = 3996
pos = 0,0
postype = Back
sprpriority = 5000
removetime = 2
Vel = 0,0
Accel = 0,.0
bindtime = 1
ownpal = 0
supermove = 1
scale = 11.0,11.0

[State -2,a]
type = Explod
trigger1 = Time = 0
id = 4403
anim = 3990
pos = 160,130
postype = Back
sprpriority = 5001
removetime = -1
Vel = 0,0
Accel = 0,.0
bindtime = 1
ownpal = 0
supermove = 1
scale = 0.0,0.0

[State 3050, 2]
type = HitDef
trigger1 = Time = 0
attr = S, HA
animtype  = Up 
damage    = 9999999, 9999999
affectteam = B
getpower  = 0
priority  = 5
hitflag = MAFLDP
guardflag = 
pausetime = 1,25
sparkno = 2
sparkxy = 0,-25
hitsound   = s0,87
ground.type = Low
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = -1.3,2
guard.velocity = -11
air.velocity = -1.3,2
airguard.velocity = -4.5,2
yaccel  =0.4
fall = 1
fall.recover = 0
numhits = 9999999


[State 290, Explod]
type = ModifyExplod
trigger1 = time > 0
trigger1 = time < 2
ontop = 1
scale = 1, 1
id = 4403


[State 290, Explod]
type = ModifyExplod
trigger1 = time > 2
trigger1 = time < 4
ontop = 1
scale = 1.5, 1.5
id = 4403


[State 290, Explod]
type = ModifyExplod
trigger1 = time > 4
trigger1 = time < 6
ontop = 1
scale = 2.0, 2.0
id = 4403




[State 290, Explod]
type = ModifyExplod
trigger1 = time > 6
trigger1 = time < 8
ontop = 1
scale = 2.5, 2.5
id = 4403


[State 290, Explod]
type = ModifyExplod
trigger1 = time > 8
trigger1 = time < 10
ontop = 1
scale = 3.0, 3.0
id = 4403






[State 290, Explod]
type = ModifyExplod
trigger1 = time > 10
trigger1 = time < 12
ontop = 1
scale = 3.5, 3.5
id = 4403


[State 290, Explod]
type = ModifyExplod
trigger1 = time > 12
trigger1 = time < 14
ontop = 1
scale = 4.0, 4.0
id = 4403



[State 290, Explod]
type = ModifyExplod
trigger1 = time > 14
trigger1 = time < 16
ontop = 1
scale = 4.5, 4.5
id = 4403


[State 290, Explod]
type = ModifyExplod
trigger1 = time > 16
trigger1 = time < 18
ontop = 1
scale = 5.0, 5.0
id = 4403



[State 290, Explod]
type = ModifyExplod
trigger1 = time > 18
trigger1 = time < 20
ontop = 1
scale = 5.5, 5.5
id = 4403


[State 290, Explod]
type = ModifyExplod
trigger1 = time > 20
trigger1 = time < 22
ontop = 1
scale = 6.0, 6.0
id = 4403




[State 290, Explod]
type = ModifyExplod
trigger1 = time > 22
trigger1 = time < 24
ontop = 1
scale = 6.5, 6.5
id = 4403




[State 290, Explod]
type = ModifyExplod
trigger1 = time > 24
trigger1 = time < 26
ontop = 1
scale = 7.0, 7.0
id = 4403


[State 290, Explod]
type = ModifyExplod
trigger1 = time > 26
trigger1 = time < 28
ontop = 1
scale = 7.5, 7.5
id = 4403


[State 290, Explod]
type = ModifyExplod
trigger1 = time > 28
trigger1 = time < 30
ontop = 1
scale = 8.0, 8.0
id = 4403



[State 290, Explod]
type = ModifyExplod
trigger1 = time > 30
trigger1 = time < 32
ontop = 1
scale = 8.5, 8.5
id = 4403



[State 290, Explod]
type = ModifyExplod
trigger1 = time > 32
trigger1 = time < 34
ontop = 1
scale = 9.0, 9.0
id = 4403



[State 290, Explod]
type = ModifyExplod
trigger1 = time > 34
trigger1 = time < 36
ontop = 1
scale = 8.5, 8.5
id = 4403

[State 290, Explod]
type = ModifyExplod
trigger1 = time > 36
ontop = 1
scale = 9.0, 9.0
id = 4403



[State 3000, 0]
type = Palfx
trigger1 = time > 0
trigger1 = time < 3
time = 2
mul = 55, 55, 55

[State 3000, 0]
type = Palfx
trigger1 = time > 3
trigger1 = time < 6
time = 2
mul = 85, 85, 85


[State 3000, 0]
type = Palfx
trigger1 = time > 6
trigger1 = time < 9
time = 2
mul = 101, 115, 115

[State 3000, 0]
type = Palfx
trigger1 = time > 9
trigger1 = time < 12
time = 2
mul = 151, 155, 155

[State 3000, 0]
type = Palfx
trigger1 = time > 12
trigger1 = time < 15
time = 2
mul = 181, 185, 185


[State 3000, 0]
type = Palfx
trigger1 = time > 15
trigger1 = time < 18
time = 2
mul = 211, 215, 215

[State 3000, 0]
type = Palfx
trigger1 = time > 18
time = 2
mul = 251, 255, 255



[State 290, Explod]
type = RemoveExplod
trigger1 = time >= 50
id = 4403


[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 20100, 0]
type = ChangeState
trigger1 = time > 70
value = 50

[State 00];
type = BGPalfx
trigger1 = 1
ignorehitpause = 1
time = 5
mul = 0,0,0
under = 2

[State 1313, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1313, 2]
type = VelSet
trigger1 = AnimElem = 1
x = 0


























