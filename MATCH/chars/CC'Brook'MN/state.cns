; Constants and state file.
; There are comments scattered through this file, so you may like to
; take a look if would like to learn more about the cns.

[Data]
life = 1000			;Amount of life to start with
power = 3000		;Amount of maximum power
attack = 100		;attack power (more is stronger)
defence = 100		;defensive power (more is stronger)
fall.defence_up = 50	;Percentage to increase defense everytime player is knocked down
liedown.time = 50		;Time which player lies down for, before getting up
airjuggle = 5		;Number of points for juggling
sparkno = 2			;Default hit spark number for HitDefs
guard.sparkno = 40	;Default guard spark number
KO.echo = 0			;1 to enable echo on KO
volume = 0			;Volume offset (negative for softer)
IntPersistIndex = 60	;Variables with this index and above will not have their values
FloatPersistIndex = 40  ;reset to 0 between rounds or matches. There are 60 int variables,
  				;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
  				;If omitted, then it defaults to 60 and 40 for integer and float
  				;variables repectively, meaning that none are persistent, i.e. all
  				;are reset. If you want your variables to persist between matches,
  				;you need to override state 5900 from common1.cns.
[Size]
xscale = 1			;Horizontal scaling factor.
yscale = 1			;Vertical scaling factor.
ground.back = 15		;Player width (back, ground)
ground.front = 16		;Player width (front, ground)
air.back = 12		;Player width (back, air)
air.front = 12		;Player width (front, air)
height = 60			;Height of player (for opponent to jump over)
attack.dist = 160		;Default attack distance
proj.attack.dist = 90	;Default attack distance for projectiles
proj.doscale = 0		;Set to 1 to scale projectiles too
head.pos = -5, -90	;Approximate position of head
mid.pos = -5, -60		;Approximate position of midsection
shadowoffset = 0		;Number of pixels to vertically offset the shadow
draw.offset = 0,0		;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 3.4+ifelse(var(23)=1,5,0)		;Walk forward
walk.back = -3.2+ifelse(var(23)=1,2,0)		;Walk backward
run.fwd  = 15, 0		;Run forward (x, y)
run.back = -6.5,-3.8	;Hop backward (x, y)
jump.neu = 0,-6.4		;Neutral jumping velocity (x, y)
jump.back = -2.55		;Jump back Speed (x, y)
jump.fwd = 2.5		;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1;Running jump speeds (opt)
runjump.fwd = 4,-8.1	;.
airjump.neu = 0,-6.1	;.
airjump.back = -2.55	;Air jump speeds (opt)
airjump.fwd = 2.5		;.

[Movement]
airjump.num = 1		;Number of air jumps allowed (opt)
airjump.height = 0	;Minimum distance from ground before you can air jump (opt)
yaccel = .35		;Vertical acceleration
stand.friction = .85	;Friction coefficient when standing
crouch.friction = .82	;Friction coefficient when crouching
;-------------------------------------------------------------------------------
[Statedef 5900]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = roundno = 1
trigger1 = facing = -1
value = 192

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = roundno = 1
value = 191

[State 180, 1]
type = ChangeState
trigger1 = roundno > 1
value = 0
;-------------------------------------------------------------------------------
; Intro1
[Statedef 191]
type = S
ctrl = 0
anim = 5900
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = Time = 10
v = 4    ;fv = 10
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, Explod]
type = Explod
trigger1 = timemod = 80,0
trigger1 = var(4)=1
anim = 1011
ID = 1011
pos = 0+random%20,120+random%20
postype = left
facing = 1
vfacing = 1
bindtime = 1
vel = 1,0
removetime = -2
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0, Explod]
type = Explod
trigger1 = timemod = 60,0
trigger1 = var(4)=1
anim = 1012
ID = 1012
pos = 0+random%30,100+random%20
postype = left
facing = 1
vfacing = 1
bindtime = 1
vel = 1,0
removetime = -2
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0, Explod]
type = Explod
trigger1 = timemod = 100,0
trigger1 = var(4)=1
anim = 1013
ID = 1013
pos = 0+random%10,150+random%20
postype = left
facing = 1
vfacing = 1
bindtime = 1
vel = 1,0
removetime = -2
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[state 20, 0]
type = playsnd
trigger1= animelem =1
value = S1,6
volume = 1
channel = 8

[state 20, 0]
type = playsnd
trigger1= animelem =13
value = S1,1
volume = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = facing = -1
trigger1 = enemy,stateno!=0
value = 5900
elem = 1

[state 20, 0]
type = playsnd
trigger1= animelem =15
value = S1,7
volume = 1

[State 0, VarSet]
type = VarSet
trigger1 = Time = 580
v = 4
value = 0


[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = !Animtime
value = 0
;-------------------------------------------------------------------------------
; Intro2
[Statedef 192]
type = S
ctrl = 0
anim = 5901
velset = 0,0

[state 20, 0]
type = playsnd
trigger1= animelem =5
value = S1,8
volume = 1

[state 20, 0]
type = playsnd
trigger1= animelem =2
value = S2,2
volume = 1


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = facing = -1
trigger1 = enemy,stateno!=0
value = 5901
elem = 1

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = !Animtime
value = 0
;-------------------------------------------------------------------------------
; Pre Win
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181
;-------------------------------------------------------------------------------
;Win
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S2,17
volume = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2= nomusic

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <730
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;-------------------------------------------------------------------------------
; Lose
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,14

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;-------------------------------------------------------------------------------
;Air Dash Fwd
[Statedef 112]
type    = A
physics = N
ctrl    = 0
anim    = 112
sprpriority = 1


[State 100, Dash]
type = Explod
trigger1 = !Time
anim = 1001
id = 1001
pos = -40,-75
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 100, Dash]
type = Explod
trigger1 = !Time
anim = 1001
id = 1001
pos = -25,-55
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 100, Dash]
type = Explod
trigger1 = !Time
anim = 1001
id = 1001
pos = -25,-35
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0, Turn]
type = Turn
trigger1 = animelem=3
trigger1 = p2bodydist x<0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,3
volume = 300

[State 110, 0]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 6
freq = 90
ampl = -4
phase = 90

[State -3, AfterImage]
type = AfterImage
trigger1= animelem = 2
trigger1=var(23)!=1
time = 2
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 10,10,10
palmul = .75,.65,.65
timegap = 1
framegap = 1
trans = addalpha
alpha=128,256

[State 110, 0]
Type = AfterImageTime
trigger1 = animelemtime(2) >= 1 && animelem = 4,<0
trigger1=var(23)!=1
time = 2

[State 110, 0]
Type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 110, 0]
Type = VelSet
trigger1 = animelem = 2
x = 18
y=3

[State 110, 0]
Type = VelSet
trigger1 = animelemtime(3) = 1
y=-1


[State 110, 0]
Type = Velmul
trigger1 = animelemtime(3) >= 1 && time< 18
x = .82

[state 110, 0]
Type = statetypeset
trigger1 = animelem = 3
physics = A

[state 110, 0]
Type = ctrlset
trigger1 = abs(vel x)<8
trigger1 = animelem=2,>1
value = 1
;Air Dash Back
[Statedef 113]
type    = A
physics = N
ctrl    = 0
anim    = 112
sprpriority = 1

[State 110, 0]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,3
volume = 300

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 6
freq = 90
ampl = -4
phase = 90

[State 100, Dash]
type = Explod
trigger1 = !Time
anim = 1001
id = 1001
pos = 40,-75
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 100, Dash]
type = Explod
trigger1 = !Time
anim = 1001
id = 1001
pos = 25,-55
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 100, Dash]
type = Explod
trigger1 = !Time
anim = 1001
id = 1001
pos = 25,-35
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999


[State -3, AfterImage]
type = AfterImage
trigger1 = animelem = 2
trigger1=var(23)!=1
time = 2
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 10,10,10
palmul = .75,.65,.65
timegap = 1
framegap = 1
trans = addalpha
alpha=128,256


[State 110, 0]
Type = AfterImageTime
trigger1 = animelemtime(2) >= 1 && animelem = 4,<0
trigger1=var(23)!=1
time = 6


[State 110, 0]
Type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 110, 0]
Type = VelSet
trigger1 = animelem = 2
x = -15
y=-2

[State 110, 0]
Type = Velmul
trigger1 = animelemtime(3) >= 1 && time< 18
x = .76

[state 110, 0]
Type = statetypeset
trigger1 = animelem = 3
physics = A

[state 110, 0]
Type = ctrlset
trigger1 = abs(vel x)<5
trigger1 = animelem=2,>1
value = 1
;---------------------------------------------------------------------------
;hit 1
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 200
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-20
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1]
type = Explod
trigger1 = animelem = 3
anim =1007
id = 1007
pos =40,3
vel = -2,0
scale = 0.2,0.2
ontop = 1
supermovetime = 9999999
pausemovetime = 9999999

[state 200, 0]
type = playsnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = s1,17
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,9
volume = -1
channel = 7

[State 0, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 7

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -10,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4


[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = 8
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 361
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 201
sprpriority = 2

[State 201, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------- ---
;Polka Remise Combo
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 220
sprpriority = 2

[State 1]
type = Explod
trigger1 = animelem = 2
anim =1007
id = 1007
pos =40,3
vel = -2,0
scale = 0.3,0.1
ontop = 1

[STATE 220, 1]
type = velset
trigger1 = animelem = 1
x = 5

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 221
ctrl = 1

[Statedef 221]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 221
sprpriority = -2

[State -3, moveshadow]
type=afterimage
trigger1=time=1
trigger1=var(23)!=1
time=20
timegap=1
framegap=1
length=6
palbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
palcontrast=120,120,120
palpostbright=0,0,0
trans=add1
persistent=0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8104
stateno = 8104
pos = -7,-30+(-random%30)
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4

[state 210,0]
type = playsnd
trigger1 = !time
value = S2,1
volume = 1

[state 210,0]
type = playsnd
trigger1 = !time
value = S1,11
volume = 1
channel = 5

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-30+random%30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.4,0.4
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 211, 1]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
damage = 5+fvar(9),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,5
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
getpower = 8
givepower = 0
guardsound = 6, 0
sprpriority = -2
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 211, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
damage = 6,0
animtype = hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,5
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
sprpriority = -2
getpower = 8
givepower = 0
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 211, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 5,0
animtype = hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,5
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
sprpriority = 2
guardsound = 6, 0
getpower = 8
givepower = 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 211, 1]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
damage = 6+fvar(9),0
animtype = medium
air.animtype = medium
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,5
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
getpower = 8
givepower = 0
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
sprpriority = 2
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 211, 1]
type = HitDef
trigger1 = animelem= 5
attr = S, NA
damage = 5,0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,5
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
getpower = 8
givepower = 0
sprpriority = -2
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 211, 5]
type = ChangeState
trigger1 = Time = 60
value = 222
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 222]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 222
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -10,-30
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4

[State 211, 1]
type = HitDef
trigger1 = animelem= 1
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
getpower = 8
givepower = 0
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -2,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
fall = 1
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[state 210,0]
type = playsnd
trigger1 = animelem = 5
value = S1,12
volume = 1

[State 212, 5]
type = ChangeState
trigger1 = AnimTime = 0
value =0
ctrl = 1
;-------------------------------------------------------------------------------
;Hit 2
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 210
sprpriority = 2

[State 0, Varset]
type = Varset
trigger1 =  animelem = 1
v = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,10
volume = 1

[State 210, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 12+fvar(9)+fvar(10),0
animtype = hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
getpower = 8
givepower = 0
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-15
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -10,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 211
ctrl = 1

;hit 3
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 211
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,10
volume = 1

[State 211, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
getpower = 8
givepower = 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,15
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -8,-20
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4

[State 211, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 212
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 212]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 212
sprpriority = 2

[State 212, 5]
type = ChangeState
trigger1 = AnimTime = 0
value =0
ctrl = 1
;Cavoote Band Avant (in run)
[Statedef 230]
type    = S
movetype= A
physics = s
juggle  = 4
ctrl = 0
anim = 230
sprpriority = -1

[State 1]
type = Explod
trigger1 = Time =0
anim =1007
id = 1007
pos =5,3
vel = 2,0
scale = 0.4,0.2
ontop = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 100, Dash]
type = Explod
trigger1 = !Time
trigger1 = var(1)= 0
anim = 1001
id = 1001
pos = -30,-45
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 100, Dash]
type = Explod
trigger1 = !Time
trigger1 = var(1)= 0
anim = 1001
id = 1001
pos = -40,-15
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State -3, moveshadow]
type=afterimage
trigger1=time=1
trigger1=var(23)!=1
time=10
timegap=1
framegap=1
length=6
palbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
palcontrast=120,120,120
palpostbright=0,0,0
trans=add1
persistent=0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,3
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,13
volume = 1

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 40+fvar(9)+fvar(10),0
animtype = hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,10
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
getpower = 8
givepower = 0
hitsound = S1,15
sprpriority = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -5,-2
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -3,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
fall = 1
envshake.time = 6
envshake.freq = 120
envshake.ampl = 2*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -10,-30
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10, 0
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 5

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 231
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 231]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 231
sprpriority = 2

[State 0, Varadd]
type = Varadd
trigger1 =  animelem = 1
v = 1
value = 0

[State 231, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;hit 4
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 240
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -30,-60
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-35
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype =Hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = 8
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[state 200, 0]
type = playsnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = s1,17
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,9
volume = -1
channel = 7

[State 0, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 241
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 241
sprpriority = 2

[State 241, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Hit 2
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 210
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-15
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,10
volume = 1

[State 210, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 12+fvar(9)+fvar(10),0
animtype = hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = 8
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -10,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 211
ctrl = 1
;hit 3
[Statedef 251]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 211
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,10
volume = 1

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,15
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 211, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
getpower = 8
givepower = 0
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -8,-20
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4

[State 211, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 252
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 252]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 212
sprpriority = 2

[State 212, 5]
type = ChangeState
trigger1 = AnimTime = 0
value =0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 260
sprpriority = 2

[State 260, 5]
type = ChangeState
trigger1 = AnimTime = 0
value =261
ctrl = 1

[Statedef 261]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 261
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 1
y = -1

[State 0, Explod]
type = Explod
trigger1 = TIme = 3
anim =1009
pos = 0,5
scale = .3,.3
ontop = 1
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 261, 5]
type = ChangeState
trigger1 = Time = 5
value =262
ctrl = 1

[Statedef 262]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 262
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,4
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,9
volume = 1

[state 200, 0]
type = playsnd
trigger1 = movehit = 1
trigger1 = target,time=0
trigger1 = animelem = 3
value = s1,18
volume = 1


[State -3, moveshadow]
type=afterimage
trigger1=time=1
trigger1=var(23)!=1
time=20
timegap=1
framegap=1
length=6
palbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
palcontrast=120,120,120
palpostbright=0,0,0
trans=add1
persistent=0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8104
stateno = 8104
pos = -7,-30+(-random%30)
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.8
size.yscale = 0.8

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Dust"
ID = 1066
stateno = 1066
pos = 0,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
supermove
pausemove
size.xscale =1.2
size.yscale =.9

[State 200, 1]
type = HitDef
trigger1 = timemod = 1,0
attr = S, NA
damage = (5+fvar(9))/2,0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
getpower = 8
givepower = 0
guard.sparkno = 111111111111111111111111111111
ground.type = high
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = 3,-2
airguard.velocity = -3,-1
air.type = high
air.velocity = -1,-2
air.hittime = 12
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.1

[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 1
y = -1

[State 263, 5]
type = ChangeState
trigger1 = Time = 60
value =263
ctrl = 1

[Statedef 263]
type    = a
movetype= A
physics = a
juggle  = 1
velset = 0,0
ctrl = 0
anim = 263
sprpriority = 2

[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
getpower = 8
givepower = 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -3,-8
airguard.velocity = -3,-8
air.type = low
air.velocity = -1,-3
air.hittime = 12
p2facing = ifelse(facing = -1,1,1)
fall = 1
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4


[State 263, 5]
type = ChangeState
trigger1 = animTime = 0
value =42
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 270]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 270
sprpriority = 2

[State 1]
type = Explod
trigger1 = animelem = 3
anim =1007
id = 1007
pos =20,3
vel = 3,0
scale = 0.4,0.2
facing = -1
ontop = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = 0,-40
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype =Hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
getpower = 8
givepower = 0
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[state 200, 0]
type = playsnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = s1,17
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,9
volume = -1
channel = 7

[State 0, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 271
ctrl = 1

[Statedef 271]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 271
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 4
x = -2

[State 241, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 280]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 280
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Dust"
ID = 1067
stateno = 1067
pos = 0,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
supermove
pausemove
size.xscale =1.6
size.yscale =.6

[State 1]
type = Explod
trigger1 = TimeMod = 3,0
anim =1007
id = 1007
pos =5,3
vel = -2,0
scale = 0.2,0.2
ontop = 1
supermovetime = 9999999
pausemovetime = 9999999

[State -3, moveshadow]
type=afterimage
trigger1=time=1
trigger1=var(23)!=1
time=20
timegap=1
framegap=1
length=6
palbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
palcontrast=120,120,120
palpostbright=0,0,0
trans=add1
persistent=0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8104
stateno = 8104
pos = -7,-30+(-random%30)
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,9
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,13
volume = 1

[state 200, 0]
type = playsnd
trigger1 = movehit = 1
trigger1 = target,time=0
trigger1 = animelem = 4
value = s1,18
volume = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 1,0
attr = S, NA
damage = (5+fvar(9))/2,0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
getpower = 8
givepower = 0
guard.sparkno = 111111111111111111111111111111
ground.type = high
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = 3,0
airguard.velocity = -3,-1
air.type = high
air.velocity = -1,-3
air.hittime = 12
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-30+random%40
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 280, 5]
type = ChangeState
trigger1 = Time = 60
value = 281
ctrl = 1

[Statedef 281]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 281
sprpriority = 2

[State 281, 5]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 290]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 290
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 1
value = 0

[State 281, 5]
type = ChangeState
trigger1 = animTime = 0
value = 291
ctrl = 1

[Statedef 291]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 291
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,20
volume = 1

[State 1]
type = Explod
trigger1 = TimeMod = 3,0
anim =1007
id = 1007
pos =5,3
vel = -2,0
scale = 0.4,0.2
ontop = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 100, Dash]
type = Explod
trigger1 = !Time
trigger1 = var(1)= 0
anim = 1001
id = 1001
pos = -20,-55
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 100, Dash]
type = Explod
trigger1 = !Time
trigger1 = var(1)= 0
anim = 1001
id = 1001
pos = -40,-15
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 200, 1]
type = HitDef
trigger1 = time=0
attr = S, NA
damage = 0,0
animtype = medium
air.animtype = medium
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,15
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = high
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = high
air.velocity = -1,-3
air.hittime = 12
p1getp2facing = -1
getpower = 8
givepower = 0
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4
p2stateno = 294

[State 0, Explod]
type = Explod
trigger1 = movehit= 1
trigger1 = target,time = 0
anim = 1058
pos = -5,-50
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.4,0.4
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-20
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2    ;fv = 10
value = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 0


[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 10

[State 200, 5]
type = ChangeState
trigger1 = movehit
trigger1 = time = 10
value = 292
ctrl = 1

[State 200, 5]
type = ChangeState
trigger1 = Time = 15
value = 0
ctrl = 1

[State 291, 5]
type = ChangeState
trigger1 = time = 15
value = 292
ctrl = 1

[Statedef 292]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 292
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,12
volume = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = var(2)=1
helpertype = normal ;player
name = "Yahazu_Giri"
ID = 293
stateno = 293
pos = enemy, pos x = 0,enemy, pos y -34
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = var(2) = 1
value = S2,5
volume = 1


[State 292, 5]
type = ChangeState
trigger1 = animtime = 0
value = 296
ctrl = 1


[Statedef 293]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 293
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8104
stateno = 8104
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 2
size.yscale = 2

[State 7000, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 100+fvar(9)+fvar(10),0
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -10, -76
guard.sparkno = -1
hitsound = s1, 19
ground.type = High
numhits = 0
ground.slidetime = 5
ground.hittime  = 12
getpower = 8
givepower = 0
ground.velocity = -0,0
guard.velocity = -5
airguard.velocity = -1.9,-3
air.type = High
air.velocity = -0,-10
fall = 1
fall.recover = 0
air.hittime = 12
p2stateno = 295
yaccel = 0.8

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10
;-------------------------------------------------------------------------------
[Statedef 294]
type    = S
movetype= H
physics = N
velset = 0,0

[State 0, PosFreeze]
type = PosFreeze
trigger1 =  1
value = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5022

[State 0, SelfState]
type = SelfState
trigger1 = time = 50
value = 5050


[Statedef 295]
type    = A
movetype= H
physics = N
velset = 0,-15

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = .8

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1 + (55*time)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5050

[State 0, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 296]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 296
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 2    ;fv = 10
value = 0


[State 292, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 290
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 1
value = 0

[State 281, 5]
type = ChangeState
trigger1 = animTime = 0
value = 301
ctrl = 1

[Statedef 301]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 291
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,20
volume = 1

[State 1]
type = Explod
trigger1 = TimeMod = 3,0
anim =1007
id = 1007
pos =5,3
vel = -2,0
scale = 0.4,0.2
ontop = 1

[State 100, Dash]
type = Explod
trigger1 = !Time
trigger1 = var(1)= 0
anim = 1001
id = 1001
pos = -20,-55
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1

[State 100, Dash]
type = Explod
trigger1 = !Time
trigger1 = var(1)= 0
anim = 1001
id = 1001
pos = -40,-15
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 0


[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 10

[State 200, 5]
type = ChangeState
trigger1 = time = 10
value = 0
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 302]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 302
sprpriority = 2

[state 200, 0]
type = playsnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = s1,17
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,9
volume = -1
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,7
volume = 1


[State 0, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 7

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -10,-40
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4


[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
getpower = 8
givepower = 0
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,2
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = -1
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4
fall = 1

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-20
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 303
ctrl = 1

[Statedef 303]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 303
sprpriority = 2


[State 303, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 310]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 310
sprpriority = 2


[State 310, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 311
ctrl = 1

[Statedef 311]
type    = S
movetype= A
physics = s
juggle  = 4
ctrl = 0
anim = 311
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,9
volume = -1

[State -3, moveshadow]
type=afterimage
trigger1=time=1
trigger1=var(23)!=1
time=10
timegap=1
framegap=1
length=6
palbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
palcontrast=120,120,120
palpostbright=0,0,0
trans=add1
persistent=0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 20+fvar(9)+fvar(10),0
animtype = hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,10
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,17
sprpriority = -1
guardsound = 6, 0
getpower = 8
givepower = 0
guard.sparkno = 111111111111111111111111111111
ground.type = high
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,-3
airguard.velocity = -.5,-.3
air.type = high
air.velocity = -1,-3
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 6
envshake.freq = 120
envshake.ampl = 2*ifelse(random<500,1,-1)
envshake.phase = 90

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-20
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -10,-30
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.6
size.yscale = 0.6

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 8

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 312
ctrl = 1

[Statedef 312]
type    = S
movetype= A
physics = s
juggle  = 4
ctrl = 0
anim = 312
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,10
volume = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,12
volume = 1

[State -3, moveshadow]
type=afterimage
trigger1=time=1
trigger1=var(23)!=1
time=10
timegap=1
framegap=1
length=6
palbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
palcontrast=120,120,120
palpostbright=0,0,0
trans=add1
persistent=0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,10
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,13
getpower = 8
givepower = 0
sprpriority = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = high
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -5,-3
airguard.velocity = -.5,-.3
air.type = high
air.velocity = -5,-3
air.hittime = 12
fall.animtype  = back
fall = 1
p2facing = ifelse(facing = -1,1,1)
envshake.time = 6
envshake.freq = 120
envshake.ampl = 2*ifelse(random<500,1,-1)
envshake.phase = 90

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-20
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -10,-30
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 7

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 313
ctrl = 1

[Statedef 313]
type    = a
movetype= A
physics = a
juggle  = 1
velset = 0,0
ctrl = 0
anim = 313
sprpriority = 2


[State 310, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 42
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 320]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 320
sprpriority = 2

[State 320, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 321
ctrl = 1

[Statedef 321]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 321
sprpriority = -1

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 1010
ID = 1010
pos = 0,-80
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 20
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
removeongethit = 1

[State -3, moveshadow]
type=afterimage
trigger1=time=1
trigger1=var(23)!=1
time=10
timegap=1
framegap=1
length=6
palbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
palcontrast=120,120,120
palpostbright=0,0,0
trans=add1
persistent=0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,6
volume = 1



[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 4,0
value = S1,10
volume = 1

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 40+fvar(9)+fvar(10),0
animtype = hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,15
getpower = 8
givepower = 0
sprpriority = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,6
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1,6
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
fall = 1
envshake.time = 6
envshake.freq = 120
envshake.ampl = 2*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.7

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-50
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -10,-30
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999

[State 0, VarSet]
type = VarSet
trigger1 =!time
v = 3
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 10

[State 321, 0]
Type = changestate
trigger1 = Pos y = 0
value = 322
;-------------------------------------------------------------------------------
[Statedef 330]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 330
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 1
value = 0

[State 281, 5]
type = ChangeState
trigger1 = animtime = 0
value = 331
ctrl = 1

[Statedef 331]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 331
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,20
volume = 1

[State 100, Dash]
type = Explod
trigger1 = !Time
trigger1 = var(1)= 0
anim = 1001
id = 1001
pos = -20,-75
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1

[State 100, Dash]
type = Explod
trigger1 = !Time
trigger1 = var(1)= 0
anim = 1001
id = 1001
pos = -40,-35
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1

[State 200, 1]
type = HitDef
trigger1 = time=0
attr = S, NA
damage = 0,0
animtype = medium
air.animtype = medium
affectteam = E
guardflag = M
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,15
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = high
ground.slidetime = 20
getpower = 8
givepower = 0
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = high
air.velocity = -1,-3
air.hittime = 20
p1getp2facing = -1
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4
p2stateno = 294

[State 0, Explod]
type = Explod
trigger1 = movehit= 1
trigger1 = target,time = 0
anim = 1058
pos = -5,-50
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.4,0.4
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-25
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, VarSet]
type = VarSet
trigger1 = movehit = 1
v = 2    ;fv = 10
value = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 10

[State 200, 5]
type = ChangeState
trigger1 = movehit
trigger1 = time = 10
value = 332
ctrl = 0

[State 200, 5]
type = ChangeState
trigger1 = Time = 12
value = 50
ctrl = 1

[Statedef 332]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 332
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,12
volume = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = var(2)=1
helpertype = normal ;player
name = "Yahazu_Giri_air"
ID = 293
stateno = 293
pos = enemy, pos x = 0,enemy, pos y = -30
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = var(2) = 1
value = S2,5
volume = 1


[State 292, 5]
type = ChangeState
trigger1 = animtime = 0
value = 333
ctrl = 1

[Statedef 333]
type    = a
movetype= A
physics = a
juggle  = 1
velset = 0,0
ctrl = 0
anim = 333
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 2    ;fv = 10
value = 0


[State 310, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 42
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 340]
type=C
physics=C
movetype=I
anim=340
velset=0
ctrl=0
sprpriority=-1

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 1    ;fv = 10
value = 0

[State 1]
type = Explod
trigger1 = TimeMod = 3,0
anim =1007
id = 1007
pos =5,3
vel = -2,0
scale = 0.4,0.2
ontop = 1

[State 100, Dash]
type = Explod
trigger1 = !Time
trigger1 = var(1)= 0
anim = 1001
id = 1001
pos = -0,-45
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1

[State 100, Dash]
type = Explod
trigger1 = !Time
trigger1 = var(1)= 0
anim = 1001
id = 1001
pos = -20,-15
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1

[State -3, moveshadow]
type=afterimage
trigger1=time=1
trigger1=var(23)!=1
time=10
timegap=1
framegap=4
length=9
palbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
palcontrast=120,120,120
palpostbright=0,0,0
trans=add1
persistent=0


[State 340, vel]
type=velset
trigger1=animelemtime(1)>=0&&animelemtime(3)<0
x=20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,22
volume = 1

[State 340, push]
type=playerpush
trigger1=1
value=0

[State 340, hb]
type=hitby
trigger1=animelemtime(3)<0
value=SCA,AT
time=1


[State 340, end]
type=changestate
trigger1=!animtime
value=0
ctrl=1
;-------------------------------------------------------------------------------
[StateDef 350]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = numexplod(1023)=0
trigger1 = var(7)=1
trigger1 = time>45
anim = 1023
ID = 1023
pos = ifelse(teamside = 1, 45, 275),80
postype = left
facing = ifelse (facing=1,1,1)
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.2,0.2
ontop = 1
ownpal = 1
size.height=facing
sprpriority = 10
supermove=9999
pausemove=9999


[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 1003
id = 1003
pos = 5,-55
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = 1,1
sprpriority = 3
ontop = 1
ownpal = 1
supermove=9999
pausemove=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S2,8
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S1,12
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S1,23
volume = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 10
time = 20
freq = 40
ampl = -2
phase = 90

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1


[State 0, Explod]
type = Explod
trigger1 = animelem = 9
anim = 1015
ID = 1015
pos = 8,13
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 1016
ID = 1016
pos = 5,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1017
ID = 1017
pos = 5,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = 0.3,0.3
sprpriority = 3
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 10
anim = 1018
ID = 1018
pos = 5,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
supermove=9999
pausemove=9999

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 6
v = 7
value = 1

[State 350, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[StateDef 351]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 351
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1003
id = 1003
pos = 5,-55
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = 1,1
sprpriority = 3
ontop = 1
ownpal = 1
supermove=9999
pausemove=9999

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 5
v = 7
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,24
volume = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1019
ID = 1019
pos = 5,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
supermove=9999
pausemove=9999

[State 350, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 360]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 360
sprpriority = 2

[State 1]
type = Explod
trigger1 = animelem = 3
anim =1007
id = 1007
pos =40,3
vel = -2,0
scale = 0.2,0.2
ontop = 1
supermove=9999
pausemove=9999

[State 1000, Explod]
type = Explod
trigger1 = Movehit = 1
trigger1 = target,time = 0
anim = 1021
ID = 1021
pos = 5,-40
postype = p2
removetime = -2
scale = .25,.25
ownpal = 1
sprpriority = 3
supermove=9999
pausemove=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,9
volume = -1
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = S1,26
volume = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 7

[State 200, 1]
type = HitDef
triggerall = p2stateno !=370
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = Heavy
air.animtype = heavy
affectteam = E
guardflag = MA
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = -5
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
p2stateno = 370

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1054
pos = 10,-15
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 700, Helper]
type = Helper
trigger1 = Movehit = 1
helpertype = Normal
ID = 380
name = "Frost"
postype = p1
stateno = 380
ownpal = 1
supermove=9999
pausemove=9999

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = NumTarget
trigger1 = MoveHit = 1
value = floor(ifelse(70 * fvar(5500) < 7, -10, -70 * fvar(5500)))
kill = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 201
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 361]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 361
sprpriority = 2

[State 361, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 370]
type    = U
movetype= I
physics = s
velset = 0,0
sprpriority = -1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = NumTarget
trigger2 = time<120
value = floor(ifelse(70 * fvar(5500) < 7, -1, -70 * fvar(5500)))

[State 0, PalFX]
type = PalFX
trigger1 = !(time%1)
time = 1
ignorehitpause = 1
add = 70,70,250
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0
ignorehitpause = 0
persistent = 1

[State 0, 1]
type = ChangeAnim
Trigger1 = 1
value = anim
elem = animelemno(0)

[State 0, SelfState]
type = SelfState
triggerall = statetype = S
trigger1 = life = 0
value = 5050

[State 0, SelfState]
type = SelfState
triggerall = statetype = A
trigger1 = life = 0
value = 5050

[State 0, SelfState]
type = SelfState
triggerall = statetype != A && alive
Trigger1 = time = 120
ctrl = 1
value = 0

[State 4003, SelfState]
type = SelfState
triggerall = statetype = A
Trigger1 = time = 120
value = 5050
;-------------------------------------------------------------------------------
[Statedef 380]
type    = A
movetype= A
physics = N
poweradd= 0
anim = 380
ctrl = 0
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1031
ID = 1032
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+60
postype = p2
bindtime = 1
random = 0,0
removetime = -2
scale = .3,.5
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim = 1022
ID = 1031
pos = 0+random%15,-50+random%20
postype = p2
bindtime = 1
vel = 0,-5
random = 0,0
removetime = -2
scale = .2,.2
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
anim = 1022
ID = 1031
pos = 0+random%15,-20+random%20
postype = p2
bindtime = 1
vel = 0,-5
random = 0,0
removetime = -2
scale = .1,.1
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 10133, PlaySnd]
type = PlaySnd
trigger1 = time = 120 && p2stateno = 370
value = S1,25

[State 10133, Explod]
type = Explod
trigger1 = time = 120
trigger1 = p2stateno = 370
triggerall = p2statetype !=A
anim = 1020
id = 1020
Postype = p2
facing = 1
pos = -80,-80
scale = .5,.5
random = 0,0
sprpriority = 2
ownpal = 1
supermove=9999
pausemove=9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 370
id = 1031

[State 10133, 0]
type = destroyself
trigger1 = time = 120
trigger1 = p2stateno = 370
trigger2 = p2life = 0
;-------------------------------------------------------------------------------
[Statedef 390]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 270
sprpriority = 2

[State 1]
type = Explod
trigger1 = animelem = 3
anim =1007
id = 1007
pos =20,3
vel = 3,0
scale = 0.4,0.2
facing = -1
ontop = 1
supermove=9999
pausemove=9999

[State 1000, Explod]
type = Explod
trigger1 = Movehit = 1
trigger1 = target,time = 0
anim = 1021
ID = 1021
pos = 5,-40
postype = p2
removetime = -2
scale = .25,.25
ownpal = 1
sprpriority = 3
supermove=9999
pausemove=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = S1,26
volume = 1

[State 200, 1]
type = HitDef
triggerall = p2stateno !=370
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = Heavy
air.animtype = heavy
affectteam = E
guardflag = MA
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = -5
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
p2stateno = 370

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1054
pos = 10,-20
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,9
volume = -1
channel = 7

[State 700, Helper]
type = Helper
trigger1 = Movehit = 1
helpertype = Normal
ID = 380
name = "Frost"
postype = p1
stateno = 380
ownpal = 1
supermove=9999
pausemove=9999

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = NumTarget
trigger1 = MoveHit = 1
value = floor(ifelse(70 * fvar(5500) < 7, -15, -70 * fvar(5500)))
kill = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 391
ctrl = 1

[Statedef 391]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 271
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 4
x = -2

[State 241, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 400]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 400
sprpriority = 2

[State 700, Helper]
type = Helper
trigger1 = Movehit = 1
helpertype = Normal
ID = 380
name = "Frost"
postype = p1
stateno = 380
ownpal = 1
supermove=9999
pausemove=9999

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = NumTarget
trigger1 = MoveHit = 1
value = floor(ifelse(70 * fvar(5500) < 7, -9, -70 * fvar(5500)))
kill = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,10
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = S1,26
volume = 1


[State 200, 1]
type = HitDef
triggerall = p2stateno !=370
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = Heavy
air.animtype = heavy
affectteam = E
guardflag = MA
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = -5
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
p2stateno = 370

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1054
pos = 10,25
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1000, Explod]
type = Explod
trigger1 = Movehit = 1
trigger1 = target,time = 0
anim = 1021
ID = 1021
pos = 5,-40
postype = p2
removetime = -2
scale = .25,.25
ownpal = 1
sprpriority = 3
supermove=9999
pausemove=9999

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 401
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 401]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 212
sprpriority = 2

[State 212, 5]
type = ChangeState
trigger1 = AnimTime = 0
value =0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 410]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 410
sprpriority = 2

[State 1]
type = Explod
trigger1 = animelem = 2
anim =1007
id = 1007
pos =40,3
vel = -2,0
scale = 0.4,0.2
ontop = 1

[State 1000, Explod]
type = Explod
trigger1 = Movehit = 1
trigger1 = target,time = 0
anim = 1021
ID = 1021
pos = 5,-40
postype = p2
removetime = -2
scale = .25,.25
ownpal = 1
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = S1,26
volume = 1

[State 200, 1]
type = HitDef
triggerall = p2stateno !=370
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = Heavy
air.animtype = heavy
affectteam = E
guardflag = MA
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = -5
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
p2stateno = 370

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1054
pos = 10,0
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,9
volume = -1
channel = 7

[State 700, Helper]
type = Helper
trigger1 = Movehit = 1
helpertype = Normal
ID = 380
name = "Frost"
postype = p1
stateno = 380
ownpal = 1
supermove=9999
pausemove=9999

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = NumTarget
trigger1 = MoveHit = 1
value = floor(ifelse(70 * fvar(5500) < 7, -15, -70 * fvar(5500)))
kill = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 420]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 230
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 5

[State 1]
type = Explod
trigger1 = animelem = 2
anim =1007
id = 1007
pos =60,3
vel = -2,0
scale = 0.5,0.2
ontop = 1
supermove=9999
pausemove=9999

[State 1000, Explod]
type = Explod
trigger1 = Movehit = 1
trigger1 = target,time = 0
anim = 1021
ID = 1021
pos = 5,-40
postype = p2
removetime = -2
scale = .25,.25
ownpal = 1
sprpriority = 3
supermove=9999
pausemove=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = S1,26
volume = 1

[State 200, 1]
type = HitDef
triggerall = p2stateno !=370
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = Heavy
air.animtype = heavy
affectteam = E
guardflag = MA
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = -5
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
p2stateno = 370

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1054
pos = 10,5
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,13
volume = 1


[State 700, Helper]
type = Helper
trigger1 = Movehit = 1
helpertype = Normal
ID = 380
name = "Frost"
postype = p1
stateno = 380
ownpal = 1
supermove=9999
pausemove=9999

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = NumTarget
trigger1 = MoveHit = 1
value = floor(ifelse(70 * fvar(5500) < 7, -15, -70 * fvar(5500)))
kill = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 421
ctrl = 1

[Statedef 421]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 231
sprpriority = 2

[State 231, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 430]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 240
sprpriority = 2

[State 1000, Explod]
type = Explod
trigger1 = Movehit = 1
trigger1 = target,time = 0
anim = 1021
ID = 1021
pos = 5,-40
postype = p2
removetime = -2
scale = .25,.25
ownpal = 1
sprpriority = 3
supermove=9999
pausemove=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = S1,26
volume = 1

[State 200, 1]
type = HitDef
triggerall = p2stateno !=370
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = Heavy
air.animtype = heavy
affectteam = E
guardflag = MA
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = -5
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
p2stateno = 370

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1054
pos = 10,-25
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,9
volume = -1
channel = 7

[State 700, Helper]
type = Helper
trigger1 = Movehit = 1
helpertype = Normal
ID = 380
name = "Frost"
postype = p1
stateno = 380
ownpal = 1
supermove=9999
pausemove=9999

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = NumTarget
trigger1 = MoveHit = 1
value = floor(ifelse(70 * fvar(5500) < 7, -15, -70 * fvar(5500)))
kill = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 241
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 440]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 310
sprpriority = 2


[State 310, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 441
ctrl = 1

[Statedef 441]
type    = S
movetype= A
physics = s
juggle  = 4
ctrl = 0
anim = 311
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,9
volume = -1

[State -3, moveshadow]
type=afterimage
trigger1=time=1
trigger1=var(23)!=1
time=10
timegap=1
framegap=1
length=6
palbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
palcontrast=120,120,120
palpostbright=0,0,0
trans=add1
persistent=0

[State 200, 1]
type = HitDef
triggerall = p2stateno !=370
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = Heavy
air.animtype = heavy
affectteam = E
guardflag = MA
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = -5
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
p2stateno = 370

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1054
pos = 10,0
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1000, Explod]
type = Explod
trigger1 = Movehit = 1
trigger1 = target,time = 0
anim = 1021
ID = 1021
pos = 5,-40
postype = p2
removetime = -2
scale = .25,.25
ownpal = 1
sprpriority = 3
supermove=9999
pausemove=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = S1,26
volume = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = NumTarget
trigger1 = MoveHit = 1
value = floor(ifelse(70 * fvar(5500) < 7, -15, -70 * fvar(5500)))
kill = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 8

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 442
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 442]
type    = a
movetype= A
physics = a
juggle  = 1
velset = 0,0
ctrl = 0
anim = 313
sprpriority = 2


[State 310, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 42
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 450]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 450
sprpriority = 2


[State 310, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 451
ctrl = 1

[Statedef 451]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 451
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,9
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S1,27
volume = -1

[State 0, Explod]
type = Explod
trigger1 = numexplod(1050)=0
trigger1 = var(9)=1
anim = 1048
ID = 1050
pos = ifelse(teamside = 1, 55, 265),80
postype = left
facing = ifelse (facing=1,1,1)
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.2,0.2
ontop = 1
ownpal = 1
size.height=facing
sprpriority = -9
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
trigger1 = numexplod(1046)=0
anim = 1044
ID = 1046
pos = ifelse(teamside = 1, 20, 275),220
postype = left
facing = ifelse (facing=1,1,1)
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.2,0.2
ontop = 1
ownpal = 1
size.height=facing
sprpriority = 9
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = var(18)!=2
trigger1 = var(18)!=3
trigger1 = var(18)=1
trigger1 = numexplod(1047)=0
anim = 1045
ID = 1047
pos = ifelse(teamside = 1, 49, 304),220
postype = left
facing = ifelse (facing=1,1,1)
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.2,0.2
ontop = 1
ownpal = 1
size.height=facing
sprpriority = 9
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = var(18)!=1
trigger1 = var(18)!=3
trigger1 = var(18)=2
trigger1 = numexplod(1048)=0
anim = 1046
ID = 1048
pos = ifelse(teamside = 1, 49, 304),220
postype = left
facing = ifelse (facing=1,1,1)
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.2,0.2
ontop = 1
ownpal = 1
size.height=facing
sprpriority = 9
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = var(18)!=2
trigger1 = var(18)!=1
trigger1 = var(18)=3
trigger1 = numexplod(1049)=0
anim = 1047
ID = 1049
pos = ifelse(teamside = 1,49, 304),220
postype = left
facing = ifelse (facing=1,1,1)
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.2,0.2
ontop = 1
ownpal = 1
size.height=facing
sprpriority = 9
supermove=9999
pausemove=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 1049
scale =0.2,0.2-fvar(8)
supermove=9999
pausemove=9999

[State 0, VarSet]
type = VarSet
trigger1 = !time
fv = 8
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 8
value = 0.004

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 1025
id = 1025
pos = -10,-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = .1,.1
sprpriority = 3
ontop = 1
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 1026
id = 1026
pos = 0,-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = .4,.4
sprpriority = 3
ontop = 1
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 1027
id = 1027
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "Hit spark1"
ID = 8105
stateno = 8105
pos = -10,-45
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.1
size.yscale = 0.1


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 20
v = 9
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = !time
v = 18
value = 1

[State 310, 5]
type = ChangeState
trigger1 = Time = 50
value = 452
ctrl = 1

[Statedef 452]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 450
sprpriority = 2


[State 452, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 460]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = ifelse(var(21)=1,460,465)
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 1040
ID = 1043
pos = 10+(ifelse(var(21)=1,0,-10)),-30
postype = p1
facing = ifelse (facing=1,1,-1)
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.01,0.01
sprpriority = 20
ownpal =1
supermove=9999
pausemove=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 1043
scale =0.07+fvar(1),0.07+fvar(1)
supermove=9999
pausemove=9999

[State 0, VarSet]
type = VarSet
trigger1 = !time
fv = 1
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 1
value = 0.005


[State 0, VarRandom]
type = VarRandom
trigger1 = !time
v = 12
range = 1,3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "Hit spark1"
ID = 8105
stateno = 8105
pos = 5,-30
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.2
size.yscale = 0.2
supermove=9999
pausemove=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,8
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,2
volume = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = var(12) = 1 || 0
helpertype = normal ;player
name = "Sonet 1"
ID = 1011
stateno = 1011
pos = 5,-30
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale =0.1
size.yscale =0.1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = var(12) = 2 || 0
helpertype = normal ;player
name = "Sonet 2"
ID = 1012
stateno = ifelse(numhelper(1012)=0,1012,1013)
pos = 5,-30
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale =0.1
size.yscale =0.1
supermove=9999
pausemove=9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = var(12) = 3 || 0
helpertype = normal ;player
name = "Sonet 3"
ID = 1013
stateno = 1013
pos = 5,-30
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale =0.1
size.yscale =0.1
supermove=9999
pausemove=9999

[State 460, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 461
ctrl = 1

[Statedef 461]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = ifelse(var(21)=1,461,466)
sprpriority = 2


[State 460, 5]
type = ChangeState
trigger1 = Time = 20
value = 462
ctrl = 1

[Statedef 462]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =ifelse(var(21)=1,462,467)
sprpriority = 2


[State 460, 5]
type = ChangeState
trigger1 = animTime =0
value = 0
ctrl = 1

;===============================================================================
;Sonet  1
[Statedef 1011]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1011
sprpriority = 10
poweradd = -250

[State 0, Helper]
type = Helper
trigger1 = Movehit = 1
trigger1 = target,time = 0
trigger1 = numhelper(10112)=ifelse (p2stateno = 10111, 0,1)
helpertype = Normal
ID = 10112
pos = 0,0
name = "Timer"
postype = p1
stateno = 10112
ownpal = 1
supermove=9999
pausemove=9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
x =time%2*1

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
trigger1 = target,time = 0
anim = 1030
ID = 1030
pos = 0,-30
postype = p2
facing = ifelse (facing=1,-1,1)
vfacing = 1
bindtime = 1
vel = 0,-1
removetime = 50
scale = .2,.2
sprpriority = 20
ownpal =1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
trigger1 = target,time = 0
anim = 1026
ID = 1026
pos = 0,-60
postype = p2
facing = ifelse (facing=1,-1,1)
vfacing = 1
bindtime = -2
vel = 0,0
removetime = 40
scale = 0.2,0.2
sprpriority = 20
ownpal =1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
trigger1 = target,time = 0
anim = 1060
ID = 1062
pos = 0,-50
postype = p2
facing = 1
vfacing = 1
bindtime = 1
vel = 0,1
removetime = 40
scale = 0.8,0.8
sprpriority = 20
ownpal =1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
trigger1 = target,time = 0
anim = 1011
ID = 1011
pos = 0,0
postype = p1
facing = ifelse (facing=1,1,-1)
vfacing = 1
bindtime = -1
vel = 0,0
removetime = -2
scale = 0.15,0.15
sprpriority = 10
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
trigger1 = target,time = 0
anim = 1043
ID = 1046
pos = -3,11
postype = p1
facing = ifelse (facing=1,1,-1)
vfacing = 1
bindtime = -1
vel = 0,0
removetime = -2
scale = 0.15,0.15
sprpriority = 10
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
trigger1 = target,time = 0
anim = 1043
ID = 1046
pos = 0,-8
postype = p1
facing = ifelse (facing=1,1,-1)
vfacing = 1
bindtime = -1
vel = 0,0
removetime = -2
scale = 0.15,0.15
sprpriority = 10
ownpal = 1
supermove=9999
pausemove=9999

[State 200, 1]
type = HitDef
triggerall = p2stateno!=10111
triggerall = p2stateno!=370
triggerall = p2stateno!=654
triggerall = var(16)!=1
trigger1 = numhelper(10121)!=1
trigger1 = numhelper(10132)!=1
trigger1 = numhelper(10135)!=1
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = light
air.animtype = light
affectteam = E
guardflag = MA
hitflag = MAF
priority = 5,hit
pausetime = 0,0
sprpriority = 10
getpower = 0
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,35
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = low
air.velocity = 0,0
air.hittime = 20
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
p2stateno = 10111

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1055
pos = 25,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime

;-------------------------------------------------------------------------------
;Sonet  1 - activation
[Statedef 10111]
type    = U
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 0
sprpriority = 10

;power eater
[State 0, Power Eater]
type = powerAdd
trigger1 = NumTarget
trigger2 = time<360
value = floor(ifelse(70 * fvar(12) < 7, -3, -70 * fvar(12)))
;===============================================================================
;Control States
[State 0, Random Anim]
type = VarRandom
trigger1 = 1
trigger1 = command != "holdback"
trigger1 = command != "holdfwd"
trigger1 = command != "holddown"
trigger1 = command != "holdup"
v = 13
range = 1,2

[State 0, Random Command]
type = VarRandom
trigger1 = 1
trigger1 = command != "holdback"
trigger1 = command != "holdfwd"
trigger1 = command != "holddown"
trigger1 = command != "holdup"
v = 14
range = 1,3
;===============================================================================
;Confuse Stetes
[State 0, 1]
type = ChangeAnim
triggerall= ifelse(var(13)=1,(vel x > 0),(vel x < 0))
trigger1 = command = "holddown"
trigger1 = var(14) = 1
trigger1 = Anim != ifelse(var(13)=1,20,21) && Anim != 5
trigger2 = Anim = ifelse(var(13)=1,20,21) && AnimTime = 0
value = ifelse(var(13)=1,20,21)

[State 0, 2]
type = ChangeAnim
triggerall= ifelse(var(13)=1,(vel x > 0),(vel x < 0))
trigger1 = command = "holddown"
trigger1 = var(14) = 2
trigger1 = Anim != ifelse(var(13)=1,100,21) && Anim != 5
trigger2 = Anim = ifelse(var(13)=1,100,21) && AnimTime = 0
value = ifelse(var(13)=1,100,21)

[State 0, 3]
type = ChangeAnim
triggerall= ifelse(var(13)=1,(vel x > 0),(vel x = 0))
trigger1 = command = "holddown"
trigger1 = var(14) = 3
trigger1 = Anim != ifelse(var(13)=1,20,11) && Anim != 5
trigger2 = Anim = ifelse(var(13)=1,20,11) && AnimTime = 0
value = ifelse(var(13)=1,20,11)

[State 0, 4]
type = ChangeAnim
triggerall= ifelse(var(13)=1,(vel x < 0),(vel x > 0))
trigger1 = command = "holdup"
trigger1 = var(14) = 1
trigger1 = Anim != ifelse(var(13)=1,21,20) && Anim != 5
trigger2 = Anim = ifelse(var(13)=1,21,20) && AnimTime = 0
value = ifelse(var(13)=1,21,20)

[State 0, 5]
type = ChangeAnim
triggerall= ifelse(var(13)=1,(vel x>0),(vel x > 0))
trigger1 = command = "holdup"
trigger1 = var(14) = 2
trigger1 = Anim != ifelse(var(13)=1,100,20) && Anim != 5
trigger2 = Anim = ifelse(var(13)=1,100,20) && AnimTime = 0
value = ifelse(var(13)=1,100,20)

[State 0, 6]
type = ChangeAnim
triggerall= ifelse(var(13)=1,(vel x=0),(vel x > 0))
trigger1 = command = "holdup"
trigger1 = var(14) = 3
trigger1 = Anim != ifelse(var(13)=1,11,20) && Anim != 5
trigger2 = Anim = ifelse(var(13)=1,11,20) && AnimTime = 0
value = ifelse(var(13)=1,11,20)

[State 0, 7]
type = Changeanim
triggerall= ifelse(var(13)=1,(vel x>0),(vel x = 0))
trigger1 = command = "holdback"
trigger1 = var(14) = 1
trigger1 = Anim != ifelse(var(13)=1,100,11) && Anim != 5
trigger2 = Anim = ifelse(var(13)=1,100,11) && AnimTime = 0
value = ifelse(var(13)=1,100,11)

[State 0, 8]
type = Changeanim
triggerall= ifelse(var(13)=1,(vel x<0),(vel x = 0))
trigger1 = command = "holdback"
trigger1 = var(14) = 2
trigger1 = Anim != ifelse(var(13)=1,21,11) && Anim != 5
trigger2 = Anim = ifelse(var(13)=1,21,11) && AnimTime = 0
value = ifelse(var(13)=1,21,11)

[State 0, 9]
type = Changeanim
triggerall= ifelse(var(13)=1,(vel x>0),(vel x = 0))
trigger1 = command = "holdback"
trigger1 = var(14) = 3
trigger1 = Anim != ifelse(var(13)=1,20,11) && Anim != 5
trigger2 = Anim = ifelse(var(13)=1,20,11) && AnimTime = 0
value = ifelse(var(13)=1,20,11)

[State 0, 10]
type = Changeanim
triggerall= ifelse(var(13)=1,(vel x=0),(vel x > 0))
trigger1 = command = "holdfwd"
trigger1 = var(14) = 1
trigger1 = Anim != ifelse(var(13)=1,11,20) && Anim != 5
trigger2 = Anim = ifelse(var(13)=1,11,20) && AnimTime = 0
value = ifelse(var(13)=1,11,20)

[State 0, 11]
type = Changeanim
triggerall= ifelse(var(13)=1,(vel x=0),(vel x > 0))
trigger1 = command = "holdfwd"
trigger1 = var(14) = 2
trigger1 = Anim != ifelse(var(13)=1,11,100) && Anim != 5
trigger2 = Anim = ifelse(var(13)=1,11,100) && AnimTime = 0
value = ifelse(var(13)=1,11,100)

[State 0, 12]
type = Changeanim
triggerall= ifelse(var(13)=1,(vel x=0),(vel x < 0))
trigger1 = command = "holdfwd"
trigger1 = var(14) = 3
trigger1 = Anim != ifelse(var(13)=1,11,21) && Anim != 5
trigger2 = Anim = ifelse(var(13)=1,11,21) && AnimTime = 0
value = ifelse(var(13)=1,11,21)

[State 0, 13]
type = VelSet
trigger1 = command = "holdup"
trigger1 = var(14)=1
x = IFELSE(var(13) =1,const(velocity.walk.back.x),const(velocity.walk.fwd.x))

[State 0, 14]
type = VelSet
trigger1 = command = "holdup"
trigger1 = var(14)=2
x = IFELSE(var(13) =1,const(velocity.run.fwd.x),const(velocity.walk.fwd.x))

[State 0, 15]
type = VelSet
trigger1 = command = "holdup"
trigger1 = var(14)=3
x = IFELSE(var(13) =1,0,const(velocity.walk.fwd.x))

[State 0, 16]
type = VelSet
trigger1 = command = "holddown"
trigger1 = var(14)=1
x = IFELSE(var(13) =1,const(velocity.walk.fwd.x),const(velocity.walk.back.x))

[State 0, 17]
type = VelSet
trigger1 = command = "holddown"
trigger1 = var(14)=2
x =IFELSE(var(13)=1,const(velocity.run.fwd.x),const(velocity.walk.fwd.x))

[State 0, 18]
type = VelSet
trigger1 = command = "holddown"
trigger1 = var(14)=3
x =IFELSE(var(13)=1,const(velocity.run.fwd.x),0)

[State 0, 19]
type = VelSet
trigger1 = command = "holdback"
trigger1 = var(14)=1
x = ifelse(var(13)=1,const(velocity.run.fwd.x),0)

[State 0, 20]
type = VelSet
trigger1 = command = "holdback"
trigger1 = var(14)=2
x = ifelse(var(13)=1,const(velocity.walk.back.x),0)

[State 0, 21]
type = VelSet
trigger1 = command = "holdback"
trigger1 = var(14)=3
x = ifelse(var(13)=1,const(velocity.walk.fwd.x),0)

[State 0, 22]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = var(14) = 1
x = ifelse(var(13)=1,0,const(velocity.walk.fwd.x))

[State 0, 23]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = var(14) = 2
x = ifelse(var(13)=1,0,const(velocity.run.fwd.x))

[State 0, 24]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = var(14) = 3
x = ifelse(var(13)=1,0,const(velocity.walk.back.x))
;===============================================================================
;Safe States
[State 0, Turn]
type = Turn
trigger1 = p2dist x <0
trigger2 = Anim = 5 && AnimTime = 0

[State 4003, SelfState]
type = SelfState
triggerall = statetype = A
Trigger1 = !time
value = 5050

[State 0, Back to Stance]
type = Changeanim
trigger1 = command != "holdback"
trigger1 = command != "holdfwd"
trigger1 = command != "holddown"
trigger1 = command != "holdup"
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 0

[State 0, Cancel]
type = selfState
trigger1 = time = 360
value = 0
ctrl =1
;-------------------------------------------------------------------------------
[Statedef 10112]
type    = A
movetype= A
physics = N
poweradd= 0
anim = 464
ctrl = 0
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = p2stateno = 10111
trigger1 = !time
trigger1 = numexplod(1029)=0
trigger1 = target,time = 0
anim = 1029
ID = 1029
pos = 0,-100
postype = p2  ;p2,front,back,left,right
facing = ifelse (facing=1,-1,1)
bindtime =-2
removetime = -2
scale = 1,1
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = p2stateno = 10111
trigger1 = !time
trigger1 = numexplod(1032)=0
trigger1 = target,time = 0
anim = 1042
ID = 1044
pos = 0,-90
postype = p2  ;p2,front,back,left,right
facing = ifelse (facing=1,-1,1)
bindtime =-1
removetime = -1
scale = 0.4,0.4
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 10133, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 10111
id =1029

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 10111
trigger2 = time = 360
id =1044

[State 10133, 1]
type = DestroySelf
trigger1 = time = 360
trigger1 = p2stateno = 10111
trigger2 = p2stateno != 10111
;-------------------------------------------------------------------------------
;Sonet  2
[Statedef 1012]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1012
sprpriority = 10
poweradd = -250

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
trigger1 = target,time = 0
anim = 1049
ID = 1051
pos = 0,-30
postype = p2
facing = ifelse (facing=1,-1,1)
vfacing = 1
bindtime = 1
vel = 0,-1
removetime = 50
scale = .2,.2
sprpriority = 20
ownpal =1
supermove=9999
pausemove=9999

[State 0, VarSet]
type = parentVarSet
trigger1 = movehit=1
trigger1 = var(16)!=1
v = 16
value = 1

[State 0, VarSet]
type = parentVarSet
trigger1 = time = 360
v = 17
value = 1

[State 0, Explod]
type = Explod
trigger1 = !time
trigger1 = target,time = 0
anim = 1043
ID = 1046
pos = -3,11
postype = p1
facing = ifelse (facing=1,1,-1)
vfacing = 1
bindtime = -1
vel = 0,0
removetime = -2
scale = 0.15,0.15
sprpriority = 10
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
trigger1 = target,time = 0
anim = 1043
ID = 1046
pos = 0,-8
postype = p1
facing = ifelse (facing=1,1,-1)
vfacing = 1
bindtime = -1
vel = 0,0
removetime = -2
scale = 0.15,0.15
sprpriority = 10
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Helper]
type = Helper
trigger1 = Movehit = 1
trigger1 = target,time = 0
trigger1 = numhelper(10121)=0
trigger1 = var(16)!=1
helpertype = Normal
ID = 10121
pos = 0,0
name = "Timer2"
postype = p1
stateno = 10121
ownpal = 1
supermove=9999
pausemove=9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
x =time%2*1

[State 0, Explod]
type = Explod
trigger1 = !time
trigger1 = target,time = 0
anim = 1012
ID = 1012
pos = 0,0
postype = p1
facing = ifelse (facing=1,1,-1)
vfacing = 1
bindtime = -1
vel = 0,0
removetime = -2
scale = 0.15,0.15
sprpriority = 10
ownpal = 1
supermove=9999
pausemove=9999

[State 200, 1]
type = HitDef
triggerall = p2stateno!=10111
triggerall = p2stateno!=370
triggerall = p2stateno!=654
triggerall = var(16)!=1
trigger1 = numhelper(10121)!=1
trigger1 = numhelper(10132)!=1
trigger1 = numhelper(10135)!=1
trigger1 = Time = 0
attr = S, SA
animtype = light
air.animtype = light
affectteam = E
guardflag = MA
hitflag = MAF
priority = 5,hit
pausetime = 0,0
sprpriority = 10
getpower = 0
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,28
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = low
air.velocity = 0,0
air.hittime = 20
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1056
pos = 25,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 400
;-------------------------------------------------------------------------------
[Statedef 10121]
type    = A
movetype= A
physics = N
poweradd= 0
anim = 464
ctrl = 0
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1032
ID = 1033
pos = 0,-40
postype = p2
bindtime = 1
random = 0,0
removetime = -2
scale = .5,.5
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1033
ID = 1034
pos = 5,-8
postype = p2
bindtime = 1
random = 0,0
removetime = -2
scale = .2,.2
sprpriority = 2
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
trigger1 = target,time = 0
trigger1 = numexplod(1029)=0
anim = 1029
ID = 1029
pos = 0,-100
postype = p2
facing = ifelse (facing=1,-1,1)
bindtime =-2
removetime = -2
scale = 1,1
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 360
id =1029

[State 0, 1]
type = destroyself
trigger1 = time = 360
;-------------------------------------------------------------------------------
;Sonet 3
[Statedef 1013]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1013
sprpriority = 10
poweradd = -250

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
trigger1 = target,time = 0
anim = 1050
ID = 1052
pos = 0,-30
postype = p2
facing = ifelse (facing=1,-1,1)
vfacing = 1
bindtime = 1
vel = 0,-1
removetime = 50
scale = .2,.2
sprpriority = 20
ownpal =1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
trigger1 = target,time = 0
anim = 1043
ID = 1046
pos = -3,11
postype = p1
facing = ifelse (facing=1,1,-1)
vfacing = 1
bindtime = -1
vel = 0,0
removetime = -2
scale = 0.15,0.15
sprpriority = 10
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
trigger1 = target,time = 0
anim = 1043
ID = 1046
pos = 0,-8
postype = p1
facing = ifelse (facing=1,1,-1)
vfacing = 1
bindtime = -1
vel = 0,0
removetime = -2
scale = 0.15,0.15
sprpriority = 10
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Helper]
type = Helper
trigger1 = Movehit = 1
trigger1 = target,time = 0
trigger1 = enemy,name="CC'Brook'MN"
trigger1 = numhelper(10131)=ifelse (p2stateno = 10131, 0,1)
helpertype = Normal
ID = 10132
pos = 0,0
name = "Timer3"
postype = p1
stateno = 10132
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Helper]
type = Helper
trigger1 = Movehit = 1
trigger1 = target,time = 0
trigger1 = enemy,name!="CC'Brook'MN"
trigger1 = numhelper(10135)=ifelse (p2stateno = 10134, 0,1)
helpertype = Normal
ID = 10135
pos = 0,0
name = "Timer4"
postype = p1
stateno = 10135
ownpal = 1
supermove=9999
pausemove=9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
x =time%2*1

[State 0, Explod]
type = Explod
trigger1 = !time
trigger1 = target,time = 0
anim = 1013
ID = 1013
pos = 0,0
postype = p1
facing = ifelse (facing=1,1,-1)
vfacing = 1
bindtime = -1
vel = 0,0
removetime = -2
scale = 0.15,0.15
sprpriority = 10
ownpal = 1
supermove=9999
pausemove=9999

[State 200, 1]
type = HitDef
triggerall = p2stateno!=10111
triggerall = p2stateno!=370
triggerall = p2stateno!=654
triggerall = var(16)!=1
trigger1 = numhelper(10121)!=1
trigger1 = numhelper(10132)!=1
trigger1 = numhelper(10135)!=1
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = light
air.animtype = light
affectteam = E
guardflag = MA
hitflag = MAF
priority = 5,hit
pausetime = 0,0
sprpriority = 10
getpower = 0
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,36
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = low
air.velocity = 0,0
air.hittime = 20
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
p2stateno = ifelse(enemy,name="CC'Brook'MN",10131,10134)

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1057
pos = 25,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.5 ,0.5
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
;-------------------------------------------------------------------------------
[Statedef 10131]
type    = U
movetype= I
physics = N
velset = 0,0
sprpriority = -1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1034
id = 1045
pos = 0,20
facing = ifelse(facing = 1,-1,-1)
postype = p1
removetime = -1
bindtime = -1
supermove
pausemove
scale = 1,1
sprpriority =10
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time>= 1
anim = 1035
id = 1037
pos = 0,17
postype = p1
removetime = 1
bindtime = -1
supermove
facing = ifelse(facing = 1,-1,1)
pausemove
scale = 1,.55
sprpriority = 8
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time>= 1
anim = 1036
id = 1038
pos = 35+fvar(6),17
postype = p1
removetime = 1
bindtime = -1
supermove
facing = ifelse(facing = 1,1,1)
pausemove
scale = .14+fvar(3),.55
sprpriority = 9
ownpal = 1
removeongethit = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 3
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(19)=21
v = 20
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time=0
v = 19
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = command="c"
v = 19
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = command="c"
fv = 3
value =  .04

[State 0, VarAdd]
type = VarAdd
trigger1 =command = "c"
fv = 6
value =  -1.6

[State 0, VarAdd]
type = VarAdd
trigger1 = command="b"
v = 19
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = command="b"
fv = 3
value =  .04

[State 0, VarAdd]
type = VarAdd
trigger1 =command = "b"
fv = 6
value =  -1.6

[State 0, VarAdd]
type = VarAdd
trigger1 = command="a"
v = 19
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = command="a"
fv = 3
value =  .04

[State 0, VarAdd]
type = VarAdd
trigger1 =command = "a"
fv = 6
value =  -1.6

[State 0, VarAdd]
type = VarAdd
trigger1 = command="x"
v = 19
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = command="x"
fv = 3
value =  .04

[State 0, VarAdd]
type = VarAdd
trigger1 =command = "x"
fv = 6
value =  -1.6

[State 0, VarAdd]
type = VarAdd
trigger1 = command="y"
v = 19
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = command="y"
fv = 3
value =  .04

[State 0, VarAdd]
type = VarAdd
trigger1 =command = "y"
fv = 6
value =  -1.6

[State 0, VarAdd]
type = VarAdd
trigger1 = command="z"
v = 19
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = command="z"
fv = 3
value =  .04

[State 0, VarAdd]
type = VarAdd
trigger1 =command = "z"
fv = 6
value =  -1.6

[State 4003, SelfState]
type = SelfState
triggerall = statetype = A
Trigger1 = !time
value = 5050

[State 0, 1]
type = ChangeAnim
Trigger1 = 1
value = anim
elem = animelemno(0)

[State 0, SelfState]
type = SelfState
triggerall = statetype = S
trigger1 = life = 0
value = 5050

[State 0, SelfState]
type = SelfState
triggerall = statetype != A && alive
Trigger1 = time = 600
ctrl = 1
value = 10133

[State 4003, end]
type = ChangeState
trigger1 = var(20)=1
value = 10133
;-------------------------------------------------------------------------------
[Statedef 10133]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
sprpriority =2

[State 0, VarSet]
type = VarSet
trigger1= stateno=10133
trigger1= var(20)=1
trigger1= !Time
v = 20
value = 0

[State 0, VarSet]
type = VarSet
trigger1= stateno=10133
trigger1= !Time
v = 19
value = 0

[State 4003, end]
type = selfState
trigger1 = !Time
value = 0
ctrl=1
;-------------------------------------------------------------------------------
[Statedef 10132]
type    = A
movetype= A
physics = N
poweradd= 0
anim = 464
ctrl = 0
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1039
ID = 1042
pos = 0,-40
postype = p2
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1059
ID = 1062
pos = 0,-40
postype = p2
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = p2stateno = 10131
trigger1 = !time
trigger1 = numexplod(1040)=0
trigger1 = target,time = 0
anim = 1038
ID = 1040
pos = 0,-110
postype = p2  ;p2,front,back,left,right
facing = ifelse (facing=1,-1,1)
bindtime =-2
removetime = -1
scale = .5,.5
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = p2stateno = 10131
trigger1 = !time
trigger1 = numexplod(1029)=0
trigger1 = target,time = 0
anim = 1037
ID = 1029
pos = 0,-100
postype = p2  ;p2,front,back,left,right
facing = ifelse (facing=1,-1,1)
bindtime =-2
removetime = -2
scale = 1,1
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 10133, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 10131
id =1029

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 10131
trigger2 = time = 600
id =1040

[State 10133, 1]
type = DestroySelf
trigger1 = time = 600
trigger1 = p2stateno = 10131
trigger2 = p2stateno != 10131
;-------------------------------------------------------------------------------
[Statedef 10135]
type    = A
movetype= A
physics = N
poweradd= 0
anim = 464
ctrl = 0
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1039
ID = 1042
pos = 0,-40
postype = p2
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1059
ID = 1062
pos = 0,-40
postype = p2
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = p2stateno = 10134
trigger1 = !time
trigger1 = numexplod(1041)=0
trigger1 = target,time = 0
anim = 1038
ID = 1041
pos = 0,-110
postype = p2  ;p2,front,back,left,right
facing = ifelse (facing=1,-1,1)
bindtime =-2
removetime = -1
scale = .5,.5
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = p2stateno = 10134
trigger1 = !time
trigger1 = numexplod(1029)=0
trigger1 = target,time = 0
anim = 1037
ID = 1029
pos = 0,-100
postype = p2  ;p2,front,back,left,right
facing = ifelse (facing=1,-1,1)
bindtime =-2
removetime = -2
scale = 1,1
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 10133, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 10134
id =1029

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 10134
trigger2 = time = 600
id =1041

[State 10133, 1]
type = DestroySelf
trigger1 = time = 600
trigger1 = p2stateno = 10134
trigger2 = p2stateno != 10134
;-------------------------------------------------------------------------------
[Statedef 10134]
type    = U
movetype= I
physics = N
velset = 0,0
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(19)=30
v = 20
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time=0
v = 19
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = command="a"
v = 19
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = command="b"
v = 19
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = command="c"
v = 19
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = command="x"
v = 19
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = command="y"
v = 19
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = command="z"
v = 19
value = 1

[State 4003, SelfState]
type = SelfState
triggerall = statetype = A
Trigger1 = !time
value = 5050

[State 0, 1]
type = ChangeAnim
Trigger1 = 1
value = anim
elem = animelemno(0)

[State 0, SelfState]
type = SelfState
triggerall = statetype = S
trigger1 = life = 0
value = 5050

[State 0, SelfState]
type = SelfState
triggerall = statetype != A && alive
Trigger1 = time = 600
ctrl = 1
value = 10133

[State 4003, end]
type = ChangeState
trigger1 = var(20)=1
value = 10133
;-------------------------------------------------------------------------------
;---------------------------------------------------------------------------
[Statedef 470]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 470

[State 470, 1]
type = HitDef
Trigger1 = animelem = 2
attr = S, NT
hitflag = M
priority = 1, Miss
sparkno = -1
sprpriority = 1
hitsound = -1
p1facing = ifelse (command="holdfwd", 1,1)
p2facing = -ifelse (facing=1,1,1)
p1stateno = 471
p2stateno = 472
fall.recovery=0
fall = 1

[State 470, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
[Statedef 471]
type = S
movetype= A
physics = S
anim = 471
velset=0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0


[State 0, VelSet]
type = VelSet
trigger1 = Animelem =2
x = -2

[State 471, SprPriority]
type = SprPriority
trigger1 = AnimElem =1
value = -1

[State 471, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 0, -56

[State 471, SprPriority]
type = SprPriority
trigger1 = AnimElem =2
value = -1

[State 471, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = -21, -50

[State 471, SprPriority]
type = SprPriority
trigger1 = AnimElem =3
value = -1

[State 471, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 12, -53

[State 471, SprPriority]
type = SprPriority
trigger1 = AnimElem =4
value = -1

[State 471, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = 12, -53

[State 471, SprPriority]
type = SprPriority
trigger1 = AnimElem =5
value = -1

[State 471, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = 21, -52

[State 471, SprPriority]
type = SprPriority
trigger1 = AnimElem =6
value = -1

[State 471, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
pos = 25, -51

[State 471, SprPriority]
type = SprPriority
trigger1 = AnimElem =7
value = -1

[State 471, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
pos = -21, -37

[State 471, Throw]
type = TargetState
trigger1 = AnimElem = 8
value = 473

[State 0, PlaySnd]
type = PlaySnd
trigger1 =AnimElem = 6
value = S2,10
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =AnimElem = 6
value = S1,14
volume = 1

[State 0, Turn]
type = Turn
trigger1 = !AnimTime

[State 471, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 472]
type = U
movetype = H
physics = N
velset = 0,0
anim = 5070

[State 0, Turn]
type = Turn
trigger1 = !Time

[State 473, 2]
type = Changeanim
trigger1 = 1
value = 473

[Statedef 473]
type = U
movetype = H
physics = N
velset = -5,-3
anim = 5070

[State 473, 2]
type = ChangeAnim
trigger1 = 1
value = 5070

[State 473, 1]
type = VelAdd
Trigger1 = 1
y = .4

[State 471, Hurt]
type = LifeAdd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = -40

[State 473, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100
;-------------------------------------------------------------------------------
[Statedef 480]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =480
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 40
value = S2,15
volume = 1

[State 0, slow]
type = Pause
trigger1 = gametime%2
ignorehitpause = 1
time = 4
movetime = 1

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = -4
y = -8

[State 0, VelSet]
type = VelSet
trigger1 = time >= 4
y = -6
[State 0, VelSet]
type = VelSet
trigger1 = time >= 8
y = -4
[State 0, VelSet]
type = VelSet
trigger1 = time >= 12
y = -2
[State 0, VelSet]
type = VelSet
trigger1 = time >= 16
y = -1
[State 0, VelSet]
type = VelSet
trigger1 = time >= 20
y = 1
[State 0, VelSet]
type = VelSet
trigger1 = time >= 24
y = 2
[State 0, VelSet]
type = VelSet
trigger1 = time >= 28
y = 4
[State 0, VelSet]
type = VelSet
trigger1 = time >= 32
y = 6
[State 0, VelSet]
type = VelSet
trigger1 = time >= 36
y = 8
[State 0, VelSet]
type = VelSet
trigger1 = time >= 40
y = 10
[State 0, VelSet]
type = VelSet
trigger1 = time >= 44
y = 12

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 60

[State 473, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 481

[Statedef 481]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =481
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 60

[State 473, 4]
type = SelfState
trigger1 = time=60
value = 482

[Statedef 482]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =482
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S2,11
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S1,29
volume = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 1053
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 20
ownpal =1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 1040
ID = 1043
pos = 10+(ifelse(var(21)=1,0,-10)),-30
postype = p1
facing = ifelse (facing=1,1,-1)
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.01,0.01
sprpriority = 20
ownpal =1
supermove=9999
pausemove=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 1043
scale =0.07+fvar(1),0.07+fvar(1)
supermove=9999
pausemove=9999

[State 0, VarSet]
type = VarSet
trigger1 = !time
fv = 1
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 1
value = 0.002

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 60

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 8
value = 1000

[State 0, AfterImage]
type = AfterImage
trigger1 = time=0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 200,200,200
palpostbright = 0,0,0
paladd = -10,-10,-25
palmul = .85,.85,.85
timegap = 2
framegap = 1
trans = add

[State 0, VarSet]
type = VarSet
trigger1 = time =60
v = 23
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 22
value = 1

[State 0,ChangeState]
type = ChangeState
trigger1 = time =60
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 490]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim =490
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = 6

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S,NA
damage = 20+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = S
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = 8
givepower = 0
sparkno = 1111111111111111
sparkxy = -10, -26
hitsound = S2,4
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = high
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = high
air.velocity = 0,0
air.hittime = 12
fall.animtype  = low
p1stateno= 491
p1facing =ifelse(command="holdback",-1,1)
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90

[State 490, 5]
type = ChangeState
trigger1 = animTime =0
value = 41
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 491]
type    = s
movetype= A
physics = s
juggle  = 1
velset = 0,0
ctrl = 0
anim =491
sprpriority = 2
yaccel=0.9

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 3
y = -3

[State 491, 5]
type = ChangeState
trigger1 = animTime =0
value = 492
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 492]
type    = a
movetype= A
physics = a
juggle  = 1
velset = 0,0
ctrl = 0
anim =492
sprpriority = 2
yaccel=0.2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 4
y = -3

[State 491, 5]
type = ChangeState
trigger1 = animTime =0
value = 47
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 500]
type    = s
movetype= i
physics = s
juggle  = 1
velset = 0,0
ctrl = 0
anim =500
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Dust"
ID = 1065
stateno = 1065
pos = -20,-50
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
supermove
pausemove
size.xscale =0.6
size.yscale =0.6

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Dust"
ID = 1064
stateno = 1064
pos = -17,-30
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
supermove
pausemove
size.xscale =0.5
size.yscale =0.5

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Dust"
ID = 1063
stateno = 1063
pos = -10,10
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
supermove
pausemove
size.xscale =0.3
size.yscale =0.3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S2,16
volume = 1
channel = 10

[State 0, 0]
type = reversaldef
trigger1 = time=0
reversal.attr = SCA, NA, SA, HA, NP, SP, HP
pausetime = 0, 0
hitsound = -1
sparkno = -1
p1stateno = 502

[State 500, 5]
type = ChangeState
trigger1 = Time =65
value = 501
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 501]
type    = s
movetype= i
physics = s
juggle  = 1
velset = 0,0
ctrl = 0
anim =501
sprpriority = 2

[State 501, 5]
type = ChangeState
trigger1 = animTime =0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 502]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 502
poweradd=-200
sprpriority = 2
facep2=1

[State 1]
type = Explod
trigger1 = animelem = 3
anim =1007
id = 1007
pos =20,3
vel = 3,0
scale = 0.4,0.2
facing = -1
ontop = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8104
stateno = 8104
pos = -30,-60
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1.5
size.yscale = 1.5

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
trigger1 = target,time = 0
anim = 1062
pos = -30,-60
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 10
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8104
stateno = 8104
pos = -30,-60
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1.5
size.yscale = 1.5

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 50+fvar(9)+fvar(10),0
animtype =Hard
air.animtype = hard
affectteam = E
guardflag = unguardable
hitflag = MAF
priority = 5,hit
getpower = 10
givepower = 0
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = -1
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,-5
airguard.velocity = 0,0
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
fall.recovery =0
p2facing = ifelse(facing = -1,1,1)
p2stateno = 503
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[state 200, 0]
type = playsnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = s1,19
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,9
volume = -1
channel = 7

[State 0, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 7

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 271
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 503]
type    = A
movetype= H
physics = N
velset = -1,-15
yaccel = 0.4

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
x = -.1
y = .8

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1 + (45*time)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5050

[State 0, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100
;-------------------------------------------------------------------------------
[Statedef 510]
type    = s
movetype= i
physics = s
juggle  = 1
velset = 0,0
ctrl = 0
anim =510
sprpriority = 2

[State 1]
type = Explod
trigger1 = !time
anim =1062
pos =20,-50
vel = 0,0
scale = 0.7,0.7
facing = 1
ontop = 1
ownpal=1

[State 0, HitVelSet]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 0, PlaySnd]
type=PlaySnd
trigger1=!time
value=S1,30
volume = 1

[State 0, PalFX]
type=PalFX
trigger1=!time
add=0,0,80
sinadd=0,0,0,50
time=15

[State 0, Pause]
type=Pause
trigger1=!time
time=10
movetime=10

[State 0, PosFreeze]
type=PosFreeze
trigger1=time<=10
value=1

[State 0, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=nowalk
flag2=nostandguard
flag3=nocrouchguard

[State 0, NotHitBy]
type=NotHitBy
trigger1=time<=10
time=1
value=SCA

[State 510, 5]
type = ChangeState
trigger1 = animTime =0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 520]
type    = s
movetype= i
physics = s
juggle  = 1
velset = 0,0
ctrl = 0
anim =520
sprpriority = -2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = , NA, SA, NP, SP

[State 0, PalFXWiz]
type = PalFX
trigger1=animelem = 3
time = 4
add =255,255,180

[State 520, 5]
type = ChangeState
trigger1 = animTime =0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 530]
type=C
physics=C
movetype=I
anim=530
velset=0
ctrl=0
sprpriority=-1

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 1    ;fv = 10
value = 0

[State 1]
type = Explod
trigger1 = TimeMod = 3,0
anim =1007
id = 1007
pos =-5,3
vel = -2,0
scale = 0.4,0.2
facing=-1
ontop = 1

[State 100, Dash]
type = Explod
trigger1 = !Time
trigger1 = var(1)= 0
anim = 1001
id = 1001
pos = 10,-55
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1

[State 100, Dash]
type = Explod
trigger1 = !Time
trigger1 = var(1)= 0
anim = 1001
id = 1001
pos = 20,-15
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
sprpriority = 3
vel = 0,0
removetime = -2
accel = 0,0
scale  = .25,.25
ontop = 0
ownpal = 1

[State -3, moveshadow]
type=afterimage
trigger1=time=1
trigger1=var(23)!=1
time=10
timegap=1
framegap=4
length=9
palbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
palcontrast=120,120,120
palpostbright=0,0,0
trans=add1
persistent=0


[State 0, VelSet]
type=VelSet
trigger1=animelemtime(1)>=0&&animelemtime(3)<0
x=-20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,22
volume = 1

[State 0, PlayerPush]
type=PlayerPush
trigger1=1
value=0

[State 0, HitBy]
type=HitBy
trigger1=animelemtime(3)<0
value=SCA,AT
time=1


[State 530, ChangeState]
type=ChangeState
trigger1=!animtime
value=0
ctrl=1
;-------------------------------------------------------------------------------
[Statedef 540]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 540
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,12
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,10
volume = 1

[State 211, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,17
guardsound = 6, 0
getpower = 8
givepower = 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,15
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -8,-20
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4

[State 211, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 541
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 541]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 541
sprpriority = 2

[State 541, 5]
type = ChangeState
trigger1 = AnimTime = 0
value =0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 550]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 550
sprpriority = 2



[state 0, 0]
type = playsnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = s1,17
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,9
volume = -1
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,7
volume = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = movehit = 1
channel = 7

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -10,-40
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4


[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 20+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
getpower = 8
givepower = 0
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,2
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = 1
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4
fall = 1

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-20
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 550, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 551
ctrl = 1

[Statedef 551]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 551
sprpriority = 2


[State 551, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 560]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 560
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,10
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,13
volume = 1

[State 211, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 20+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,17
guardsound = 6, 0
getpower = 8
givepower = 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
fall=1

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,15
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -8,-20
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.4
size.yscale = 0.4

[State 211, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 561
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 561]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 561
sprpriority = 2

[State 541, 5]
type = ChangeState
trigger1 = AnimTime = 0
value =0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 570]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 570
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,10
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = S1,26
volume = 1


[State 1000, Explod]
type = Explod
trigger1 = Movehit = 1
trigger1 = target,time = 0
anim = 1021
ID = 1021
pos = 5,-40
postype = p2
removetime = -2
scale = .25,.25
ownpal = 1
sprpriority = 3
supermove=9999
pausemove=9999

[State 200, 1]
type = HitDef
triggerall = p2stateno !=370
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = Heavy
air.animtype = heavy
affectteam = E
guardflag = MA
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = -5
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
p2stateno = 370

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1054
pos = 10,-15
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 700, Helper]
type = Helper
trigger1 = Movehit = 1
helpertype = Normal
ID = 380
name = "Frost"
postype = p1
stateno = 380
ownpal = 1
supermove=9999
pausemove=9999

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = NumTarget
trigger1 = MoveHit = 1
value = floor(ifelse(70 * fvar(12) < 7, -10, -70 * fvar(12)))
kill = 1


[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 580]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 580
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,9
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
trigger1 = target,time=0
value = S1,26
volume = 1

[State 1000, Explod]
type = Explod
trigger1 = Movehit = 1
trigger1 = target,time = 0
anim = 1021
ID = 1021
pos = 5,-40
postype = p2
removetime = -2
scale = .25,.25
ownpal = 1
sprpriority = 3
supermove=9999
pausemove=9999

[State 200, 1]
type = HitDef
triggerall = p2stateno !=370
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = Heavy
air.animtype = heavy
affectteam = E
guardflag = MA
hitflag = MAFD
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
getpower = -5
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -4,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
p2stateno = 370

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1054
pos = 10,-15
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 700, Helper]
type = Helper
trigger1 = Movehit = 1
helpertype = Normal
ID = 380
name = "Frost"
postype = p1
stateno = 380
ownpal = 1
supermove=9999
pausemove=9999

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = NumTarget
trigger1 = MoveHit = 1
value = floor(ifelse(70 * fvar(12) < 7, -10, -70 * fvar(12)))
kill = 1


[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 581
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 581]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 581
sprpriority = 2


[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 600]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 600
sprpriority = -2
facep2=1

[State -1]
Type     = Pause
Trigger1 = Time = 0
Time     = 40
MoveTime = 19
Darken   = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1068
ID = 1073
pos = 20,-40
postype = p1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 8
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S1,31
volume = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Introduse Effect 3"
ID = 20002
stateno = 20002
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.height = 10010
supermovetime=9999
pausemovetime=9999


[State 600, 5]
type = ChangeState
trigger1 = Time = 20
value = 601
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 601]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 601
sprpriority = 2
facep2=1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time>20
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 =!time
value = S2,18
volume =9999999999

[State -3, moveshadow]
type=afterimage
trigger1=time=1
trigger1=var(23)!=1
time=20
timegap=1
framegap=1
length=6
palbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
palcontrast=120,120,120
palpostbright=0,0,0
trans=add1
persistent=0

[State 0, Helper]
type = Helper
trigger1 = timemod=7,0
helpertype = normal
ID = 2000
stateno = 2000
pos = 50,-10+(-random%50)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = .2
size.yscale = .2-fvar(14)

[State 0, VarSet]
type = VarSet
trigger1 = !time
fv = 14
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv= 14
value = 0.007


[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8104
stateno = 8104
pos = -4,-30+(-random%30)
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.8
size.yscale = 0.8

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-30+random%30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.4,0.4
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 211, 1]
type = HitDef
trigger1 = animelem = 1
attr = S, HA
damage = 10+fvar(9),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,5
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
getpower = 8
givepower = 0
guardsound = 6, 0
sprpriority = -2
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 211, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, hA
damage = 10,0
animtype = hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,5
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
sprpriority = -2
getpower = 8
givepower = 0
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 211, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, hA
damage = 10,0
animtype = hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,5
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
sprpriority = 2
guardsound = 6, 0
getpower = 8
givepower = 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 211, 1]
type = HitDef
trigger1 = animelem = 4
attr = S, hA
damage = 10+fvar(9),0
animtype = medium
air.animtype = medium
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,5
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
getpower = 8
givepower = 0
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
sprpriority = 2
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 211, 1]
type = HitDef
trigger1 = animelem= 5
attr = S, hA
damage = 10,0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,5
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
getpower = 8
givepower = 0
sprpriority = -2
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 591, 5]
type = ChangeState
trigger1 = Time = 100
value = 602
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 602]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 602
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8100
stateno = 8100
pos = -10,-30
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.8
size.yscale = 0.8

[State 211, 1]
type = HitDef
trigger1 = animelem= 1
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
getpower = 8
givepower = 0
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -2,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
fall = 1
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[state 210,0]
type = playsnd
trigger1 = animelem = 5
value = S1,12
volume = 1

[State 602, 5]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 2000]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2000
sprpriority = 5
poweradd = -100

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = moveguarded = 1
value = 2003
elem = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PalFXWiz]
type = PalFX
trigger1 = !time
time = -1
add  = 0,0,0
mul = 256,0,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-30+random%30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.4,0.4
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8104
stateno = 8104
pos = -4,-30+(-random%30)
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.8
size.yscale = 0.8

[State 0, VelSet]
type = VelSet
trigger1 =1
trigger1 =!moveguarded
x = 8

[State 0, VelSet]
type = VelSet
trigger1 =1
trigger1 =moveguarded
x = 8
y = -8

[State 211, 1]
type = HitDef
trigger1 = p2bodydist x<30
trigger1 = p2statetype =A
trigger1 = animelem= 1
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
getpower = 8
givepower = 0
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -2,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -.5,-1
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
fall = 1

[State 211, 1]
type = HitDef
trigger1 = p2bodydist x>30
trigger1 = p2statetype =A
trigger1 = animelem= 1
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
getpower = 8
givepower = 0
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -2,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -.5,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
fall = 1

[State 211, 1]
type = HitDef
trigger1 = p2statetype !=A
trigger1 = animelem= 1
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,15
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
getpower = 8
givepower = 0
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -2,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,0
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
fall = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time= 100
trigger2 = movehit = 1
;-------------------------------------------------------------------------------
[Statedef 610]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 610
sprpriority = -2
facep2=1

[State -1]
type = NotHitBy
trigger1= 1
value = SCA
time = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1068
ID = 1073
pos = -10,-25
postype = p1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 8
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S2,19
volume = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S1,31
volume = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Introduse Effect 2"
ID = 20001
stateno = 20001
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.height = 10010
supermovetime=9999
pausemovetime=9999


[State 600, 5]
type = ChangeState
trigger1 = Time = 100
value = 611
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 611]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 611
sprpriority = 2

[State -1]
type = NotHitBy
trigger1= 1
value = SCA
time = 1
supermovetime = 9999
pausemovetime = 9999



[State 611, 5]
type = ChangeState
trigger1 = Time = 30
value = 612
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 612]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 612
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = !time
helpertype = normal
name = "Power Wave"
ID = 2001
stateno = 2001
pos = 50,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale =0.1
size.yscale =0.1
supermove =9999
pausemove =9999

[State 600, 1]
type = HitDef
trigger1 = time=0
attr = S, NA
damage = 50+fvar(9),0
animtype = Light
air.animtype = Light
affectteam = E
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
getpower = 8
givepower = 0
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -15,-6
air.type = low
air.velocity = -15,-6
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
p2stateno = 8000
fall = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = parent,movecontact=0
helpertype = normal
name = "Bullet"
ID = 2002
stateno = 2002
pos = 50,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale =0.1
size.yscale =0.1
supermove =9999
pausemove =9999

[State -1]
type = NotHitBy
trigger1= 1
value = SCA
time = 1
supermovetime = 9999
pausemovetime = 9999

[State 612, 5]
type = ChangeState
trigger1 = Time = 40
value = 613
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 613]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 613
sprpriority = -2
facep2=1


[State 612, 5]
type = ChangeState
trigger1 = ANIMTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 2001]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2005
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
supermove =9999
pausemove =9999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
supermove =9999
pausemove =9999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value =12
supermove =9999
pausemove =9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime=0
;-------------------------------------------------------------------------------
[Statedef 2002]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2006
sprpriority = 5
poweradd = -1000

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = unguardable

[State 0, VelSet]
type = VelSet
trigger1 =1
x = 40
y = -10

[State 211, 1]
type = HitDef
trigger1 = time=0
attr = S, NA
damage = 100+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,33
getpower = 8
givepower = 0
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -15,-6
air.type = low
air.velocity = -15,-6
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
fall.recovery=0
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
p2stateno = 8000
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= 0 ||frontedgedist <= 0
trigger1 = parent,movecontact=0
value = 2003
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time= 100
trigger2 = movehit = 1
trigger1 = parent,movecontact=1

[StateDef 2003]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 464
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
trigger1 = parent,movecontact=0
value = S1,32
volume = 100

[State -1]
Type = Explod
trigger1 = frontedgedist <= 0
trigger1 = numexplod(1080) = 0
Anim = 1071
ID = 1080
Ownpal = 1
sprpriority =10
PosType = p1
facing=1
Scale = 0.8,0.8
removetime = -2
Pos =20,0
Scale = 1,1
SprPriority = -2

[State -1, Spark]
type = Explod
trigger1 = frontedgedist <= 0
trigger1 = numexplod(1081) = 0
ID = 1081
anim = 1072
pos = 15,0
postype = p1
facing=-1
scale = .5,.5
sprpriority = 10

[State 0, DestroySelf]
type = DestroySelf
trigger1 =animtime = 0
;-------------------------------------------------------------------------------
[Statedef 620]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 620
sprpriority = -2
facep2=1

[State -1]
Type     = Pause
Trigger1 = Time = 0
Time     = 50
MoveTime = 19
Darken   = 0

[State -1]
type = NotHitBy
trigger1= 1
value = SCA
time = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1068
ID = 1073
pos = 2,-40
postype = p1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 8
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S2,20
volume = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S1,31
volume = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Introduse Effect 1"
ID = 20000
stateno = 20000
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.height = 10010
supermovetime=9999
pausemovetime=9999

[State 620, 5]
type = ChangeState
trigger1 = Time = 45
value = 621
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 621]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 611
sprpriority = 2

[State -1]
type = NotHitBy
trigger1= 1
value = SCA
time = 1
supermovetime = 9999
pausemovetime = 9999

[State 621, 5]
type = ChangeState
trigger1 = Time = 15
value = 622
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 622]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 622
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = !time
helpertype = normal
name = "Metal Break Effect"
ID = 2004
stateno = 2004
pos = 120,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale =.7
size.yscale =.7
supermove =9999
pausemove =9999

[State 211, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 10+fvar(9)+fvar(10),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,20
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
getpower = 8
givepower = 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-.3
air.type = low
air.velocity = -1.4,-2
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,15
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State -1]
type = NotHitBy
trigger1= 1
value = SCA
time = 1
supermovetime = 9999
pausemovetime = 9999

[State 611, 5]
type = ChangeState
trigger1 = movehit=1
trigger2 = moveguarded=1
value = 624
ctrl = 1

[State 611, 5]
type = ChangeState
trigger1 = Time = 20
value = 623
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 623]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 623
sprpriority = 2

[State 611, 5]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 624]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 624
sprpriority = 20
poweradd=-800

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 26
range = 1,40

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(26)=21
flag = unguardable

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark1"
ID = 8104
stateno = 8104
pos = -4,-30+(-random%30)
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 0.8
size.yscale = 0.8

[State 0, Explod]
type = Explod
trigger1 = moveguarded = 1
trigger1 = target,time = 0
anim = 1041
pos = 10,-30+random%30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.4,0.4
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 210, 1]
type = HitDef
trigger1 = animelem=49
trigger2 = animelem=50
trigger3 = animelem=51
attr = S, NA
damage = 6+fvar(9)+fvar(10),0
animtype = hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 1,10
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
getpower = -8
givepower = 0
hitsound = S1,37
guardsound = S1,38
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -.2,0
airguard.velocity = -.2,0
air.type = low
air.velocity = -.2,0
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 210, 1]
type = HitDef
trigger1 = animelem=1
trigger2 = animelem=2
trigger3 = animelem=3
trigger4 = animelem=4
trigger5 = animelem=5
trigger6 = animelem=6
trigger7 = animelem=7
trigger8 = animelem=8
trigger9 = animelem=9
trigger10 = animelem=10
trigger11 = animelem=11
trigger12 = animelem=12
trigger13 = animelem=13
trigger14 = animelem=14
trigger15 = animelem=15
trigger16 = animelem=16
trigger17 = animelem=17
trigger18 = animelem=18
trigger19 = animelem=19
trigger20 = animelem=20
trigger21 = animelem=21
trigger22 = animelem=22
trigger23 = animelem=23
trigger24 = animelem=42
trigger25 = animelem=43
trigger26 = animelem=44
trigger27 = animelem=45
trigger28 = animelem=46
trigger29 = animelem=47
trigger30 = animelem=48
attr = S, NA
damage = 6+fvar(9)+fvar(10),0
animtype = hard
air.animtype = hard
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 1,10
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
getpower = -8
givepower = 0
hitsound = S1,37
guardsound = S1,38
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -.2,0
airguard.velocity = -.2,0
air.type = low
air.velocity = -.2,0
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 211, 1]
type = HitDef
trigger1 = animelem=24
trigger2 = animelem=25
trigger3 = animelem=26
trigger4 = animelem=27
trigger5 = animelem=28
trigger6 = animelem=29
trigger7 = animelem=30
trigger8 = animelem=31
trigger9 = animelem=32
trigger10 = animelem=33
trigger11 = animelem=34
trigger12 = animelem=35
trigger13 = animelem=36
trigger14 = animelem=37
trigger15 = animelem=38
trigger16 = animelem=39
trigger17 = animelem=40
trigger18 = animelem=41
trigger19 = animelem=52
trigger20 = animelem=53
trigger21 = animelem=54
attr = S, HA
damage = 5+fvar(9),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 5,hit
pausetime = 1,10
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,37
getpower = -8
givepower = 0
guardsound = S1,38
sprpriority = -2
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-1
air.type = low
air.velocity = -1,0
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4

[State 211, 1]
type = HitDef
trigger1 = animelem=55
attr = S, HA
damage = 6+fvar(9),0
animtype = Light
air.animtype = Light
affectteam = E
guardflag = M
hitflag = MAF
priority = 5,hit
pausetime = 0,10
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = S1,37
getpower = -8
givepower = 0
guardsound = S1,38
sprpriority = -2
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = -1,0
airguard.velocity = -.5,-1
air.type = low
air.velocity = -1,0
air.hittime = 12
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4
fall =1

[State 611, 5]
type = ChangeState
trigger1 = animTime = 0
value = 623
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 2004]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1074
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value =90

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime=0

;-------------------------------------------------------------------------------
[Statedef 630]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 630
sprpriority = -2
facep2=1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nomusic

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S1,31
volume = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Introduse Effect 3"
ID = 20003
stateno = 20003
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.height = 10010
supermovetime=9999
pausemovetime=9999

[State -1]
Type     = Pause
Trigger1 = Time = 0
Time     = 50
MoveTime = 25
Darken   = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2019
ID = 1073
pos = 3,-60
postype = p1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 8
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S2,21
volume = 1

[State 600, 5]
type = ChangeState
trigger1 = Time = 50
value = 631
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 631]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 631
poweradd = -2000
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1079
ID = 1087
pos = 0,20
postype = p1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 8
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1081
ID = 1090
pos = -30,5
postype = p1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 8
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nomusic

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S1,39
volume = 1

[State 1]
type = Explod
trigger1 = timemod=1,0
anim =1007
id = 1007
pos =5,3
vel = -2,0
scale = 0.4,0.2
ontop = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 30

[State -1]
type = NotHitBy
trigger1= 1
value = SCA
time = 1
supermovetime = 9999
pausemovetime = 9999

[State 611, 5]
type = ChangeState
trigger1 = p2bodydist x<0
value = 632
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 632]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 632
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = noshadow
flag2 = unguardable

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nomusic

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 1
x = p2bodydist x+60

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 4
add = 200,200,200
mul = 256,256,256
color=0

[State 0, Explod]
type = Explod
trigger1=time = 0
anim = 1076
ID = 1086
pos = -100,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove =9999
pausemove =9999
scale = 1,.5
sprpriority = 10
ontop = 1
ownpal = 1


[State 0, Explod]
type = Explod
trigger1 = movehit=1
trigger1 = target, time = 0
anim = 1076
ID = 1086
pos = -100,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove =9999
pausemove =9999
scale = 1,.5
sprpriority = 10
ontop = 1
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 60
ampl = -5
phase = 90

[State 200, 1]
type = HitDef
trigger1 = time=0
attr = S, NA
damage = 0,0
animtype = medium
air.animtype = medium
affectteam = E
guardflag = M
hitflag = MAF
priority = 4,hit
pausetime = 0,0
ground.pausetime = 0,5
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = high
ground.slidetime = 20
guard.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = high
air.velocity = -1,-3
air.hittime = 12
p1getp2facing = -1
getpower = 8
givepower = 0
envshake.time = 2
envshake.freq = 12
envshake.ampl = 1*ifelse(random<500,1,-1)
envshake.phase = 90
yaccel = 0.4
p2stateno = 635

[State 611, 5]
type = ChangeState
trigger1 = movehit=1
value = 634
ctrl = 1

[State 611, 5]
type = ChangeState
trigger1 = animTime = 0
value = 633
ctrl = 1

[Statedef 633]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 633
sprpriority = 2

[state 20, 0]
type = playsnd
trigger1 = animelem =1
trigger2 = animelem =5
value = S1,1
volume = 1

[State 20, 1]
type = VelSet
trigger1 = time<42
x = const(velocity.walk.fwd.x)

[State 611, 5]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 634]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 634
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 =1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = nobardisplay
flag2 = nomusic

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[state 20, 0]
type = playsnd
trigger1 = animelem =5
trigger2 = animelem =9
value = S1,1
volume = 1

[State 20, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x)-1

[State 634, 5]
type = ChangeState
trigger1 = animTime = 0
value = 636
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 635]
type    = S
movetype= H
physics = N
velset = 0,0

[State 0, PosFreeze]
type = PosFreeze
trigger1 =  1
value = 1

[State 0, Stance]
type = Changeanim
trigger1 = 1
value = 5000
;-------------------------------------------------------------------------------
[Statedef 636]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 636
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 =1
value = 0

[State 0, Helper]
type = Helper
trigger1 = time=50
helpertype = normal ;player
name = "Kanji1"
ID = 1068
stateno = 1068
pos = 0,0
postype = back
facing = 1
keyctrl = 0
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Helper]
type = Helper
trigger1 = time=70
helpertype = normal ;player
name = "Kanji2"
ID = 1069
stateno = 1069
pos = 0,0
postype = back
facing = 1
keyctrl = 0
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Helper]
type = Helper
trigger1 = time=90
helpertype = normal ;player
name = "Kanji3"
ID = 1070
stateno = 1070
pos = 0,0
postype = back
facing = 1
keyctrl = 0
ownpal = 1
supermove=9999
pausemove=9999


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time<530
flag = nobardisplay
flag2 = nomusic

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time>4
trigger1 = time<530
trigger2 = time>=530
trigger2 = time<530
time = 2
color=0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time<=200
time = 2
color=ifelse((time-200)*5<200,(time-200)*5,200)

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time>=530
time = 2
color=ifelse((time-530)*15<256,(time-530)*15,256)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =107
value = S1,40
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S2,22
volume = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 10
helpertype = normal ;player
name = "Yahazu_Giri"
ID = 637
stateno = 637
pos = enemy, pos x = 0,enemy, pos y -34
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0, Pause]
type = Pause
trigger1 = time > 365
trigger1 = time < 565
trigger1 = WinKO=0
time = 3
movetime = 3
ignorehitpause = 1
persistent=5

[State 634, 5]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 637]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 641
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nomusic

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S1,41
volume = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=5
value = S1,42
volume = 1

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 2
mul = 128,128,128
color=0


[State 0, Explod]
type = Explod
trigger1 = movehit=1
trigger1 = target, time = 0
anim = 1086
ID = 1095
pos = -10,40
postype = p2 ;front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove =9999
pausemove =9999
scale =.7,.7
sprpriority = 20
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = movehit=1
trigger1 = target, time = 0
anim = 2017
ID = 1126
pos = 0,0
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove =9999
pausemove =9999
scale =1,1
sprpriority = 10
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = movehit=1
trigger1 = target, time = 0
anim = 1083
ID = 1092
pos = -50,-50
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove =9999
pausemove =9999
scale =1,1
sprpriority = 10
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = movehit=1
trigger1 = target, time = 0
anim = 1085
ID = 1094
pos = -50,-50
postype = back ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove =9999
pausemove =9999
scale =1,1
sprpriority = 10
ontop = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
trigger2 = time = 9
helpertype = normal ;player
name = "Hit spark6"
ID = 8106
stateno = 8106
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = .9
size.yscale = .9

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
trigger2 = time = 9
helpertype = normal ;player
name = "Hit spark6"
ID = 8106
stateno = 8106
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = .8
size.yscale = .8

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
trigger2 = time = 9
helpertype = normal ;player
name = "Hit spark6"
ID = 8106
stateno = 8106
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = .7
size.yscale = .7

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
trigger2 = time = 9
helpertype = normal ;player
name = "Hit spark6"
ID = 8106
stateno = 8106
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = .8
size.yscale = .8

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
trigger2 = time = 9
helpertype = normal ;player
name = "Hit spark6"
ID = 8106
stateno = 8106
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
trigger2 = time = 9
helpertype = normal ;player
name = "Hit spark6"
ID = 8106
stateno = 8106
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1
size.yscale = 1


[State 0, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 0+fvar(9)+fvar(10),0
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -10, -76
guard.sparkno = -1
hitsound = -1
ground.type = High
numhits = 0
ground.slidetime = 5
ground.hittime  = 12
getpower = 8
givepower = 0
ground.velocity = -0,0
guard.velocity = -5
airguard.velocity = -1.9,-3
air.type = High
air.velocity = -0,-10
fall.recover = 0
p2stateno = 639
air.hittime = 12
yaccel = 0.8
envshake.time = 6
envshake.freq = 20
envshake.ampl = 3*ifelse(random<500,5,-5)
envshake.phase = 100

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 10
value = 640
;-------------------------------------------------------------------------------
[Statedef 638]
type    = A
movetype= H
physics = N
velset = 0,-20

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = .8

[State 0, AfterImage]
type = AfterImage
trigger1 = time=0
time = 40
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 200,200,200
palpostbright = 0,0,0
paladd = -10,-10,-25
palmul = .85,.85,.85
timegap = 2
framegap = 1
trans = add

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1 + (40*time)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5050

[State 0, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100
;-------------------------------------------------------------------------------
[Statedef 639]
type    = S
movetype= H
physics = N
velset = 0,0

[State 0, PosFreeze]
type = PosFreeze
trigger1 =  1
value = 1

[State 0, Stance]
type = Changeanim
trigger1 = 1
value = 5002
;-------------------------------------------------------------------------------
[Statedef 640]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 641
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nomusic

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, Explod]
type = Explod
trigger1 = movehit=1
trigger1 = target, time = 0
anim = 2016
ID = 1125
pos = -10,-20
postype = p2 ;front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove =9999
pausemove =9999
scale =.7,.7
sprpriority = 20
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = movehit=1
trigger1 = target, time = 0
anim = 1082
ID = 1091
pos = 150,250
postype = back ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove =9999
pausemove =9999
scale =1,1
sprpriority = 10
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = movehit=1
trigger1 = target, time = 0
anim = 1084
ID = 1093
pos = -50,-50
postype = back ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove =9999
pausemove =9999
scale =1,1
sprpriority = 10
ontop = 1
ownpal = 1

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 2
mul = 128,128,128
color=0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark6"
ID = 8106
stateno = 8106
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = .7
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark6"
ID = 8106
stateno = 8106
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = .7
size.yscale = .7

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark6"
ID = 8106
stateno = 8106
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = .7
size.yscale = .7

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark6"
ID = 8106
stateno = 8106
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = .7
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark6"
ID = 8106
stateno = 8106
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = .7
size.yscale = .7

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
trigger1 = target,time = 0
helpertype = normal ;player
name = "Hit spark6"
ID = 8106
stateno = 8106
pos = -5,-50
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = .7
size.yscale = .7

[State 0, 1]
type = HitDef
trigger1 = Time = 30
attr = S, NA
damage = 700+fvar(9)+fvar(10),0
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -10, -76
guard.sparkno = -1
hitsound = s1, 19
ground.type = High
numhits = 0
ground.slidetime = 5
ground.hittime  = 12
getpower = 8
givepower = 0
ground.velocity = -0,0
guard.velocity = -5
airguard.velocity = -1.9,-3
air.type = High
air.velocity = -0,-10
fall = 1
fall.recover = 0
p2stateno = 638
air.hittime = 12
yaccel = 0.8
envshake.time = 20
envshake.freq = 110
envshake.ampl = -7
envshake.phase = 90

[State 0, destroyself]
type = destroyself
trigger1 = time = 50
;-------------------------------------------------------------------------------
[Statedef 650]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =650
sprpriority = 2

[State 650, 5]
type = ChangeState
trigger1 = time = 10
value = 651
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 651]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =651
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 3
y = -3

[State 650, 5]
type = ChangeState
trigger1 = time = 10
value = 652
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 652]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim =652
poweradd = -300
sprpriority = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 10
anim = 1090
ID = 1102
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing =  ifelse(facing=1,1,-1)
vfacing = 1
bindtime = 1
removetime = -2
supermove =9999
pausemove =9999
scale = .8,.8
sprpriority = 10
ontop = 1
shadow = 0,0,0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 10
helpertype = normal
name = "Sleep Music"
id = 1071
stateno = 1071
pos = 0,-40
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermove = 9999
pausemove = 9999
size.xscale =.8
size.yscale =.8

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HTA
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =20
value = S2,23
volume = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,44
volume = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 650, 5]
type = ChangeState
trigger1 = time = 130
value = 653
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 653]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim =651
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 3
y = 3

[State 652, 5]
type = ChangeState
trigger1 = animtime = 0
value = 41
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 654]
type    = U
physics = S
velset = 0,0
anim = 5300

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
trigger1 = Anim != ifelse(anim=5300,5300,5000) && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = ifelse(anim=5300,5300,5000)

[State 0, Power Giver]
type = powerAdd
trigger1 = NumTarget
trigger2 = time<480
value = floor(ifelse(70 * fvar(88) < 7, 1, -70 * fvar(88)))

[State 4003, SelfState]
type = SelfState
triggerall = statetype = A
Trigger1 = !time
value = 5050

[State 0, SelfState]
type = SelfState
triggerall = statetype != A
trigger1 = time=480
value = 0
ctrl=1
;-------------------------------------------------------------------------------
[Statedef 660]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =660
sprpriority = 2

[State 660, 5]
type = ChangeState
trigger1 = time = 10
value = 661
ctrl = 1
;-------------------------------------------------------------------------------

[Statedef 661]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =661
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 2
y = -2




[State 660, 5]
type = ChangeState
trigger1 = time = 8
value = 662
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 662]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim =662
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 0

[State 200, 1]
type = HitDef
triggerall = p2stateno!=10111
triggerall = p2stateno!=370
triggerall = p2stateno!=654
triggerall = var(16)!=1
trigger1 = numhelper(10121)!=1
trigger1 = numhelper(10132)!=1
trigger1 = numhelper(10135)!=1
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = light
air.animtype = light
affectteam = E
guardflag = MA
hitflag = MAF
priority = 5,hit
pausetime = 0,0
sprpriority = 10
getpower = 0
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = low
air.velocity = 0,0
air.hittime = 20
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S2,24
volume = 1

[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 3
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 30   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = movehit=1
v = 30   ;fv = 10
value = 1

[State 660, 5]
type = ChangeState
trigger1 = time = 65
value = 663
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 663]
type    = s
movetype= A
physics = s
juggle  = 1
velset = 0,0
ctrl = 0
anim =663
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 =1
x = 1
y = 1

[State 660, 5]
type = ChangeState
trigger1 = var(30)=0
trigger1 = time =16
value = 665
ctrl = 1

[State 660, 5]
type = ChangeState
trigger1 = var(30)=1
trigger1 = time =16
value = 666
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 664]
type    = S
movetype= A
physics = s
juggle  = 1
velset = 0,0
ctrl = 0
anim =664
sprpriority = 2

[State 660, 5]
type = ChangeState
trigger1 = animtime = 0
value = 665
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 665]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =665
sprpriority = 2

[State 660, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 666]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =666
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S2,25
volume = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 11
helpertype = player
name = "Ilusion Carnival"
ID = 670
stateno = 670
pos = 50,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
supermove =9999
pausemove =9999


[State 660, 5]
type = ChangeState
trigger1 = var(32)=1
value = 664
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 670]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =670
sprpriority = 2
facep2=1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,45
volume = 1

[State 660, 5]
type = ChangeState
trigger1 = animtime = 0
value = 671
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 671]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =671
sprpriority = 2
facep2=1

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim =1096
id = 1110
pos = -17,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 500
supermove =9999
pausemove =9999
scale = 1,1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim =1099
id = 1112
pos = 50,-8
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
supermove =9999
pausemove =9999
scale = 1,1
sprpriority = 0
ownpal = 1

[State 660, 5]
type = ChangeState
trigger1 = time = 524
value = 672
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 672]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =672
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, Explod]
type = Explod
trigger1 = !time
anim =2008
id = 1113
pos = -0,-8
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
supermove =9999
pausemove =9999
scale = 1,1
sprpriority = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim =2009
id = 1114
pos = -35,-5
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
supermove =9999
pausemove =9999
scale = 1,1
sprpriority = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim =2009
id = 1114
pos = -35,-5
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
supermove =9999
pausemove =9999
scale = 1,1
sprpriority = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim =1097
id = 1111
pos = 55,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
supermove =9999
pausemove =9999
scale = 1,1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = !time
anim =1098
id = 1111
pos = 55,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
supermove =9999
pausemove =9999
scale = 1,1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0


[State 0, Explod]
type = Explod
trigger1 = !time
anim =1097
id = 1111
pos = -55,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
supermove =9999
pausemove =9999
scale = 1,1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = !time
anim =1098
id = 1111
pos = -55,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
supermove =9999
pausemove =9999
scale = 1,1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = !time
anim =2010
id = 1115
pos = 85,-6
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
supermove =9999
pausemove =9999
scale = 1,1
sprpriority = 0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = !time
anim =2011
id = 1116
pos = -85,-6
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
supermove =9999
pausemove =9999
scale = 1,1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim =2012
id = 1117
pos = -88,-6
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
supermove =9999
pausemove =9999
scale = 1,1
sprpriority = -1
ownpal = 1
removeongethit = 1


[State 660, 5]
type = ChangeState
trigger1 = time = 100
value = 673
ctrl = 1


;Hit Sparks
[StateDef 8100]
Physics = N
Anim    = 1002
sprpriority=6

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sparks"
ID = 8101
stateno = 8101
pos = 0,0
postype = p1
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 1003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
supermove=9999
pausemove=9999


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;Scale
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = 1

;Alpha
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 255

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Scale Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 5
value = 0.75

;Alpha Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>6
v = 6
value = -50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(10)
scale = fvar(5),1.0/fvar(5)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(6), 256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(6)<=0
;--------------------------------------------------------------------------- ---
[StateDef 8101]
Physics = N
anim = 1004
sprpriority=5

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

;Temp Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Temp Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1+random % 3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Spark"
ID = 8103
stateno = 8103
pos = 0,0
postype = p1
supermove=9999
pausemove=9999
size.ground.back=var(10)
size.height=var(11)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time=1


[StateDef 8103]
Physics = N
Anim    = 1005
sprpriority=6

;Alpha
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = 255.0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = floor(fvar(5)),256

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = const(size.ground.back)

;Speed
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 15
value = const(size.height)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value =  -var(10)-90
scale =  0.07,0.5+var(15)*0.1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 1.2*var(15)*cos(var(10)*(pi/180.0))
y = 1.2*var(15)*sin(var(10)*(pi/180.0))


[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 5
value = -40.0/var(15)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = fvar(5)<=0
;-------------------------------------------------------------------------------
[StateDef 8104]
Physics = N
Anim    = 1002
sprpriority=10

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sparks"
ID = 8101
stateno = 8101
pos = 0,0
postype = p1
ownpal = 1
supermove=9999
pausemove=9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;Scale
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = 1

;Alpha
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 255

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Scale Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 5
value = 0.75

;Alpha Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>6
v = 6
value = -50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(10)
scale = fvar(5),1.0/fvar(5)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(6), 256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(6)<=0
;-------------------------------------------------------------------------------
[StateDef 8105]
Physics = N
Anim    = 1005
sprpriority=10

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sparks"
ID = 8101
stateno = 8101
pos = 0,0
postype = p1
ownpal = 1
supermove=9999
pausemove=9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sparks"
ID = 8101
stateno = 8101
pos = 0,0
postype = p1
ownpal = 1
supermove=9999
pausemove=9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;Scale
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = 1

;Alpha
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 255

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Scale Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 5
value = 0.75

;Alpha Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>6
v = 6
value = -50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(10)
scale = fvar(5),1.0/fvar(5)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(6), 256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(6)<=0
;-------------------------------------------------------------------------------
;Hit Sparks
[StateDef 8106]
Physics = N
Anim    = 1002
sprpriority=6


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;Scale
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = 1

;Alpha
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 255

;Angle
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = random % 360

;Scale Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>0
fv = 5
value = 0.75

;Alpha Add
[State 0, VarAdd]
type = VarAdd
trigger1 = time>6
v = 6
value = -50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(10)
scale = fvar(5),1.0/fvar(5)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(6), 256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(6)<=0

;===============================================================================
;Super Effects
;===============================================================================
[StateDef 1063]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1063
sprpriority = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 60
pos = -10,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value =50

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime=0
trigger2 = parent,stateno!=500
;-------------------------------------------------------------------------------
[StateDef 1064]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1063
sprpriority = 10

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 60
pos = -17,-30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value =50

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime=0
trigger2 = parent,stateno!=500
;-------------------------------------------------------------------------------
[StateDef 1065]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1063
sprpriority = 10

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 60
pos = -20,-50

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value =50

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime=0
trigger2 = parent,stateno!=500
;-------------------------------------------------------------------------------
[StateDef 1066]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1064
sprpriority = 10

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 60
pos = -25,-30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value =40

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime=0
trigger2 = parent,stateno!=262
;-------------------------------------------------------------------------------
[StateDef 1067]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1064
sprpriority = 10

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 60
pos = 6,-13

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value =-2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime=0
trigger2 = parent,stateno!=280
;-------------------------------------------------------------------------------
[StateDef 1068]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 464
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1087
ID = 1100
pos = 280,40
postype = back
facing = ifelse(facing=1,1,-1)
vfacing = 1
bindtime = 1
removetime = -2
scale=2,2
supermove=9999
pausemove=9999
sprpriority = 20
ontop = 1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time<=20
ID = 1100
scale = 2-fvar(20)+4,2-fvar(20)+4
trans = addalpha
alpha = time*16-ifelse(time>8,-(time-8)*32,0), 256
supermove =9999
pausemove =9999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 10
freq = 60
ampl = -4
phase = 90

[State 0, VarSet]
type = VarSet
trigger1 = !time
fv = 20
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = time*3
fv = 20
value = 0.3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 10
freq = 60
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S1,43

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time=100
;-------------------------------------------------------------------------------
[StateDef 1069]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 464
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 =!time
anim = 1088
ID = 1102
pos = 160,120
postype = back
facing = ifelse(facing=1,1,-1)
vfacing = 1
bindtime = 1
removetime = -2
scale=2,2
supermove=9999
pausemove=9999
sprpriority = 20
ontop = 1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time<=20
ID = 1102
scale = 2-fvar(22)+4,2-fvar(22)+4
trans = addalpha
alpha = time*16-ifelse(time>8,-(time-8)*32,0), 256
supermove =9999
pausemove =9999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 10
freq = 60
ampl = -4
phase = 90

[State 0, VarSet]
type = VarSet
trigger1 = !time
fv = 22
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = time*3
fv = 22
value = 0.3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 10
freq = 60
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S1,43

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time=100
;-------------------------------------------------------------------------------
[StateDef 1070]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 464
sprpriority = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 =!time
anim = 1089
ID = 1101
pos = 40,190
postype = back
facing = ifelse(facing=1,1,-1)
vfacing = 1
bindtime = 1
removetime = -2
scale=2,2
supermove=9999
pausemove=9999
sprpriority = 20
ontop = 1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time<=20
ID = 1101
scale = 2-fvar(21)+4,2-fvar(21)+4
trans = addalpha
alpha = time*16-ifelse(time>8,-(time-8)*32,0), 256
supermove =9999
pausemove =9999

[State 0, VarSet]
type = VarSet
trigger1 = !time
fv = 21
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = time*3
fv = 21
value = 0.3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 10
freq = 60
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S1,43

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time=100
;-------------------------------------------------------------------------------
[StateDef 1071]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1090
sprpriority = 20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2= invisible

[State 0, Helper]
type = Helper
trigger1 = Movehit = 1
trigger1 = target,time = 0
trigger1 = numhelper(1072)=ifelse (p2stateno = 654,0,1)
helpertype = Normal
ID = 1072
pos = 0,0
name = "Timer"
postype = p1
stateno = 1072
ownpal = 1
supermove=9999
pausemove=9999

[State 200, 1]
type = HitDef
triggerall = p2stateno!=10111
triggerall = p2stateno!=370
triggerall = p2stateno!=654
triggerall = var(16)!=1
trigger1 = numhelper(10121)!=1
trigger1 = numhelper(10132)!=1
trigger1 = numhelper(10135)!=1
trigger1 = Time = 0
attr = S, SA
damage = 0,0
animtype = light
air.animtype = light
affectteam = E
guardflag = MA
hitflag = MAF
priority = 5,hit
pausetime = 0,0
sprpriority = 10
getpower = 0
givepower = 0
sparkno = 111111111111111111
sparkxy = -10, -26
hitsound = -1
guardsound = 6, 0
guard.sparkno = 111111111111111111111111111111
ground.type = low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = low
air.velocity = 0,0
air.hittime = 20
fall.animtype  = back
p2facing = ifelse(facing = -1,1,1)
p2stateno = 654

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
[Statedef 1072]
type    = A
movetype= A
physics = N
poweradd= 0
anim = 464
ctrl = 0
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = p2stateno = 654
trigger1 = !time
trigger1 = numexplod(1101)=0
trigger1 = target,time = 0
anim = 1091
ID = 1101
pos = 0,-100
postype = p2  ;p2,front,back,left,right
facing = ifelse (facing=1,-1,1)
bindtime =-2
removetime = -2
scale = 1,1
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = p2stateno = 654
trigger1 = !time
trigger1 = numexplod(1103)=0
trigger1 = target,time = 0
anim = 1092
ID = 1103
pos = 20,-80
postype = p2  ;p2,front,back,left,right
facing = ifelse (facing=1,-1,1)
bindtime =-2
removetime = -2
scale = .5,.5
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1095
ID = 1106
pos = 10,-30
postype = p2
facing = ifelse (facing=1,-1,1)
vfacing = 1
bindtime = 1
vel = 0,-1
removetime = 50
scale = .2,.2
sprpriority = 20
ownpal =1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
trigger1 = p2statetype !=A
anim = 1093
ID = 1104
pos = 5,-40
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 20
ownpal =1
supermove=9999
pausemove=9999

[State 0, Explod]
type = Explod
trigger1 = !time
trigger1 = p2statetype !=A
anim = 1094
ID = 1105
pos = 5,-40
postype = p2
facing = 1
bindtime =-2
removetime = 40
scale = .7,.7
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
supermove=9999
pausemove=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time<40
ID =  1105
scale = .7-fvar(30),.7-fvar(30)
supermove =9999
pausemove =9999

[State 0, VarSet]
type = VarSet
trigger1 = !time
fv = 30
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time*3
fv = 30
value = .02

[State 10133, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 654
trigger2 = time = 480
id =1101

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 654
trigger2 = time = 480
id =1103

[State 10133, 1]
type = DestroySelf
trigger1 = time = 480
trigger1 = p2stateno = 654
trigger2 = p2stateno != 654
;===============================================================================
; Mugshot	MBAA-Type
;===============================================================================
[StateDef 20000]
Physics = N
Anim    = 464

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = nobardisplay
flag2 = Noshadow
flag3 = Invisible


[State -1]
type = NotHitBy
trigger1= 1
value = SCA
time = 1
supermovetime = 9999
pausemovetime = 9999

[state 0, BG]
type = BGpalfx
trigger1 = time = 0
add=0,0,0
sinadd = -256,-256,-256, 60
time = 15
invertall = 0
persistent = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 0, BG]
type = BGpalfx
trigger1 = time = 15
add=-256,-256,-256
time = 35
invertall = 0
persistent = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 0, BG]
type = BGpalfx
trigger1 = time = 50
add=-256,-256,-256
sinadd = 256,256,256, 60
time = 15
invertall = 0
persistent = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
trigger1 = Time = 0
anim = 1065
ID = 1071
postype = back
pos = 0,230
bindtime=-1
vel = 0,0
ownpal = 1
scale= 0.5,0.5
SprPriority = -10
ontop = 0
removetime = -2
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State -1]
type = Explod
trigger1 = Time = 10
anim = 1066
ID = 1072
postype = back
pos = 0,150
vel = 4,0
ownPal = 1
scale = 0.4,0.4
sprpriority = 10
ontop = 0
removetime  = 34
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999
trans = Addalpha


[State -1]
type = Explod
trigger1 = Time = 10
anim = 1067
ID = 1073
postype = back
pos = 0,148
vel = 4,0
ownPal = 1
scale = 0.4,0.4
sprpriority = 10
ontop = 0
removetime  = 34
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999
trans = Addalpha

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =  Time >= 15
ID = 1072
scale = .4+fvar(12),.4+fvar(12)
trans = Addalpha
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =  Time >= 15
ID = 1073
scale = .4+fvar(12),.4+fvar(12)
trans = Addalpha
supermovetime = 9999
pausemovetime = 9999

[State 0, VarSet]
type = VarSet
trigger1 = time =25
fv = 12
value =0
supermovetime = 9999
pausemovetime = 9999

[State 0, Varadd]
type = Varadd
trigger1 = Time>25
fv = 12
value =0.015
supermovetime = 9999
pausemovetime = 9999

[State -1, DestroySelf]
type = DestroySelf
trigger1 = Time = 80
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
;-------------------------------------------------------------------------------
[StateDef 20001]
Physics = N
Anim    = 464

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = nobardisplay
flag2 = Noshadow
flag3 = Invisible

[State -1]
type = NotHitBy
trigger1= 1
value = SCA
time = 1
supermovetime = 9999
pausemovetime = 9999

[state 0, BG]
type = BGpalfx
trigger1 = time = 0
add=0,0,0
sinadd = -256,-256,-256, 60
time = 15
invertall = 0
persistent = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 0, BG]
type = BGpalfx
trigger1 = time = 15
add=-256,-256,-256
time = 35
invertall = 0
persistent = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 0, BG]
type = BGpalfx
trigger1 = time = 50
add=-256,-256,-256
sinadd = 256,256,256, 60
time = 15
invertall = 0
persistent = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
trigger1 = Time = 0
anim = 1069
ID = 1074
postype = back
pos = 0,230
bindtime=-1
vel = 0,0
ownpal = 1
scale= 0.5,0.5
SprPriority = -10
ontop = 0
removetime = -2
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State -1]
type = Explod
trigger1 = Time = 10
anim = 1070
ID = 1072
postype = back
pos = 0,150
vel = 4,0
ownPal = 1
scale = 0.4,0.4
sprpriority = 10
ontop = 0
removetime  = 34
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999
trans = Addalpha

[State -1]
type = Explod
trigger1 = Time = 10
anim = 2020
ID = 1072
postype = back
pos = 0,150
vel = 4,0
ownPal = 1
scale = 0.4,0.4
sprpriority = 10
ontop = 0
removetime  = 34
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999
trans = Addalpha

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =  Time >= 15
ID = 1072
scale = .4+fvar(12),.4+fvar(12)
trans = Addalpha
supermovetime = 9999
pausemovetime = 9999

[State 0, VarSet]
type = VarSet
trigger1 = time =25
fv = 12
value =0
supermovetime = 9999
pausemovetime = 9999

[State 0, Varadd]
type = Varadd
trigger1 = Time>25
fv = 12
value =0.015
supermovetime = 9999
pausemovetime = 9999

[State -1, DestroySelf]
type = DestroySelf
trigger1 = Time = 100
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
;-------------------------------------------------------------------------------
[StateDef 20002]
Physics = N
Anim    = 464

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = nobardisplay
flag2 = Noshadow
flag3 = Invisible


[State -1]
type = NotHitBy
trigger1= 1
value = SCA
time = 1
supermovetime = 9999
pausemovetime = 9999

[state 0, BG]
type = BGpalfx
trigger1 = time = 0
add=0,0,0
sinadd = -256,-256,-256, 60
time = 15
invertall = 0
persistent = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 0, BG]
type = BGpalfx
trigger1 = time = 15
add=-256,-256,-256
time = 35
invertall = 0
persistent = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 0, BG]
type = BGpalfx
trigger1 = time = 50
add=-256,-256,-256
sinadd = 256,256,256, 60
time = 15
invertall = 0
persistent = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
trigger1 = Time = 0
anim = 1065
ID = 1071
postype = back
pos = 0,230
bindtime=-1
vel = 0,0
ownpal = 1
scale= 0.5,0.5
SprPriority = -10
ontop = 0
removetime = -2
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State -1]
type = Explod
trigger1 = Time = 10
anim = 2021
ID = 1072
postype = back
pos = 0,150
vel = 4,0
ownPal = 1
scale = 0.3,0.3
sprpriority = 10
ontop = 0
removetime  = 34
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999
trans = Addalpha


[State -1]
type = Explod
trigger1 = Time = 10
anim = 2022
ID = 1073
postype = back
pos = 0,150
vel = 4,0
ownPal = 1
scale = 0.3,0.3
sprpriority = 10
ontop = 0
removetime  = 34
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999
trans = Addalpha

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =  Time >= 15
ID = 1072
scale = .3+fvar(12),.3+fvar(12)
trans = Addalpha
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =  Time >= 15
ID = 1073
scale = .3+fvar(12),.3+fvar(12)
trans = Addalpha
supermovetime = 9999
pausemovetime = 9999

[State 0, VarSet]
type = VarSet
trigger1 = time =25
fv = 12
value =0
supermovetime = 9999
pausemovetime = 9999

[State 0, Varadd]
type = Varadd
trigger1 = Time>25
fv = 12
value =0.015
supermovetime = 9999
pausemovetime = 9999

[State -1, DestroySelf]
type = DestroySelf
trigger1 = Time = 80
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
;-------------------------------------------------------------------------------
[StateDef 20003]
Physics = N
Anim    = 464

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = nobardisplay
flag2 = Noshadow
flag3 = Invisible


[State -1]
type = NotHitBy
trigger1= 1
value = SCA
time = 1
supermovetime = 9999
pausemovetime = 9999

[state 0, BG]
type = BGpalfx
trigger1 = time = 0
add=0,0,0
sinadd = -256,-256,-256, 60
time = 15
invertall = 0
persistent = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 0, BG]
type = BGpalfx
trigger1 = time = 15
add=-256,-256,-256
time = 35
invertall = 0
persistent = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 0, BG]
type = BGpalfx
trigger1 = time = 50
add=-256,-256,-256
sinadd = 256,256,256, 60
time = 15
invertall = 0
persistent = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
trigger1 = Time = 0
anim = 2018
ID = 1071
postype = back
pos = 0,240
bindtime=-1
vel = 0,0
ownpal = 1
scale= 1.1,1.1
SprPriority = -10
ontop = 0
removetime = -2
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State -1]
type = Explod
trigger1 = Time = 10
anim = 1077
ID = 1072
postype = back
pos = 0,150
vel = 4,0
ownPal = 1
scale = 0.4,0.4
sprpriority = 10
ontop = 0
removetime  = 34
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999
trans = Addalpha


[State -1]
type = Explod
trigger1 = Time = 10
anim = 1078
ID = 1073
postype = back
pos = 0,148
vel = 4,0
ownPal = 1
scale = 0.4,0.4
sprpriority = 10
ontop = 0
removetime  = 34
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999
trans = Addalpha

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =  Time >= 15
ID = 1072
scale = .4+fvar(12),.4+fvar(12)
trans = Addalpha
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =  Time >= 15
ID = 1073
scale = .4+fvar(12),.4+fvar(12)
trans = Addalpha
supermovetime = 9999
pausemovetime = 9999

[State 0, VarSet]
type = VarSet
trigger1 = time =25
fv = 12
value =0
supermovetime = 9999
pausemovetime = 9999

[State 0, Varadd]
type = Varadd
trigger1 = Time>25
fv = 12
value =0.015
supermovetime = 9999
pausemovetime = 9999

[State -1, DestroySelf]
type = DestroySelf
trigger1 = Time = 80
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
;-------------------------------------------------------------------------------
;Air Traectory N1
[Statedef 8000]
type    = A
movetype= H
physics = N
velset = -15,-6

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = .6

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5035

[State -1]
Type = ScreenBound
Trigger1 = Time <= 25
Value = 1
MoveCamera = 1,1

[State -1]
Type = ScreenBound
Trigger1 = Time > 25
Value = 1
MoveCamera = 0,1

[State -1]
Type = Width
Trigger1 = 1
Edge = 0,-Const(Size.Air.Back)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
Trigger2 = BackEdgeDist <= 0
time = 1

[State -1]
Type = ChangeState
TriggerAll = Time = [0,11]
TriggerAll = BackEdgeDist <= 0
Trigger1 = 1
Value = 8001

[State -1]
Type = ChangeState
TriggerAll = Time >= 12
TriggerAll = BackEdgeDist <= 0
Trigger1 = 1
Value = 8002

[State 0, SelfState]
type = SelfState
trigger1 = time = 50
value = 5050
;-------------------------------------------------------------------------------
; Wall 1
[Statedef 8001]
Type     = A
MoveType = H
Physics  = N
Ctrl     = 0
VelSet   = 0,0

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Width
Trigger1 = Time = [0,6]
Edge = -Const(Size.Air.Front),-Const(Size.Air.Back)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Width
Trigger1 = Time >= 7
Trigger1 = Const(Size.Air.Front)-(Time-7) > 0
Edge = -Const(Size.Air.Front)+(Time-7),0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitFallSet
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= -30
Trigger2 = Vel Y > 4
Value = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = SelfState
TriggerAll = Alive
TriggerAll = time>32
Trigger1 = !CanRecover
Value = 5210

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1]
Type = EnvShake
Trigger1 = Time = 0
Time  = 10
Ampl  = 5
Freq  = 90

[State -1]
Type = VelSet
Trigger1 = Time = 5
X = -0.3
Y = -5.2

[State -1]
Type = VelAdd
Trigger1 = Time >= 6
Y = .4

[State -1]
Type = SelfState
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 5100
;-------------------------------------------------------------------------
;Wall 2
[Statedef 8002]
Type     = A
MoveType = H
Physics  = N
Ctrl     = 0
VelSet   = 0,0

[State -1]
Type = Width
Trigger1 = Time = [0,6]
Edge = -Const(Size.Air.Front),-Const(Size.Air.Back)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Width
Trigger1 = Time >= 7
Trigger1 = Const(Size.Air.Front)-(Time-7) > 0
Edge = -Const(Size.Air.Front)+(Time-7),0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Turn
TriggerAll = Time >= 6
TriggerAll = Alive
TriggerAll = CanRecover
TriggerAll = P2BodyDist X < 0
trigger1 = time>20;
Trigger1 = !CanRecover

[State -1]
Type = SelfState
TriggerAll = Time >= 6
TriggerAll = Alive
triggerall = time>20
Trigger1 = !CanRecover
Value = 5210

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1]
Type = EnvShake
Trigger1 = Time = 0
Time  = 10
Ampl  = 5
Freq  = 90

[State -1]
Type = VelSet
Trigger1 = Time = 5
X = -2
Y = -4.6

[State -1]
Type = VelAdd
Trigger1 = Time >= 6
Y = .48

[State -1]
Type = HitFallSet
TriggerAll = Time = 6
Trigger1 = 1
Value = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = SelfState
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 5100
;===============================================================================
;===============================================================================
;===============================================================================
[StateDef 9741]
anim=9741
ctrl=0

[State 9741, safety]
type=selfstate
trigger1=!ishelper
value=0

[State 9741, end]
type=destroyself
trigger1=((root,ID)!=(parent,ID))||!(root,alive)
trigger2=roundstate!=2
trigger3=root,var(28)

[State 9741, facing]
type=turn
trigger1=facing!=root,facing
[State 9741, pausecheck]
type=varset
trigger1=(root,movecontact)&&!(root,ctrl)
trigger2=(facing!=root,facing)
var(0)=0

[State 9741, dirturnonAI]
type=parentvarset
triggerall=var(0)
trigger1=(root,command="up")||(root,command="down")||(root,command="back")||(root,command="fwd")
var(28)=28

[State 9741, dirturnoffAI]
type=parentvarset
trigger1=(command="up")&&(root,command="up")
trigger2=(command="down")&&(root,command="down")
trigger3=(command="back")&&(root,command="back")
trigger4=(command="fwd")&&(root,command="fwd")
var(28)=-1

[State 9741, buttonturnonAI]
type=parentvarset
triggerall=var(0)
trigger1=(root,command="a")||(root,command="b")||(root,command="c")||(root,command="x")
trigger2=(root,command="y")||(root,command="z")||(root,command="s")
var(28)=28

[State 9741, buttonturnoffAI]
type=parentvarset
trigger1=(command="a")&&(root,command="a")
trigger2=(command="b")&&(root,command="b")
trigger3=(command="c")&&(root,command="c")
trigger4=(command="x")&&(root,command="x")
trigger5=(command="y")&&(root,command="y")
trigger6=(command="z")&&(root,command="z")
trigger7=(command="s")&&(root,command="s")
var(28)=-1

[State 9741, unpausecheck]
type=varset
trigger1=root,ctrl
var(0)=1
;===============================================================================
;===============================================================================
;===============================================================================
[Statedef -2]

[State 0, PlaySnd]
type = PlaySnd
trigger1 = p2stateno = [8001,8002]
TRIGGER1 = enemy,backedgeDist <= 0
trigger1 = numexplod(1083)=0
value = S1,34
volume = 2

[State -1, Spark]
type = Explod
trigger1 = p2stateno = [8001,8002]
TRIGGER1 = enemy,backedgeDist <= 0
trigger1 = numexplod(1083)=0
anim = 1073
id = 1083
pos = -5,-30
postype = p2
facing=1
scale = .5,.5
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = numexplod(1063)=0
trigger1 = var(9)!=1
trigger1 = Life<=200
trigger1 = var(23)!=1
trigger1 = var(22)!=1
trigger1 = life!=0
trigger1 = !win
trigger1 = !winperfect
trigger1 = !lose
anim = 1061
ID = 1063
pos = ifelse(teamside = 1, 45, 275),100
postype = left
facing = ifelse (facing=1,1,1)
vfacing = 1
bindtime = -1
vel = 0,1
removetime = -2
scale = 0.2,0.2
sprpriority = 10
ownpal =1
supermove=9999
pausemove=9999

[State 0, VarSet]
type = VarSet
trigger1 = time<0
v = 18
value = 0

[State -2, Slow Time for Sonet 2]
type = pause
trigger1 = var(16)= 1 & time%2 = 0
time = 1
movetime = 1

[State -2, Slow Time for Aubade]
type = pause
trigger1 = var(25)=1 & time%3=0
time = 3
movetime = 3

[state -2, Last Chanse]
type =  SelfState
triggerall = life>0
triggerall = var(22)!=1
triggerall = stateno != 480
triggerall = p2life != 0
triggerall = gethitvar(damage) >= life
trigger1 = power >= 3000
value = 480

[Statedef -3]


[State 0, VarSet]
type = VarSet
trigger1 = stateno = 610
v = 25
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = stateno = 612
v = 25
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = power>1500
v = 24
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = power<1500
v = 24
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = power>1000
v = 26
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = power<1000
v = 26
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = power>2000
v = 27
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = power<2000
v = 27
value = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = stateno!=500
channel = 10

[State 0, Explod]
type = Explod
trigger1 = numexplod(1053)=0
trigger1 = var(23)=1
anim = 1051
ID = 1053
pos = ifelse(teamside = 1, 50, 265),80
postype = left
facing = ifelse (facing=1,1,1)
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.2,0.2
ontop = 1
ownpal = 1
size.height=facing
sprpriority = 10
supermove=9999
pausemove=9999

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(23)=1
trigger1 = timemod=10,0
trigger1 = p2life!=0
trigger1 = life!=0
time = 1
add = floor(12.8*time),floor(3.2*time),0
mul = 256,floor(250-2.4*time),floor(256-2.4*time)

[State 0, PowerAdd]
type = PowerAdd
trigger1 = var(23)=1
trigger1 = p2life!=0
value = -4

[State 0, LifeAdd]
type = LifeAdd
trigger1 = var(23)=1
trigger1 = p2life!=0
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(23)=1
trigger1 = life<=1000
fv = 9
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = var(23)=1
trigger1 = life<=900
fv = 9
value = 10

[State 0, VarSet]
type = VarSet
trigger1 = var(23)=1
trigger1 = life<=1000
fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = var(23)=1
trigger1 = life<=500
fv = 10
value = 10


[State 0, VarSet]
type = VarSet
trigger1 = var(23)=1
trigger1 = life=0
v = 23
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = var(18)!=1
trigger1 = var(18)=2
trigger2 = var(18)=3
id = 1047

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = var(18)!=2
trigger1 = var(18)=1
trigger2 = var(18)=3
id = 1048

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = var(18)!=3
trigger1 = var(18)=1
trigger2 = var(18)=2
id = 1049

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 40,0
v = 21
range = 1,2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno!=10132
trigger2 = stateno =370
id = 1045

[State 0, VarSet]
type = VarSet
trigger1 = var(16)=1
trigger1 = var(17)=1
v = 16
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(16)=0
v = 17
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(7)=0
trigger1 = var(7)!=1
trigger1 = numexplod(1023)!=0
id = 1023

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(7)=0
trigger1 = var(7)!=1
trigger1 = numexplod(1024)!=0
id = 1024

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno !=10131
trigger2 = stateno =370
trigger3 = var(20)=1
trigger4 = stateno =471
id = 1045

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(9)=0
trigger1 = var(9)!=1
trigger1 = numexplod(1050)!=0
id = 1050

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(23)=0
trigger1 = var(23)!=1
trigger1 = numexplod(1053)!=0
trigger2 = win
trigger3 = winperfect
trigger4 = lose
id = 1053

[State 0, VarSet]
type = VarSet
trigger1 = !Time
trigger1 = var(7)!=1
trigger2 = var(7) =0
v = 7
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
trigger1 = var(9)!=1
trigger2 = var(9) =0
v = 9
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = power<1
trigger2 = win
trigger3 = winperfect
trigger4 = lose
v = 7
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = power >1500
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = power = 0
trigger2 = life = 1000
trigger3 = win
trigger4 = winperfect
trigger5 = lose
v = 9
value = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = var(8)=1
trigger1 = var(8)!=0
value =1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = var(7)=1
value = -3

[State 0, PowerAdd]
type = PowerAdd
trigger1 = var(9)=1
value = -6

[State 0, LifeAdd]
type = LifeAdd
trigger1 = var(9)=1
value = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = anim != 221
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = anim = 230
channel = 7

[State 0, StopSnd]
type = StopSnd
trigger1 = anim != 5900
channel = 8
.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52
trigger2 = stateno = 106
value = 40, 0
;-------------------------------------------------------------------------------
;AI Cod

[State -3, SetAI]
type = VarSet
triggerall = Alive && !IsHelper
triggerall = IsHomeTeam
trigger1 = TeamSide = 2
trigger2 = MatchNo > 1
var(28) = 28

[State -3, ResetAI]
type = VarSet
trigger1 = var(28)&&(!alive||roundstate!=2)
var(28) = 0
ignorehitpause = 1

[State -2, Simplifier]
type = VarSet
trigger1 = (var(28) = 28)
trigger2 = (var(0):=0)
var(0) = 1
IgnoreHitPause = 1

[State -3, AI_Activation]
type=Helper
trigger1 = !numhelper(9741)&&roundstate=2&&alive&&!var(28)
helpertype = normal
name = "Huming Brook AI"
stateno = 9741
ID = 9741
pos = 9999,9999
keyctrl = 1
pausemovetime = 2147483647
supermovetime = 2147483647


