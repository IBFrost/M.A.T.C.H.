;==============================================================
; CNS File for Vegeta by Balthazar & Cybaster
; Normal states : standing, crouching & jumping basics, etc.
;==============================================================

;---------------------------------------------------------------------------
; TAUNT

[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 1

[State 3000, width]
type=width
trigger1= animelemtime(2)>=1
value=25,0

[State 200, Fuck voices]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
triggerall = var(39)>=18	;Adult version
trigger1 = !time
value = 195,random%2
channel = 0
volume = 300

[State 200, child voices]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
triggerall = var(39)<18		;Child version
trigger1 = !time
value = 195,2+random%3
channel = 0
volume = 300

[State 200, VS Goku voices]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
triggerall = !time
trigger1 = enemy,name="Goku" || enemy,name="Goku Z2" || enemy,name="SSJ Goku Z2" 
trigger2 = enemy,name="Songoku"
trigger3 = enemy,name="GokuHR"
trigger4 = enemy,name="super ssj3 goku v2"
trigger5 = enemy,name="Goku-n-hd by EmuBoarding"
trigger6 = enemy,name="SFXVI Goku"
trigger7 = enemy,name="Goku by Komodo"
trigger8 = enemy,name="Another Goku by HyperionX & Iron Mask"
trigger9 = enemy,name="Goku by ynvaser"
trigger10 = enemy,name="Goku Super Saiyajin"
trigger11 = enemy,name="SSJ Goku" || enemy,name="Goku SSJ"
trigger12 = enemy,name="SSJ2 Goku"
trigger13 = enemy,name="Goku Super Sayajin 2 by ribeiro"
trigger14 = enemy,name="[Necromancer's] Goku"
trigger15 = enemy,name="Goku-SSJ2"
trigger16 = enemy,name="SSJ Goku by Ryon"
trigger17 = enemy,name="Sup. Goku" || enemy,name="Sup.Goku"
trigger18 = enemy,name="Goku Super Sayajin by Roken"
trigger19 = enemy,name="NeoKakaroto"
trigger20 = enemy,name="Son Goku by Duende Macabro"
trigger21 = enemy,name="SSJ2 Goku Hyper Demension"
trigger22 = enemy,name="Goku By Hyper"
trigger23 = enemy,name="SSJ2-GOKU by BARDOCK"
trigger24 = enemy,name="Goku Legend"
trigger25 = enemy,name="SSJ3 Goku"
trigger26 = enemy,name="ss3goku"
trigger27 = enemy,name="Son-Goku-SSJ3"
trigger28 = enemy,name="Super Sayan 3"
trigger29 = enemy,name="GokuSSJ3"
value = 195,5+random%3
channel = 0
volume = 300

[State 200, Japanese voices]
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = !time
value = 195,10+random%2
channel = 0
volume = 300

[State 200, Taunt voices]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = !time
value = 195,20+random%2
channel = 0
volume = 300

[State 200, step sound]
type = PlaySnd
trigger1 = animelemtime(3)=0
value = 40,0
channel = 1

[State 195, 1]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = 53

[State 195, 1]
type = PosAdd
trigger1 = AnimElemTime(14) = 0
X = -53

[State 200, hit ground sound]
type = PlaySnd
trigger1 = animelemtime(15)=0
value = 5100,0
channel = 1

[state 17100, twirl FX]
type=explod
trigger1 = animelemtime(15)=0
anim=17100
id=17100
pos = -28,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = .7,.5

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND LIGHT PUNCH [DONE]

[StateDef 200]
type = S
movetype = A
physics = S
anim = 200
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
juggle = 7

[State 200, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=2 && random<200
value = 3,random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=2 && random<200
value = 4,random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=2 && random<200
value = 3,50+random%5
channel = 0
volume = 300

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 0
channel = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
damage = 23, 0
animtype = light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s7010
guard.sparkno = s7000
sparkxy = 0,-50
hitsound = s5, 0
guardsound = S6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 7
ground.velocity = -2.5 ;-3
guard.velocity = -4.5
airguard.velocity = -1.9,-.8	
air.velocity = -2,-2
air.hittime = 12
air.animtype = back
getpower= 40,35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 3000, basics limiter]
type = helper
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND MEDIUM PUNCH [DONE]

[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 7
poweradd= 10
ctrl = 0
velset = 0,0
anim = 210

[State 210, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1= animelem=2 && random<350
value=3,10+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=2 && random<350
value = 4,10+random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=2 && random<350
value = 3,60+random%2
channel = 0
volume = 300

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 1
channel = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
damage = 32, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 11
guard.pausetime = 11,11
sparkno = s7020
guard.sparkno = s7000
sparkxy = -12,-55
hitsound = s5, 1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2.5
guard.velocity = -6
airguard.velocity = -2,-1.1
air.type = High	
air.velocity = -3,-3
air.hittime = 12
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 3000, basics limiter]
type = helper
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND STRONG PUNCH [DONE]

[Statedef 220]
type = S
movetype = A
physics = S
anim = ifelse(p2bodydist x<15,225,220)
ctrl = 0
velset = 0,0
poweradd = 20
sprpriority = 3
juggle = 7

[State 200, PosAdd]
type = PosAdd
triggerall = anim=220
trigger1 = animelem = 4
X = 20

[State 220, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=4 && random<500
value = 3,20+random%2
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=4 && random<500
value = 4,20+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=4 && random<500
value = 3,70+random%2
channel = 0
volume = 300

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 7 && anim=220
trigger2 = animelem = 4 && anim=225
value = 0, 2
channel = 1

[State 200, 1]
type = HitDef
triggerall = anim=220
trigger1 = animelem = 8
attr = S, NA
damage = 45, 0
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-75
hitsound = s5, 2
guardsound = S6,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -7
guard.velocity = -9
airguard.velocity = -2.5,-1.3
air.type = High	
air.velocity = -4,-4
air.hittime = 12
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 200, 1]
type = HitDef
triggerall = anim=225
trigger1 = animelem = 6
attr = S, NA
damage = 50, 0
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -10,-55
hitsound = s5, 2
guardsound = S6,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -7
guard.velocity = -9
airguard.velocity = -2.5,-1.3
air.type = High	
air.velocity = -4,-4
air.hittime = 12
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 3000, basics limiter]
type = helper
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND LIGHT KICK [DONE]

[Statedef 230]
type = S
movetype = A
physics = S
anim = 230
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
juggle = 7

[State 200, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=3 && random<200
value = 3,random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=3 && random<200
value = 4,random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=3 && random<200
value = 3,50+random%5
channel = 0
volume = 300

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 3

[State 230, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = Light
damage    = 26,0
priority = 2, Hit
guardflag = MA
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-30
hitsound   = s5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -2.5
guard.velocity = -4.5
air.velocity = -2,-3
air.animtype = back
getpower= 40,35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 3000, basics limiter]
type = helper
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND MEDIUM KICK [DONE]

[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 7
poweradd= 10
ctrl = 0
velset = 0,0
anim = ifelse(p2bodydist x<20,245,240)
sprpriority = 2

[State 210, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1= animelem=3 && random<350
value=3,10+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=3 && random<350
value = 4,10+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=3 && random<350
value = 3,60+random%2
channel = 0
volume = 300

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4 && anim = 240
value = 0, 4

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3 && anim = 245
value = 0, 4

[State 240, 2]
type = HitDef
trigger1 = anim = 240
trigger1 = animelem = 4
attr = S, NA
animtype = Medium
damage = 37,0
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 11
guard.pausetime = 11,11
sparkno = s7020
guard.sparkno = s7000
sparkxy = -20,-75
hitsound   = s5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = -2
guard.velocity = -6
air.velocity = -3,-3
airguard.velocity = -2,-1.1
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 240, 2]
type = HitDef
trigger1 = anim = 245
trigger1 = animelem = 3
attr = S, NA
animtype = Medium
damage = 28,0
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 11
guard.pausetime = 11,11
sparkno = s7020
guard.sparkno = s7000
sparkxy = -20,-60
hitsound   = s5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = -2.5
guard.velocity = -4.5
air.velocity = -2,-2
airguard.velocity = -2,-1.1
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 3000, basics limiter]
type = helper
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND MEDIUM KICK COMBO

[Statedef 242]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 10
ctrl = 0
velset = 0,0
anim = 242
sprpriority = 2

[State 210, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1= animelem=3 && random<350
value=3,10+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=3 && random<350
value = 4,10+random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=3 && random<350
value = 3,60+random%2
channel = 0
volume = 300

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 4

[State 240, 2]
type = HitDef
trigger1 = anim = 242
trigger1 = animelem = 4
attr = S, NA
animtype = Medium
damage = 26,0
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 11
guard.pausetime = 11,11
sparkno = s7020
guard.sparkno = s7000
sparkxy = -15,-60
hitsound   = s5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2
guard.velocity = -4
air.velocity = -3,-3
airguard.velocity = -2,-1.1
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 3000, basics limiter]
type = helper
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 240, 1]
type = PosAdd
trigger1 = AnimTime = 0
X = 13

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND STRONG KICK

[Statedef 250]
type = S
movetype = A
physics = S
anim = 255  ;old one=250
ctrl = 0
velset = 0,0
poweradd = 20
sprpriority = 3
juggle = 7

[State 220, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=3 && random<500
value = 3,20+random%2
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=3 && random<500
value = 4,20+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=3 && random<500
value = 3,70+random%2
channel = 0
volume = 300

[State varset];s.SK juggle limiter
type = VarAdd
trigger1 = !time && var(40)>0
var(37) = 1

[State 250, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 5

[State 240, 1]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = 12

[State 250, no fall]
type = HitDef
trigger1 = !time && var(37)<2
attr = S, NA
animtype  = Hard
damage    = 48,0
priority = 4, Hit
guardflag = MA
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-85
hitsound   = s5,5
guardsound = S6,1
ground.type = high
ground.slidetime = 15
ground.hittime = 18 ;15
ground.velocity = -9
air.velocity = -4,-4
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
fall = 0

[State 250, fall because link limiter]
type = HitDef
trigger1 = !time && var(37)>=2
attr = S, NA
hitflag = M			;Limit infinite in the air
animtype  = Hard
damage    = 48,0
priority = 4, Hit
guardflag = MA
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-85
hitsound   = s5,5
guardsound = S6,1
ground.type = high
ground.slidetime = 15
ground.hittime = 18 ;15
ground.velocity = -9
air.velocity = -4,-4
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
fall = 1
fall.recover = 0

[State 3000, basics limiter]
type = helper
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 240, 1]
type = PosAdd
trigger1 = Animelemtime(11)=0
X = 21

[State varset]
type = Varset
trigger1 = movehit
var(40) = 1

[State 1000, baku 3]
type = Changestate
triggerall = command = "c"
triggerall = command != "holddown"
trigger1 = MoveHit
trigger1 = animelemtime(10)>2
value = 250

[State 240, 1]
type = PosAdd
trigger1 = Animelemtime(13)=0
;trigger1 = !animtime
X = 21

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; DASH ELBOW

[Statedef 300]
type = S
movetype = A
physics = N
anim = 300+var(12)
ctrl = 0
poweradd = 20
sprpriority = 3
juggle = 7
velset = 2.2*const(velocity.run.fwd.x),0

[State 220, "Rock You" voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 300,random%2
channel = 0
volume = 300

[State 220, "Watch out" (koko da) voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = !time
value = 301,0
channel = 0
volume = 300

[State 220, "drop dead, take this" voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = !time
value = 300,2+random%2
channel = 0
volume = 300

[State 3000, dust FX]
type = helper
trigger1 = (time%13)=0
helpertype = normal
stateno = 10000
ID = 10000
name = "run_dust"
postype = p1
pos = 0,0
ownpal = 1

;Wolverine Flip follow up ?
[State -1, Wolverine Flip]
type = Varset
trigger1 = !time
var(15) = 0
;Wolverine Flip follow up ?
[State -1, Wolverine Flip]
type = Varset
trigger1 = !time
var(16) = 0
[State -1, Wolverine Flip BWD]
type = Varset
trigger1 = time>=1
trigger1 = (command = "qcba") || (command = "qcbb") || (command = "qcbc")
var(15) = (command = "qcba") + 2*(command = "qcbb") + 3*(command = "qcbc")
[State -1, Wolverine Flip BWD]
type = Varset
trigger1 = time>=1
trigger1 = (command = "qcba") || (command = "qcbb") || (command = "qcbc")
var(16) = 1
[State -1, Wolverine Flip FWD]
type = Varset
trigger1 = time>=1
trigger1 = (command = "qcfa") || (command = "qcfb") || (command = "qcfc")
var(15) = (command = "qcfa") + 2*(command = "qcfb") + 3*(command = "qcfc")

;Dash Elbow variable
[State 800, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0

[state 1215, Smoke FX]
type = explod
trigger1 = !time
anim = 1206+(var(2)=0)
id = 1206
pos = 0,0
postype = P1
sprpriority = 3
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 1
scale = .8,.8

[State 240, 1]
type = VelMul
trigger1 = animelemtime(6)>0
X = 0.9

[State 115, dash Sound]
type = PlaySnd
trigger1 = time=0
value = 100,0

[State 450, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 2

[State 420, 3]
type = HitDef
trigger1 = animelem=2
trigger2 = animelem=3 && !movecontact
trigger3 = animelem=4 && !movecontact
trigger4 = animelem=5 && !movecontact
attr = S, NA
damage = 55,0
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,7
sparkno = s7030
guard.sparkno = s7000
sparkxy = -0,-55
hitsound   = s5, 5
guardsound = S6,1
animtype = Hard
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -8
guard.velocity = -4
air.velocity =-4,-4
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5

;Wolverine Flip BWD
[State -1, Wolverine Flip BWD]
type = changestate
triggerall = var(15)>0 && var(16)=1
trigger1 = movecontact
value = 1100

;Wolverine Flip FWD
[State -1, Wolverine Flip FWD]
type = changestate
triggerall = var(15)>0 && var(16)=0
trigger1 = movecontact
value = 1200

[State 100, snd]
type = playsnd
trigger1 = animelemtime(7)=0
value = 5,8
persistent = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; DASH ELBOW START (dash back)

[Statedef 301]
type    = A
physics = N
ctrl = 0
anim = ifelse(prevstateno=1302,106,105)
sprpriority = 1

;Dash Elbow variable
[State 800, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0
[State 800, VarSet]
type = VarSet
triggerall = time > 0
trigger1 = command = "z"
trigger2 = command = "BBz"
var(3) = 1

[State 4001, Fall]
type = VelAdd
trigger1 = 1
Y = .55

[State 100, jump SND]
type = playsnd
trigger1 = !time
value = 40,1

[State 8000, flash]
type = PalFX
trigger1 = prevstateno= 1300
trigger2 = prevstateno= 1301
time = 0

[State 105, 1];lower vels wrt normal back dash
type = VelSet
trigger1 = Time = 0
x = .6*const(velocity.run.back.x)
y = .5*const(velocity.run.back.y)

[State 105, 2]
type = AssertSpecial
trigger1 = Time >= 2
flag = noairguard

[State 105, 3]; to landing
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;-----------------------------------------------------------------------
; DASH BACK (land)

[Statedef 302]
type    = S
physics = S
ctrl = 0
anim = 47

[State 106, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 4];To Dash Elbow
type = ChangeState
trigger1 = Time = 2
value = 300
ctrl = 0

;---------------------------------------------------------------------------
; CROUCH LIGHT PUNCH

[Statedef 400]
type = C
movetype = A
physics = C
anim = 400
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
juggle = 7

[State 200, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=1 && random<200
value = 3,random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=1 && random<200
value = 4,random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=1 && random<200
value = 3,50+random%5
channel = 0
volume = 300

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = MA
animtype = light
priority = 2, Hit
damage    = 18,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-33
hitsound   = s5,0
guardsound = S6,0
ground.type = low
ground.slidetime = 8;7
ground.hittime = 8;7
ground.velocity = -2.5  ;-3
guard.velocity = -4.5
air.velocity = -2,-2
air.animtype = back
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 3000, basics limiter]
type = helper
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 400, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(command != "holddown")
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH MEDIUM PUNCH

[StateDef 410]
type = C
movetype = A
physics = C
anim = 410
ctrl = 0
velset = 0,0
poweradd = 10
sprpriority = 3
juggle = 7

[State 210, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1= animelem=3 && random<350
value=3,10+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=3 && random<350
value = 4,10+random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=3 && random<350
value = 3,60+random%2
channel = 0
volume = 300

[State 410, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = C, NA
damage    = 31,0
animtype  = Medium
priority = 3, Hit
hitflag = MAF
guardflag = MA
pausetime = 12,12
guard.pausetime = 12,12
sparkno = s7020
guard.sparkno = s7000
sparkxy = -10,-30
hitsound   = s5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = -3  ;-4
guard.velocity = -6
air.velocity = -2,-1.2
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 3000, basics limiter]
type = helper
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 410, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(command != "holddown")
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH STRONG PUNCH

[Statedef 420]
type = S
movetype = A
physics = S
anim = 420
ctrl = 0
velset = 0,0
poweradd = 20
sprpriority = 3
juggle = 7

[State 220, voice snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=1 && random<500
value = 3,20+random%2
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=1 && random<500
value = 4,20+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=1 && random<500
value = 3,70+random%2
channel = 0
volume = 300

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2
channel = 1

[State 420, 3]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 38,0
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 15,15
guard.pausetime = 15,15
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-65
hitsound   = s5, 2
guardsound = S6,1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -1,-11.5
guard.velocity = -9
air.velocity = ifelse(p2movetype=H,-3,-1),ifelse(p2movetype=H,-5,-10)
fall = 1
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.45

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH STRONG PUNCH - COMBO'D

[Statedef 421]
type = S
movetype = A
physics = S
anim = 421
ctrl = 0
velset = 0,0
poweradd = 20
sprpriority = 3
juggle = 7

[State 220, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=2 && random<500
value = 3,20+random%2
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=2 && random<500
value = 4,20+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=2 && random<500
value = 3,70+random%2
channel = 0
volume = 300

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2
channel = 1

[State 420, 3]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 38,0
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 15,15
guard.pausetime = 15,15
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-65
hitsound   = s5, 2
guardsound = S6,1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -1,-11.5
guard.velocity = -9
air.velocity = ifelse(p2movetype=H,-3,-1),ifelse(p2movetype=H,-5,-10)
fall = 1
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.45

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH LIGHT KICK

[Statedef 430]
type = C
movetype = A
physics = C
anim = 430
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
juggle = 7

[State 200, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=2 && random<200
value = 3,random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=2 && random<200
value = 4,random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=2 && random<200
value = 3,50+random%5
channel = 0
volume = 300

[State 430, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 3

[State 430, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAFD
guardflag = L
damage    = 16,0
animtype = light
priority = 2, Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-10
hitsound   = s5,3
guardsound = s6,0
ground.type = low
ground.slidetime = 8;7
ground.hittime = 8;7
ground.velocity = -2.5  ;-3
guard.velocity = -4.5
air.velocity = -2,-5
air.animtype = back
air.hittime = 4
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 3000, basics limiter]
type = helper
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 430, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(command != "holddown")
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH MEDIUM KICK [DONE]

[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd = 10
ctrl = 0
velset = 0,0
anim = 440
sprpriority = 3

[State 210, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1= animelem=2 && random<350
value=3,10+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=2 && random<350
value = 4,10+random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=2 && random<350
value = 3,60+random%2
channel = 0
volume = 300

[State 440, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 4

[State 440, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = C, NA
damage    = 23,0
animtype  = Medium
hitflag = MAFD
guardflag = L
pausetime = 12,12
guard.pausetime = 12,12
sparkno = s7020
guard.sparkno = s7000
sparkxy = -20,-40
hitsound   = s5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = -3  ;-4
guard.velocity = -6
air.velocity = -2,-1
down.velocity = -3,0
down.hittime = 20
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
fall.recover = 0
air.animtype = back
yaccel = 0.5
ID = 1098

[State 3000, basics limiter]
type = helper
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 440, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(command != "holddown")
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH STRONG KICK

[Statedef 450]
type = C
movetype = A
physics = C
anim = 450
ctrl = 0
velset = 0,0
poweradd = 20
sprpriority = 3

[State 220, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=3 && random<500
value = 3,20+random%2
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=3 && random<500
value = 4,20+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=3 && random<500
value = 3,70+random%2
channel = 0
volume = 300

[State 450, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 5

[State 4000, ToAir]
type = ChangeState
trigger1 = AnimTime = 0
value = 451
ctrl = 0

;---------------------
[StateDef 451]; c.SK in air
type = U
movetype = A
physics = N
ctrl = 0
anim = 451
poweradd = 0
juggle = 7

[State 6000, VelIni]
type = VelSet
trigger1 = Time = 0
X = 8
Y = -4.5

[State 6000, ToAir]
type = StateTypeSet
trigger1 = Time = 0
statetype = A

[State 450, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 5

[State 4001, Stop]
type = VelAdd
trigger1 = time>5 && time<10
Y = -0.7

[state 1215, Rising Effect]
type = explod
trigger1 = !time && prevstateno=450
anim = 1216+var(2)
id = 1216
pos = -70,8
postype = P1
sprpriority = -3
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[State 450, 3]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3 & MoveContact = 0
trigger3 = AnimElem = 4 & MoveContact = 0
attr = C, NA
animtype = Back
priority = 4, Hit
damage    = 47,0
hitflag = MAF
guardflag = L
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-50
hitsound   = s5,5
guardsound = s6,1
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -2,-3
guard.velocity = -9
air.velocity = -3,-1
guard.velocity = -2
getpower= ifelse(p2movetype=H,40,210)
givepower = 35,35
yaccel = 0.5

[State 4001, AirFriction]
type = VelMul
trigger1 = Vel X !=0 && time%2
x = 0.96

[State 4001, Fall]
type = VelAdd
trigger1 = Anim = 451 && (vel Y < 0)
Y = .55

[State 4001, Fall]
type = VelAdd
trigger1 = (Vel Y > 0)
Y = .4

[State 4001, Return&Landing]
type = ChangeAnim
trigger1 = Anim = 451
trigger1 = Pos Y >= 0 && time>6
value = 452

[State 4001, Stop]
type = VelSet
trigger1 = Vel Y > abs(Pos Y)
Y = 0

[State 4001, Stop]
type = VelSet
trigger1 = anim = 452
X = 0

[State 4001, Replace]
type = PosSet
trigger1 = Vel Y = 0
trigger2 = pos Y > 10
Y = 0

[State 4001, ToGround]
type = StateTypeSet
trigger1 = Anim = 452
persistent = 0
statetype = S
physics = N

[State 17100, Landing Sound]
type = PlaySnd
trigger1 = anim=452
value = 40, 0
persistent = 0

[state 17100, twirl FX]
type=explod
trigger1 = Anim = 452
anim=17100
id=17100
pos=7,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,1

[State 4001, End]
type = ChangeState
trigger1 = Anim = 452
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; SLIDING KICK (running)

[Statedef 455]
type = S
movetype = A
physics = N
anim = 455
ctrl = 0
poweradd = 20
sprpriority = 3
juggle = 7
velset = const(velocity.run.fwd.x),0

[State 240, 1]
type = VelMul
trigger1 = 1
X = 0.95

[State 240, 1]
type = PosAdd
trigger1 = animelem = 3
X = 20

[State 220, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=3 && random<500
value = 3,20+random%2
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=3 && random<500
value = 4,20+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=3 && random<500
value = 3,70+random%2
channel = 0
volume = 300

[State 450, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 5

[State 420, 3]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 41,0
hitflag = MAF
guardflag = L
priority = 4, Hit
pausetime = 15,15
guard.pausetime = 15,12
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-30
hitsound   = s5, 5
guardsound = S6,1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -1,-8
guard.velocity = -4
air.velocity = ifelse(p2movetype=H,-3,-1),ifelse(p2movetype=H,-5,-10)
fall = 1
fall.recover = 0
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.45

[State 4001, End];Super jump
type = ChangeState
triggerall = command="holdup"
trigger1 = (AnimElemTime(6) >= 0) && movehit
value = 50

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; JUMP LIGHT PUNCH

[Statedef 600]
type = A
movetype = A
physics = A
anim = 600
ctrl = 0
poweradd = 0
sprpriority = 2
juggle = 2

[State 200, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=1 && random<200
value = 3,random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=1 && random<200
value = 4,random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=1 && random<200
value = 3,50+random%5
channel = 0
volume = 300

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0

[State 600, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAF
damage    = 16,0
guardflag = HA
animtype = Light
priority = 3, Hit
priority = 3
pausetime = 9,11
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime  = 15
ground.velocity = -3
air.velocity = -2,-4
airguard.cornerpush.veloff= 0
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
fall = numhelper(15999)

[State 3000, basics limiter]
type = helper
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 1

;---------------------------------------------------------------------------
; JUMP MEDIUM PUNCH

[Statedef 610]
type    = A
movetype = A
physics = A
juggle = 2
poweradd = 10
ctrl = 0
anim = 610
sprpriority = 3

[State 210, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1= animelem=3 && random<350
value=3,10+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=3 && random<350
value = 4,10+random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=3 && random<350
value = 3,60+random%2
channel = 0
volume = 300

[State 610, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 610, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
damage = 25,0
guardflag = HA
hitflag = MAF
animtype  = Medium
priority = 3,Hit
pausetime = 11,15
sparkno = s7020
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4   ;-5
air.velocity = -2,-4
airguard.cornerpush.veloff= 0
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (numhelper(15999) || prevstateno=600 || prevstateno=630)

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 1

;---------------------------------------------------------------------------
; JUMP MEDIUM PUNCH COMBO

[Statedef 615]
type    = A
movetype = A
physics = A
juggle = 0
poweradd = 10
ctrl = 0
anim = 615
sprpriority = 3

[State 210, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1= animelem=1 && random<350
value=3,10+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=1 && random<350
value = 4,10+random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=1 && random<350
value = 3,60+random%2
channel = 0
volume = 300

[State 610, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1

[State 610, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 20,0
guardflag = HA
hitflag = MAF
animtype  = Medium
priority = 3,Hit
pausetime = 11,15
sparkno = s7020
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2   ;-5
air.velocity = -2,0
airguard.cornerpush.veloff= 0
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (numhelper(15999) || prevstateno=610 || prevstateno=640)

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50;ifelse(vel X >= 0,50,116)
ctrl = 1

;---------------------------------------------------------------------------
; JUMP STRONG PUNCH

[Statedef 620]
type = A
movetype = A
physics = A
anim = 620
ctrl = 0
poweradd = 20
sprpriority = 2
juggle = ifelse(p2statetype=A,3,15)

[State 220, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=3 && random<500
value = 3,20+random%2
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=3 && random<500
value = 4,20+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=3 && random<500
value = 3,70+random%2
channel = 0
volume = 300

[State 620, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2

[State 620, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
damage = 45,0
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 16,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -30,-50
hitsound   = s5,2
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -7,7
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (numhelper(15999) || prevstateno=600 || prevstateno=630 || prevstateno=610 || prevstateno=640)
air.fall = 1
fall.recover = 0

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 0

;---------------------------------------------------------------------------
; JUMP LIGHT KICK

[Statedef 630]
type = A
movetype = A
physics = A
anim = 630
ctrl = 0
poweradd = 0
sprpriority = 2
juggle = 2

[State 200, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = anim=630 && animelem=1 && random<200
value = 3,random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = anim=630 && animelem=1 && random<200
value = 4,random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = anim=630 && animelem=1 && random<200
value = 3,50+random%5
channel = 0
volume = 300

[State 630, 1]
type = PlaySnd
trigger1 = anim=630 && AnimElem = 3
value = 0, 3

[State 630, 2]
type = HitDef
trigger1 = anim=630 && AnimElem = 3
attr = A, NA
damage = 20,0
hitflag = MAF
guardflag = HA
animtype = Light
priority = 3, Hit
pausetime = 9,11
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-50
hitsound = s5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 8  ;6
ground.hittime  = 15
ground.velocity = -3  ;-4
air.velocity = -2,-3
airguard.cornerpush.veloff= 0
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
fall = numhelper(15999)

;[State 1400, velocity alteration]
;type = VelAdd
;trigger1 = anim=630 && animelemtime(3)>=0 && command="holddown"
;Y = 0.2
;[State 1400, velocity alteration]
;type = VelAdd
;trigger1 = anim=630 && animelemtime(3)>=0 && command="holdup"
;Y = -0.15

[State 1400, Hold to stay in LK]
type = ChangeAnim
trigger1 = anim=630 && animelemtime(3)>=4 && command!="hold_a"
value = 631

[State 1400, EndState]
type = ChangeState
trigger1 = anim=631 && !animtime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; JUMP MEDIUM KICK

[Statedef 640]
type    = A
movetype = A
physics = A
juggle = 2
poweradd= 10
ctrl = 0
anim = 640
sprpriority = 2

[State 210, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1= animelem=1 && random<350
value=3,10+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=1 && random<350
value = 4,10+random%5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=1 && random<350
value = 3,60+random%2
channel = 0
volume = 300

[State 640, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 4

[State 640, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 29,0
guardflag = HA
hitflag = MAF
animtype  = Medium
priority = 3,Hit
sparkno = s7010
guard.sparkno = s7000
sparkxy = -20,-50
hitsound   = s5,4
guardsound = S6,0
ground.type = High
pausetime = 11,15
guard.pausetime = 11,12
ground.slidetime = 8
ground.hittime = 15
ground.velocity = -4  ;-8
air.velocity = -2,-2
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (numhelper(15999) || prevstateno=600 || prevstateno=630)

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 1

;---------------------------------------------------------------------------
; JUMP STRONG KICK

[Statedef 650]
type = A
movetype = A
physics = A
anim = 650
ctrl = 0
poweradd = 20
sprpriority = 2
juggle = ifelse(p2statetype=A,3,15)

[State 220, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=2 && random<500
value = 3,20+random%2
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=2 && random<500
value = 4,20+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=2 && random<500
value = 3,70+random%2
channel = 0
volume = 300

[State varset];a.HK juggle limiter
type = VarSet
trigger1 = !time && var(6)>0
var(7) = 1

[State 650, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 5

[State 650, 3];opponent on ground
type = HitDef
triggerall = p2statetype != A
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5 && !movecontact
trigger3 = AnimElem = 6 && !movecontact
trigger4 = AnimElem = 7 && !movecontact
attr = A, NA
damage = 43,0
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 16,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -30,-55
hitsound   = s5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -6,8
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5

[State 650, 3];Opponent in air sent to custom bounce state
type = HitDef
triggerall = p2statetype = A && var(7)=0
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5 && !movecontact
trigger3 = AnimElem = 6 && !movecontact
trigger4 = AnimElem = 7 && !movecontact
attr = A, NA
damage = 38,0
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 12,12
sparkno = s7030
guard.sparkno = s7000
sparkxy = -30,-55
hitsound   = s5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -6,8
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.35
p2stateno = 651

[State 650, 3];Opponent in air with bounce juggling limiter
type = HitDef
triggerall = p2statetype=A && var(7)=1
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5 && !movecontact
trigger3 = AnimElem = 6 && !movecontact
trigger4 = AnimElem = 7 && !movecontact
attr = A, NA
damage = 38,0
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 16,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -30,-55
hitsound   = s5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -6,8
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5

[State varset]
type = VarSet
trigger1 = p2stateno = 651
var(6) = 1

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 0


;===========================================================================
; <<<<< CLOSE EXPLOSION >>>>>
; Grab state : 800
; Vegeta throws : 801
; P2 thrown state : 802
;===========================================================================

[Statedef 800]
type = S
movetype = A
physics = S
juggle = 15
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1
facep2 = 1
poweradd = 20

[State 800, Don't Guard]
type = attackdist
trigger1 = 1
value = 0

[State 800, hit]
type = hitdef
trigger1 = animelem=4 && !var(38)
attr = S,NT
hitflag = M- 
priority = 1,Miss 
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 801
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1
[State 200, missed voice]
type = PlaySnd
trigger1 = animelem = 5
value = 5000+(var(55)=1),0
channel = 0

[State Idle]
type = statetypeset
trigger1 = animelemtime(5)>=0
movetype = I

[State 800, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;----------------------------
;Vegeta's State (explosion)
[Statedef 801]
type = S
movetype = A
physics = S
anim = 801
ctrl = 0
sprpriority = 1

[State 200, "Eat This" voice]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 1000,1+random%2
channel = 0
volume = 300

[State 200, random Jap "Take it" voice]
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = !time
value = 1002,random%5
channel = 0
volume = 300

[State 200, "Eat This" voice]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = !time
value = 1003,0
channel = 0
volume = 300

[State 1000]
type = width
trigger1 = anim = 801
value = 55,30

[State Throw]
type = targetstate
trigger1 = !time
value = 802

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 1,0
value = 1

[State 810, bind]
type=targetbind
trigger1= animelemtime(1)>=0 && animelemtime(7)<0
pos = 55,0

[state 1215, Flash FX]
type = explod
trigger1 = animelemtime(3)=0
anim = 804
id = 804
pos = 0,0
postype = P1
sprpriority = 5
ownpal = 1
removetime = 16
persistent = 0
ignorehitpause = 0
bindtime = -1

[state 1215, Explosion FX]
type = explod
trigger1 = animelemtime(3)=0
anim = 2512
id = 2512
pos = 45,-60
postype = P1
sprpriority = 6
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 0
bindtime = -1

[State 13100, explosion sound]
type = playsnd
trigger1 = animelemtime(3)=0
value = 1000,0
volume = 355

[State 13100, explosion sound]
type = playsnd
trigger1 = animelemtime(3)=0
value = 2511,0
volume = 355

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 7
value = 803

[State 810, hurt]
type = poweradd
trigger1 = animelemtime(3)=0
value = 180

[State 810, Normal throw]
type = TargetLifeAdd
trigger1 = prevstateno = 800
trigger1 = animelemtime(3)=0
value = -65

[State 810, Wolverine follow-up]
type = TargetLifeAdd
trigger1 = prevstateno = 1130
trigger1 = animelemtime(3)=0
value = -35

[State 810, Dash Collision]
type = TargetLifeAdd
trigger1 = prevstateno = 951
trigger1 = animelemtime(3)=0
value = -86

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;----------------------------
;Enemy Thrown State
[Statedef 802]
type = S
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 1,0
value = 1

[State 802, anim]
type = changeanim2
trigger1 = !time
value = 802

[State 820, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

[State 801, end]
type = selfstate
trigger1 = !animtime
value = 5100
ctrl = 0

;----------------------------
;Enemy Thrown State 2 - in air
[Statedef 803]
type    = A
movetype= H
physics = N
velset = -8,-5
poweradd = 40

[State 802, anim]
type = changeanim2
trigger1 = !time
value = 803

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 810, Hurt 11]
type = PowerAdd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 35

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;===========================================================================
; <<<<< SUPLEX >>>>>
; Grab state : 810
; Vegeta throws : 811
; P2 thrown state : 812
;===========================================================================

[Statedef 810]
type = S
movetype = A
physics = S
juggle = 15
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1
facep2 = 1
poweradd = 20

[State 800, Don't Guard]
type = attackdist
trigger1 = 1
value = 0

[State 800, hit]
type = hitdef
trigger1 = animelem=4 && !var(38)
attr = S,NT
hitflag = M- 
priority = 1,Miss 
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 811
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1
[State 200, missed voice]
type = PlaySnd
trigger1 = animelem = 5
value = 5000+(var(55)=1),0
channel = 0

[State Idle]
type = statetypeset
trigger1 = animelemtime(5)>=0
movetype = I

[State 800, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;----------------------------
;Vegeta's State (suplex)
[Statedef 811]
type = S
movetype = A
physics = S
anim = 811
ctrl = 0
sprpriority = -1

[State 220, snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 3,20+random%2
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = !time
value = 4,20+random%4
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = !time
value = 3,70+random%2
channel = 0
volume = 300

[State 1000]
type = width
trigger1 = anim = 811
value = 55,30

[State Throw]
type = targetstate
trigger1 = !time
value = 812

[state 1215, Front Arm]
type = explod
trigger1 = !time
anim = 810
id = 810
pos = 0,0
postype = P1
sprpriority = 2
ownpal = 1
removetime = 19
persistent = 0
ignorehitpause = 0
bindtime = -1

[State Throw]
type = sprpriority
trigger1 = AnimElemTime(4) >= 0
value = 3

[State 820, 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = ceil(30 * const(size.xScale)),0
[State 820, 2]
type = TargetBind
trigger1 = AnimElemTime(2)>=0 && AnimElemTime(3)<0
pos = ceil(30 * const(size.xScale)),ceil(-40 * const(size.yScale))
[State 820, TargetBind 2]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = ceil(30 * const(size.xScale)),ceil(-40 * const(size.yScale))
[State 820, TargetBind 3]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = ceil(-20 * const(size.xScale)),ceil(-80 * const(size.yScale))
[State 820, TargetBind 4]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = ceil(-60 * const(size.xScale)),ceil(-20 * const(size.yScale))

[State 200, throw sound]
type = PlaySnd
trigger1 = animelem = 4
value = 20,2
volume = 150

[State 200, hit ground sound]
type = PlaySnd
trigger1 = animelem = 5
value = 800,2

[State 650, hit ground FX]
type = Explod
trigger1 = animelemtime(5)=0
anim = 17200
pos = -60,0
postype = p1
ignorehitpause = 1
persistent = 0
sprpriority = -5
ownpal = 1

[State 810, hurt]
type = poweradd
trigger1 = animelemtime(5)=0
value = 180
[State 810, Normal throw]
type = TargetLifeAdd
trigger1 = animelemtime(5)=0
value = -60
[State 810, hurt]
type = targetpoweradd
trigger1 = animelemtime(5)=0
value = 35

[State 820, EnvShake]
type = EnvShake
trigger1 = animelemtime(5)=0
time = 14
ampl = -4
freq = 120

[State 820, Throw]
type = TargetState
trigger1 = NumTarget && AnimElemTime(6) = 0
value = 813

[State 1400, Turn at end]
type = Turn
trigger1 = animelemtime(12)=0
;trigger1 = !animtime

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;--------------------------------------
;P2 thrown State (suplex)

[StateDef 812]
type = S
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 1,0
value = 1

[State 825, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 812

[State 825, Turn]
type = Turn
trigger1 = animelemtime(2) = 0

;--------------------------------------
;P2 After Throw
[StateDef 813]
type = A
physics = N
movetype = H
ctrl = 0
velSet = -4.5,-6
sprPriority = 0

[State 827, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 813

[State 827, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
moveCamera = 1,0
ignoreHitPause = 1

[State 827, VelAdd]
type = VelAdd
Trigger1 = 1
y = 0.5

[State 827, End]
type = SelfState
trigger1 = pos y > -vel y
value = 5100
